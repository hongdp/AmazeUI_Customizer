function () {
  function a(a, b) {
    try {
      for (var c in b)Object.defineProperty(a.prototype, c, {value: b[c], enumerable: !1})
    } catch (d) {
      a.prototype = b
    }
  }

  function b(a) {
    for (var b = -1, c = a.length, d = []; ++b < c;)d.push(a[b]);
    return d
  }

  function c(a) {
    return Array.prototype.slice.call(a)
  }

  function e() {
  }

  function f(a) {
    return a
  }

  function g() {
    return this
  }

  function h() {
    return !0
  }

  function i(a) {
    return "function" == typeof a ? a : function () {
      return a
    }
  }

  function j(a, b, c) {
    return function () {
      var d = c.apply(b, arguments);
      return arguments.length ? a : d
    }
  }

  function k(a) {
    return null != a && !isNaN(a)
  }

  function l(a) {
    return a.length
  }

  function m(a) {
    return null == a
  }

  function n(a) {
    return a.replace(/(^\s+)|(\s+$)/g, "").replace(/\s+/g, " ")
  }

  function o(a) {
    for (var b = 1; a * b % 1;)b *= 10;
    return b
  }

  function p() {
  }

  function q(a) {
    function b() {
      for (var b, d = c, e = -1, f = d.length; ++e < f;)(b = d[e].on) && b.apply(this, arguments);
      return a
    }

    var c = [], d = new e;
    return b.on = function (b, e) {
      var f, g = d.get(b);
      return arguments.length < 2 ? g && g.on : (g && (g.on = null, c = c.slice(0, f = c.indexOf(g)).concat(c.slice(f + 1)), d.remove(b)), e && c.push(d.set(b, {on: e})), a)
    }, b
  }

  function r(a, b) {
    return b - (a ? 1 + Math.floor(Math.log(a + Math.pow(10, 1 + Math.floor(Math.log(a) / Math.LN10) - b)) / Math.LN10) : 1)
  }

  function s(a) {
    return a + ""
  }

  function t(a) {
    for (var b = a.lastIndexOf("."), c = b >= 0 ? a.substring(b) : (b = a.length, ""), d = []; b > 0;)d.push(a.substring(b -= 3, b + 3));
    return d.reverse().join(",") + c
  }

  function u(a, b) {
    return {scale: Math.pow(10, 3 * (8 - b)), symbol: a}
  }

  function v(a) {
    return function (b) {
      return 0 >= b ? 0 : b >= 1 ? 1 : a(b)
    }
  }

  function w(a) {
    return function (b) {
      return 1 - a(1 - b)
    }
  }

  function x(a) {
    return function (b) {
      return .5 * (.5 > b ? a(2 * b) : 2 - a(2 - 2 * b))
    }
  }

  function y(a) {
    return a
  }

  function z(a) {
    return function (b) {
      return Math.pow(b, a)
    }
  }

  function A(a) {
    return 1 - Math.cos(a * Math.PI / 2)
  }

  function B(a) {
    return Math.pow(2, 10 * (a - 1))
  }

  function C(a) {
    return 1 - Math.sqrt(1 - a * a)
  }

  function D(a, b) {
    var c;
    return arguments.length < 2 && (b = .45), arguments.length < 1 ? (a = 1, c = b / 4) : c = b / (2 * Math.PI) * Math.asin(1 / a), function (d) {
      return 1 + a * Math.pow(2, 10 * -d) * Math.sin(2 * (d - c) * Math.PI / b)
    }
  }

  function E(a) {
    return a || (a = 1.70158), function (b) {
      return b * b * ((a + 1) * b - a)
    }
  }

  function F(a) {
    return 1 / 2.75 > a ? 7.5625 * a * a : 2 / 2.75 > a ? 7.5625 * (a -= 1.5 / 2.75) * a + .75 : 2.5 / 2.75 > a ? 7.5625 * (a -= 2.25 / 2.75) * a + .9375 : 7.5625 * (a -= 2.625 / 2.75) * a + .984375
  }

  function G() {
    d3.event.stopPropagation(), d3.event.preventDefault()
  }

  function H() {
    for (var a, b = d3.event; a = b.sourceEvent;)b = a;
    return b
  }

  function I(a) {
    for (var b = new p, c = 0, d = arguments.length; ++c < d;)b[arguments[c]] = q(b);
    return b.of = function (c, d) {
      return function (e) {
        try {
          var f = e.sourceEvent = d3.event;
          e.target = a, d3.event = e, b[e.type].apply(c, d)
        } finally {
          d3.event = f
        }
      }
    }, b
  }

  function J(a) {
    return "transform" == a ? d3.interpolateTransform : d3.interpolate
  }

  function K(a, b) {
    return b = b - (a = +a) ? 1 / (b - a) : 0, function (c) {
      return (c - a) * b
    }
  }

  function L(a, b) {
    return b = b - (a = +a) ? 1 / (b - a) : 0, function (c) {
      return Math.max(0, Math.min(1, (c - a) * b))
    }
  }

  function M(a, b, c) {
    return new N(a, b, c)
  }

  function N(a, b, c) {
    this.r = a, this.g = b, this.b = c
  }

  function O(a) {
    return 16 > a ? "0" + Math.max(0, a).toString(16) : Math.min(255, a).toString(16)
  }

  function P(a, b, c) {
    var d, e, f, g = 0, h = 0, i = 0;
    if (d = /([a-z]+)\((.*)\)/i.exec(a))switch (e = d[2].split(","), d[1]) {
      case"hsl":
        return c(parseFloat(e[0]), parseFloat(e[1]) / 100, parseFloat(e[2]) / 100);
      case"rgb":
        return b(R(e[0]), R(e[1]), R(e[2]))
    }
    return (f = Me.get(a)) ? b(f.r, f.g, f.b) : (null != a && "#" === a.charAt(0) && (4 === a.length ? (g = a.charAt(1), g += g, h = a.charAt(2), h += h, i = a.charAt(3), i += i) : 7 === a.length && (g = a.substring(1, 3), h = a.substring(3, 5), i = a.substring(5, 7)), g = parseInt(g, 16), h = parseInt(h, 16), i = parseInt(i, 16)), b(g, h, i))
  }

  function Q(a, b, c) {
    var d, e, f = Math.min(a /= 255, b /= 255, c /= 255), g = Math.max(a, b, c), h = g - f, i = (g + f) / 2;
    return h ? (e = .5 > i ? h / (g + f) : h / (2 - g - f), d = a == g ? (b - c) / h + (c > b ? 6 : 0) : b == g ? (c - a) / h + 2 : (a - b) / h + 4, d *= 60) : e = d = 0, S(d, e, i)
  }

  function R(a) {
    var b = parseFloat(a);
    return "%" === a.charAt(a.length - 1) ? Math.round(2.55 * b) : b
  }

  function S(a, b, c) {
    return new T(a, b, c)
  }

  function T(a, b, c) {
    this.h = a, this.s = b, this.l = c
  }

  function U(a, b, c) {
    function d(a) {
      return a > 360 ? a -= 360 : 0 > a && (a += 360), 60 > a ? f + (g - f) * a / 60 : 180 > a ? g : 240 > a ? f + (g - f) * (240 - a) / 60 : f
    }

    function e(a) {
      return Math.round(255 * d(a))
    }

    var f, g;
    return a %= 360, 0 > a && (a += 360), b = 0 > b ? 0 : b > 1 ? 1 : b, c = 0 > c ? 0 : c > 1 ? 1 : c, g = .5 >= c ? c * (1 + b) : c + b - c * b, f = 2 * c - g, M(e(a + 120), e(a), e(a - 120))
  }

  function V(a) {
    return xe(a, Se), a
  }

  function W(a) {
    return function () {
      return Ne(a, this)
    }
  }

  function X(a) {
    return function () {
      return Oe(a, this)
    }
  }

  function Y(a, b) {
    function c() {
      if (b = this.classList)return b.add(a);
      var b = this.className, c = null != b.baseVal, d = c ? b.baseVal : b;
      f.lastIndex = 0, f.test(d) || (d = n(d + " " + a), c ? b.baseVal = d : this.className = d)
    }

    function d() {
      if (b = this.classList)return b.remove(a);
      var b = this.className, c = null != b.baseVal, d = c ? b.baseVal : b;
      d = n(d.replace(f, " ")), c ? b.baseVal = d : this.className = d
    }

    function e() {
      (b.apply(this, arguments) ? c : d).call(this)
    }

    var f = new RegExp("(^|\\s+)" + d3.requote(a) + "(\\s+|$)", "g");
    if (arguments.length < 2) {
      var g = this.node();
      if (h = g.classList)return h.contains(a);
      var h = g.className;
      return f.lastIndex = 0, f.test(null != h.baseVal ? h.baseVal : h)
    }
    return this.each("function" == typeof b ? e : b ? c : d)
  }

  function Z(a) {
    return {__data__: a}
  }

  function $(a) {
    return function () {
      return Re(this, a)
    }
  }

  function _(a) {
    return arguments.length || (a = d3.ascending), function (b, c) {
      return a(b && b.__data__, c && c.__data__)
    }
  }

  function ab(a) {
    return xe(a, Ve), a
  }

  function bb(a, b, c) {
    xe(a, Xe);
    var d = new e, f = d3.dispatch("start", "end"), g = df;
    return a.id = b, a.time = c, a.tween = function (b, c) {
      return arguments.length < 2 ? d.get(b) : (null == c ? d.remove(b) : d.set(b, c), a)
    }, a.ease = function (b) {
      return arguments.length ? (g = "function" == typeof b ? b : d3.ease.apply(d3, arguments), a) : g
    }, a.each = function (b, c) {
      return arguments.length < 2 ? eb.call(a, b) : (f.on(b, c), a)
    }, d3.timer(function (e) {
      return a.each(function (h, i, j) {
        function k(a) {
          return r.active > b ? m() : (r.active = b, d.forEach(function (a, b) {
            (b = b.call(o, h, i)) && n.push(b)
          }), f.start.call(o, h, i), l(a) || d3.timer(l, 0, c), 1)
        }

        function l(a) {
          if (r.active !== b)return m();
          for (var c = (a - p) / q, d = g(c), e = n.length; e > 0;)n[--e].call(o, d);
          return c >= 1 ? (m(), Ze = b, f.end.call(o, h, i), Ze = 0, 1) : void 0
        }

        function m() {
          return --r.count || delete o.__transition__, 1
        }

        var n = [], o = this, p = a[j][i].delay, q = a[j][i].duration, r = o.__transition__ || (o.__transition__ = {
            active: 0,
            count: 0
          });
        ++r.count, e >= p ? k(e) : d3.timer(k, p, c)
      }), 1
    }, 0, c), a
  }

  function cb(a, b, c) {
    return "" != c && We
  }

  function db(a, b) {
    function c(a, c, d) {
      var f = b.call(this, a, c);
      return null == f ? "" != d && We : d != f && e(d, f)
    }

    function d(a, c, d) {
      return d != b && e(d, b)
    }

    var e = J(a);
    return "function" == typeof b ? c : null == b ? cb : (b += "", d)
  }

  function eb(a) {
    var b = Ze, c = df, d = bf, e = cf;
    Ze = this.id, df = this.ease();
    for (var f = 0, g = this.length; g > f; f++)for (var h = this[f], i = 0, j = h.length; j > i; i++) {
      var k = h[i];
      k && (bf = this[f][i].delay, cf = this[f][i].duration, a.call(k = k.node, k.__data__, i, f))
    }
    return Ze = b, df = c, bf = d, cf = e, this
  }

  function fb() {
    for (var a, b = Date.now(), c = gf; c;)a = b - c.then, a >= c.delay && (c.flush = c.callback(a)), c = c.next;
    var d = gb() - b;
    d > 24 ? (isFinite(d) && (clearTimeout(ff), ff = setTimeout(fb, d)), ef = 0) : (ef = 1, hf(fb))
  }

  function gb() {
    for (var a = null, b = gf, c = 1 / 0; b;)b.flush ? b = a ? a.next = b.next : gf = b.next : (c = Math.min(c, b.then + b.delay), b = (a = b).next);
    return c
  }

  function hb(a) {
    var b = [a.a, a.b], c = [a.c, a.d], d = jb(b), e = ib(b, c), f = jb(kb(c, b, -e)) || 0;
    b[0] * c[1] < c[0] * b[1] && (b[0] *= -1, b[1] *= -1, d *= -1, e *= -1), this.rotate = (d ? Math.atan2(b[1], b[0]) : Math.atan2(-c[0], c[1])) * jf, this.translate = [a.e, a.f], this.scale = [d, f], this.skew = f ? Math.atan2(e, f) * jf : 0
  }

  function ib(a, b) {
    return a[0] * b[0] + a[1] * b[1]
  }

  function jb(a) {
    var b = Math.sqrt(ib(a, a));
    return b && (a[0] /= b, a[1] /= b), b
  }

  function kb(a, b, c) {
    return a[0] += c * b[0], a[1] += c * b[1], a
  }

  function lb(a, b) {
    var c = a.ownerSVGElement || a;
    if (c.createSVGPoint) {
      var d = c.createSVGPoint();
      if (0 > kf && (window.scrollX || window.scrollY)) {
        c = d3.select(document.body).append("svg").style("position", "absolute").style("top", 0).style("left", 0);
        var e = c[0][0].getScreenCTM();
        kf = !(e.f || e.e), c.remove()
      }
      return kf ? (d.x = b.pageX, d.y = b.pageY) : (d.x = b.clientX, d.y = b.clientY), d = d.matrixTransform(a.getScreenCTM().inverse()), [d.x, d.y]
    }
    var f = a.getBoundingClientRect();
    return [b.clientX - f.left - a.clientLeft, b.clientY - f.top - a.clientTop]
  }

  function mb(a) {
    var b = a[0], c = a[a.length - 1];
    return c > b ? [b, c] : [c, b]
  }

  function nb(a) {
    return a.rangeExtent ? a.rangeExtent() : mb(a.range())
  }

  function ob(a, b) {
    var c, d = 0, e = a.length - 1, f = a[d], g = a[e];
    return f > g && (c = d, d = e, e = c, c = f, f = g, g = c), (c = g - f) && (b = b(c), a[d] = b.floor(f), a[e] = b.ceil(g)), a
  }

  function pb() {
    return Math
  }

  function qb(a, b, c, d) {
    function e() {
      var e = Math.min(a.length, b.length) > 2 ? xb : wb, i = d ? L : K;
      return g = e(a, b, i, c), h = e(b, a, i, d3.interpolate), f
    }

    function f(a) {
      return g(a)
    }

    var g, h;
    return f.invert = function (a) {
      return h(a)
    }, f.domain = function (b) {
      return arguments.length ? (a = b.map(Number), e()) : a
    }, f.range = function (a) {
      return arguments.length ? (b = a, e()) : b
    }, f.rangeRound = function (a) {
      return f.range(a).interpolate(d3.interpolateRound)
    }, f.clamp = function (a) {
      return arguments.length ? (d = a, e()) : d
    }, f.interpolate = function (a) {
      return arguments.length ? (c = a, e()) : c
    }, f.ticks = function (b) {
      return ub(a, b)
    }, f.tickFormat = function (b) {
      return vb(a, b)
    }, f.nice = function () {
      return ob(a, sb), e()
    }, f.copy = function () {
      return qb(a, b, c, d)
    }, e()
  }

  function rb(a, b) {
    return d3.rebind(a, b, "range", "rangeRound", "interpolate", "clamp")
  }

  function sb(a) {
    return a = Math.pow(10, Math.round(Math.log(a) / Math.LN10) - 1), {
      floor: function (b) {
        return Math.floor(b / a) * a
      }, ceil: function (b) {
        return Math.ceil(b / a) * a
      }
    }
  }

  function tb(a, b) {
    var c = mb(a), d = c[1] - c[0], e = Math.pow(10, Math.floor(Math.log(d / b) / Math.LN10)), f = b / d * e;
    return .15 >= f ? e *= 10 : .35 >= f ? e *= 5 : .75 >= f && (e *= 2), c[0] = Math.ceil(c[0] / e) * e, c[1] = Math.floor(c[1] / e) * e + .5 * e, c[2] = e, c
  }

  function ub(a, b) {
    return d3.range.apply(d3, tb(a, b))
  }

  function vb(a, b) {
    return d3.format(",." + Math.max(0, -Math.floor(Math.log(tb(a, b)[2]) / Math.LN10 + .01)) + "f")
  }

  function wb(a, b, c, d) {
    var e = c(a[0], a[1]), f = d(b[0], b[1]);
    return function (a) {
      return f(e(a))
    }
  }

  function xb(a, b, c, d) {
    var e = [], f = [], g = 0, h = Math.min(a.length, b.length) - 1;
    for (a[h] < a[0] && (a = a.slice().reverse(), b = b.slice().reverse()); ++g <= h;)e.push(c(a[g - 1], a[g])), f.push(d(b[g - 1], b[g]));
    return function (b) {
      var c = d3.bisect(a, b, 1, h) - 1;
      return f[c](e[c](b))
    }
  }

  function yb(a, b) {
    function c(c) {
      return a(b(c))
    }

    var d = b.pow;
    return c.invert = function (b) {
      return d(a.invert(b))
    }, c.domain = function (e) {
      return arguments.length ? (b = e[0] < 0 ? Ab : zb, d = b.pow, a.domain(e.map(b)), c) : a.domain().map(d)
    }, c.nice = function () {
      return a.domain(ob(a.domain(), pb)), c
    }, c.ticks = function () {
      var c = mb(a.domain()), e = [];
      if (c.every(isFinite)) {
        var f = Math.floor(c[0]), g = Math.ceil(c[1]), h = d(c[0]), i = d(c[1]);
        if (b === Ab)for (e.push(d(f)); f++ < g;)for (var j = 9; j > 0; j--)e.push(d(f) * j); else {
          for (; g > f; f++)for (var j = 1; 10 > j; j++)e.push(d(f) * j);
          e.push(d(f))
        }
        for (f = 0; e[f] < h; f++);
        for (g = e.length; e[g - 1] > i; g--);
        e = e.slice(f, g)
      }
      return e
    }, c.tickFormat = function (a, e) {
      if (arguments.length < 2 && (e = lf), arguments.length < 1)return e;
      var f, g = a / c.ticks().length, h = b === Ab ? (f = -1e-12, Math.floor) : (f = 1e-12, Math.ceil);
      return function (a) {
        return a / d(h(b(a) + f)) < g ? e(a) : ""
      }
    }, c.copy = function () {
      return yb(a.copy(), b)
    }, rb(c, a)
  }

  function zb(a) {
    return Math.log(0 > a ? 0 : a) / Math.LN10
  }

  function Ab(a) {
    return -Math.log(a > 0 ? 0 : -a) / Math.LN10
  }

  function Bb(a, b) {
    function c(b) {
      return a(d(b))
    }

    var d = Cb(b), e = Cb(1 / b);
    return c.invert = function (b) {
      return e(a.invert(b))
    }, c.domain = function (b) {
      return arguments.length ? (a.domain(b.map(d)), c) : a.domain().map(e)
    }, c.ticks = function (a) {
      return ub(c.domain(), a)
    }, c.tickFormat = function (a) {
      return vb(c.domain(), a)
    }, c.nice = function () {
      return c.domain(ob(c.domain(), sb))
    }, c.exponent = function (a) {
      if (!arguments.length)return b;
      var f = c.domain();
      return d = Cb(b = a), e = Cb(1 / b), c.domain(f)
    }, c.copy = function () {
      return Bb(a.copy(), b)
    }, rb(c, a)
  }

  function Cb(a) {
    return function (b) {
      return 0 > b ? -Math.pow(-b, a) : Math.pow(b, a)
    }
  }

  function Db(a, b) {
    function c(b) {
      return g[((f.get(b) || f.set(b, a.push(b))) - 1) % g.length]
    }

    function d(b, c) {
      return d3.range(a.length).map(function (a) {
        return b + c * a
      })
    }

    var f, g, h;
    return c.domain = function (d) {
      if (!arguments.length)return a;
      a = [], f = new e;
      for (var g, h = -1, i = d.length; ++h < i;)f.has(g = d[h]) || f.set(g, a.push(g));
      return c[b.t](b.x, b.p)
    }, c.range = function (a) {
      return arguments.length ? (g = a, h = 0, b = {t: "range", x: a}, c) : g
    }, c.rangePoints = function (e, f) {
      arguments.length < 2 && (f = 0);
      var i = e[0], j = e[1], k = (j - i) / (a.length - 1 + f);
      return g = d(a.length < 2 ? (i + j) / 2 : i + k * f / 2, k), h = 0, b = {t: "rangePoints", x: e, p: f}, c
    }, c.rangeBands = function (e, f) {
      arguments.length < 2 && (f = 0);
      var i = e[1] < e[0], j = e[i - 0], k = e[1 - i], l = (k - j) / (a.length + f);
      return g = d(j + l * f, l), i && g.reverse(), h = l * (1 - f), b = {t: "rangeBands", x: e, p: f}, c
    }, c.rangeRoundBands = function (e, f) {
      arguments.length < 2 && (f = 0);
      var i = e[1] < e[0], j = e[i - 0], k = e[1 - i], l = Math.floor((k - j) / (a.length + f)), m = k - j - (a.length - f) * l;
      return g = d(j + Math.round(m / 2), l), i && g.reverse(), h = Math.round(l * (1 - f)), b = {
        t: "rangeRoundBands",
        x: e,
        p: f
      }, c
    }, c.rangeBand = function () {
      return h
    }, c.rangeExtent = function () {
      return mb(b.x)
    }, c.copy = function () {
      return Db(a, b)
    }, c.domain(a)
  }

  function Eb(a, b) {
    function c() {
      var c = 0, f = (a.length, b.length);
      for (e = []; ++c < f;)e[c - 1] = d3.quantile(a, c / f);
      return d
    }

    function d(a) {
      return isNaN(a = +a) ? 0 / 0 : b[d3.bisect(e, a)]
    }

    var e;
    return d.domain = function (b) {
      return arguments.length ? (a = b.filter(function (a) {
        return !isNaN(a)
      }).sort(d3.ascending), c()) : a
    }, d.range = function (a) {
      return arguments.length ? (b = a, c()) : b
    }, d.quantiles = function () {
      return e
    }, d.copy = function () {
      return Eb(a, b)
    }, c()
  }

  function Fb(a, b, c) {
    function d(b) {
      return c[Math.max(0, Math.min(g, Math.floor(f * (b - a))))]
    }

    function e() {
      return f = c.length / (b - a), g = c.length - 1, d
    }

    var f, g;
    return d.domain = function (c) {
      return arguments.length ? (a = +c[0], b = +c[c.length - 1], e()) : [a, b]
    }, d.range = function (a) {
      return arguments.length ? (c = a, e()) : c
    }, d.copy = function () {
      return Fb(a, b, c)
    }, e()
  }

  function Gb(a) {
    function b(a) {
      return +a
    }

    return b.invert = b, b.domain = b.range = function (c) {
      return arguments.length ? (a = c.map(b), b) : a
    }, b.ticks = function (b) {
      return ub(a, b)
    }, b.tickFormat = function (b) {
      return vb(a, b)
    }, b.copy = function () {
      return Gb(a)
    }, b
  }

  function Hb(a) {
    return a.innerRadius
  }

  function Ib(a) {
    return a.outerRadius
  }

  function Jb(a) {
    return a.startAngle
  }

  function Kb(a) {
    return a.endAngle
  }

  function Lb(a) {
    function b(b) {
      function f() {
        k.push("M", g(a(l), j))
      }

      for (var h, k = [], l = [], m = -1, n = b.length, o = i(c), p = i(d); ++m < n;)e.call(this, h = b[m], m) ? l.push([+o.call(this, h, m), +p.call(this, h, m)]) : l.length && (f(), l = []);
      return l.length && f(), k.length ? k.join("") : null
    }

    var c = Mb, d = Nb, e = h, f = sf, g = Ob, j = .7;
    return b.x = function (a) {
      return arguments.length ? (c = a, b) : c
    }, b.y = function (a) {
      return arguments.length ? (d = a, b) : d
    }, b.defined = function (a) {
      return arguments.length ? (e = a, b) : e
    }, b.interpolate = function (a) {
      return arguments.length ? (tf.has(a += "") || (a = sf), g = tf.get(f = a), b) : f
    }, b.tension = function (a) {
      return arguments.length ? (j = a, b) : j
    }, b
  }

  function Mb(a) {
    return a[0]
  }

  function Nb(a) {
    return a[1]
  }

  function Ob(a) {
    for (var b = 0, c = a.length, d = a[0], e = [d[0], ",", d[1]]; ++b < c;)e.push("L", (d = a[b])[0], ",", d[1]);
    return e.join("")
  }

  function Pb(a) {
    for (var b = 0, c = a.length, d = a[0], e = [d[0], ",", d[1]]; ++b < c;)e.push("V", (d = a[b])[1], "H", d[0]);
    return e.join("")
  }

  function Qb(a) {
    for (var b = 0, c = a.length, d = a[0], e = [d[0], ",", d[1]]; ++b < c;)e.push("H", (d = a[b])[0], "V", d[1]);
    return e.join("")
  }

  function Rb(a, b) {
    return a.length < 4 ? Ob(a) : a[1] + Ub(a.slice(1, a.length - 1), Vb(a, b))
  }

  function Sb(a, b) {
    return a.length < 3 ? Ob(a) : a[0] + Ub((a.push(a[0]), a), Vb([a[a.length - 2]].concat(a, [a[1]]), b))
  }

  function Tb(a, b) {
    return a.length < 3 ? Ob(a) : a[0] + Ub(a, Vb(a, b))
  }

  function Ub(a, b) {
    if (b.length < 1 || a.length != b.length && a.length != b.length + 2)return Ob(a);
    var c = a.length != b.length, d = "", e = a[0], f = a[1], g = b[0], h = g, i = 1;
    if (c && (d += "Q" + (f[0] - 2 * g[0] / 3) + "," + (f[1] - 2 * g[1] / 3) + "," + f[0] + "," + f[1], e = a[1], i = 2), b.length > 1) {
      h = b[1], f = a[i], i++, d += "C" + (e[0] + g[0]) + "," + (e[1] + g[1]) + "," + (f[0] - h[0]) + "," + (f[1] - h[1]) + "," + f[0] + "," + f[1];
      for (var j = 2; j < b.length; j++, i++)f = a[i], h = b[j], d += "S" + (f[0] - h[0]) + "," + (f[1] - h[1]) + "," + f[0] + "," + f[1]
    }
    if (c) {
      var k = a[i];
      d += "Q" + (f[0] + 2 * h[0] / 3) + "," + (f[1] + 2 * h[1] / 3) + "," + k[0] + "," + k[1]
    }
    return d
  }

  function Vb(a, b) {
    for (var c, d = [], e = (1 - b) / 2, f = a[0], g = a[1], h = 1, i = a.length; ++h < i;)c = f, f = g, g = a[h], d.push([e * (g[0] - c[0]), e * (g[1] - c[1])]);
    return d
  }

  function Wb(a) {
    if (a.length < 3)return Ob(a);
    var b = 1, c = a.length, d = a[0], e = d[0], f = d[1], g = [e, e, e, (d = a[1])[0]], h = [f, f, f, d[1]], i = [e, ",", f];
    for (_b(i, g, h); ++b < c;)d = a[b], g.shift(), g.push(d[0]), h.shift(), h.push(d[1]), _b(i, g, h);
    for (b = -1; ++b < 2;)g.shift(), g.push(d[0]), h.shift(), h.push(d[1]), _b(i, g, h);
    return i.join("")
  }

  function Xb(a) {
    if (a.length < 4)return Ob(a);
    for (var b, c = [], d = -1, e = a.length, f = [0], g = [0]; ++d < 3;)b = a[d], f.push(b[0]), g.push(b[1]);
    for (c.push($b(wf, f) + "," + $b(wf, g)), --d; ++d < e;)b = a[d], f.shift(), f.push(b[0]), g.shift(), g.push(b[1]), _b(c, f, g);
    return c.join("")
  }

  function Yb(a) {
    for (var b, c, d = -1, e = a.length, f = e + 4, g = [], h = []; ++d < 4;)c = a[d % e], g.push(c[0]), h.push(c[1]);
    for (b = [$b(wf, g), ",", $b(wf, h)], --d; ++d < f;)c = a[d % e], g.shift(), g.push(c[0]), h.shift(), h.push(c[1]), _b(b, g, h);
    return b.join("")
  }

  function Zb(a, b) {
    for (var c, d, e = a.length - 1, f = a[0][0], g = a[0][1], h = a[e][0] - f, i = a[e][1] - g, j = -1; ++j <= e;)c = a[j], d = j / e, c[0] = b * c[0] + (1 - b) * (f + d * h), c[1] = b * c[1] + (1 - b) * (g + d * i);
    return Wb(a)
  }

  function $b(a, b) {
    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3]
  }

  function _b(a, b, c) {
    a.push("C", $b(uf, b), ",", $b(uf, c), ",", $b(vf, b), ",", $b(vf, c), ",", $b(wf, b), ",", $b(wf, c))
  }

  function ac(a, b) {
    return (b[1] - a[1]) / (b[0] - a[0])
  }

  function bc(a) {
    for (var b = 0, c = a.length - 1, d = [], e = a[0], f = a[1], g = d[0] = ac(e, f); ++b < c;)d[b] = g + (g = ac(e = f, f = a[b + 1]));
    return d[b] = g, d
  }

  function cc(a) {
    for (var b, c, d, e, f = [], g = bc(a), h = -1, i = a.length - 1; ++h < i;)b = ac(a[h], a[h + 1]), Math.abs(b) < 1e-6 ? g[h] = g[h + 1] = 0 : (c = g[h] / b, d = g[h + 1] / b, e = c * c + d * d, e > 9 && (e = 3 * b / Math.sqrt(e), g[h] = e * c, g[h + 1] = e * d));
    for (h = -1; ++h <= i;)e = (a[Math.min(i, h + 1)][0] - a[Math.max(0, h - 1)][0]) / (6 * (1 + g[h] * g[h])), f.push([e || 0, g[h] * e || 0]);
    return f
  }

  function dc(a) {
    return a.length < 3 ? Ob(a) : a[0] + Ub(a, cc(a))
  }

  function ec(a) {
    for (var b, c, d, e = -1, f = a.length; ++e < f;)b = a[e], c = b[0], d = b[1] + qf, b[0] = c * Math.cos(d), b[1] = c * Math.sin(d);
    return a
  }

  function fc(a) {
    function b(b) {
      function h() {
        q.push("M", k(a(s), n), m, l(a(r.reverse()), n), "Z")
      }

      for (var j, o, p, q = [], r = [], s = [], t = -1, u = b.length, v = i(c), w = i(e), x = c === d ? function () {
        return o
      } : i(d), y = e === f ? function () {
        return p
      } : i(f); ++t < u;)g.call(this, j = b[t], t) ? (r.push([o = +v.call(this, j, t), p = +w.call(this, j, t)]), s.push([+x.call(this, j, t), +y.call(this, j, t)])) : r.length && (h(), r = [], s = []);
      return r.length && h(), q.length ? q.join("") : null
    }

    var c = Mb, d = Mb, e = 0, f = Nb, g = h, j = sf, k = Ob, l = Ob, m = "L", n = .7;
    return b.x = function (a) {
      return arguments.length ? (c = d = a, b) : d
    }, b.x0 = function (a) {
      return arguments.length ? (c = a, b) : c
    }, b.x1 = function (a) {
      return arguments.length ? (d = a, b) : d
    }, b.y = function (a) {
      return arguments.length ? (e = f = a, b) : f
    }, b.y0 = function (a) {
      return arguments.length ? (e = a, b) : e
    }, b.y1 = function (a) {
      return arguments.length ? (f = a, b) : f
    }, b.defined = function (a) {
      return arguments.length ? (g = a, b) : g
    }, b.interpolate = function (a) {
      return arguments.length ? (tf.has(a += "") || (a = sf), k = tf.get(j = a), l = k.reverse || k, m = /-closed$/.test(a) ? "M" : "L", b) : j
    }, b.tension = function (a) {
      return arguments.length ? (n = a, b) : n
    }, b
  }

  function gc(a) {
    return a.source
  }

  function hc(a) {
    return a.target
  }

  function ic(a) {
    return a.radius
  }

  function jc(a) {
    return [a.x, a.y]
  }

  function kc(a) {
    return function () {
      var b = a.apply(this, arguments), c = b[0], d = b[1] + qf;
      return [c * Math.cos(d), c * Math.sin(d)]
    }
  }

  function lc() {
    return 64
  }

  function mc() {
    return "circle"
  }

  function nc(a) {
    var b = Math.sqrt(a / Math.PI);
    return "M0," + b + "A" + b + "," + b + " 0 1,1 0," + -b + "A" + b + "," + b + " 0 1,1 0," + b + "Z"
  }

  function oc(a, b) {
    a.attr("transform", function (a) {
      return "translate(" + b(a) + ",0)"
    })
  }

  function pc(a, b) {
    a.attr("transform", function (a) {
      return "translate(0," + b(a) + ")"
    })
  }

  function qc(a, b, c) {
    if (d = [], c && b.length > 1) {
      for (var d, e, f, g = mb(a.domain()), h = -1, i = b.length, j = (b[1] - b[0]) / ++c; ++h < i;)for (e = c; --e > 0;)(f = +b[h] - e * j) >= g[0] && d.push(f);
      for (--h, e = 0; ++e < c && (f = +b[h] + e * j) < g[1];)d.push(f)
    }
    return d
  }

  function rc() {
    Cf || (Cf = d3.select("body").append("div").style("visibility", "hidden").style("top", 0).style("height", 0).style("width", 0).style("overflow-y", "scroll").append("div").style("height", "2000px").node().parentNode);
    var a, b = d3.event;
    try {
      Cf.scrollTop = 1e3, Cf.dispatchEvent(b), a = 1e3 - Cf.scrollTop
    } catch (c) {
      a = b.wheelDelta || 5 * -b.detail
    }
    return a
  }

  function sc(a) {
    for (var b = a.source, c = a.target, d = uc(b, c), e = [b]; b !== d;)b = b.parent, e.push(b);
    for (var f = e.length; c !== d;)e.splice(f, 0, c), c = c.parent;
    return e
  }

  function tc(a) {
    for (var b = [], c = a.parent; null != c;)b.push(a), a = c, c = c.parent;
    return b.push(a), b
  }

  function uc(a, b) {
    if (a === b)return a;
    for (var c = tc(a), d = tc(b), e = c.pop(), f = d.pop(), g = null; e === f;)g = e, e = c.pop(), f = d.pop();
    return g
  }

  function vc(a) {
    a.fixed |= 2
  }

  function wc(a) {
    a !== Ff && (a.fixed &= 1)
  }

  function xc() {
    Ff.fixed &= 1, Ef = Ff = null
  }

  function yc() {
    Ff.px = d3.event.x, Ff.py = d3.event.y, Ef.resume()
  }

  function zc(a, b, c) {
    var d = 0, e = 0;
    if (a.charge = 0, !a.leaf)for (var f, g = a.nodes, h = g.length, i = -1; ++i < h;)f = g[i], null != f && (zc(f, b, c), a.charge += f.charge, d += f.charge * f.cx, e += f.charge * f.cy);
    if (a.point) {
      a.leaf || (a.point.x += Math.random() - .5, a.point.y += Math.random() - .5);
      var j = b * c[a.point.index];
      a.charge += a.pointCharge = j, d += j * a.point.x, e += j * a.point.y
    }
    a.cx = d / a.charge, a.cy = e / a.charge
  }

  function Ac() {
    return 20
  }

  function Bc() {
    return 1
  }

  function Cc(a) {
    return a.x
  }

  function Dc(a) {
    return a.y
  }

  function Ec(a, b, c) {
    a.y0 = b, a.y = c
  }

  function Fc(a) {
    return d3.range(a.length)
  }

  function Gc(a) {
    for (var b = -1, c = a[0].length, d = []; ++b < c;)d[b] = 0;
    return d
  }

  function Hc(a) {
    for (var b, c = 1, d = 0, e = a[0][1], f = a.length; f > c; ++c)(b = a[c][1]) > e && (d = c, e = b);
    return d
  }

  function Ic(a) {
    return a.reduce(Jc, 0)
  }

  function Jc(a, b) {
    return a + b[1]
  }

  function Kc(a, b) {
    return Lc(a, Math.ceil(Math.log(b.length) / Math.LN2 + 1))
  }

  function Lc(a, b) {
    for (var c = -1, d = +a[0], e = (a[1] - d) / b, f = []; ++c <= b;)f[c] = e * c + d;
    return f
  }

  function Mc(a) {
    return [d3.min(a), d3.max(a)]
  }

  function Nc(a, b) {
    return d3.rebind(a, b, "sort", "children", "value"), a.links = Rc, a.nodes = function (b) {
      return Jf = !0, (a.nodes = a)(b)
    }, a
  }

  function Oc(a) {
    return a.children
  }

  function Pc(a) {
    return a.value
  }

  function Qc(a, b) {
    return b.value - a.value
  }

  function Rc(a) {
    return d3.merge(a.map(function (a) {
      return (a.children || []).map(function (b) {
        return {source: a, target: b}
      })
    }))
  }

  function Sc(a, b) {
    return a.value - b.value
  }

  function Tc(a, b) {
    var c = a._pack_next;
    a._pack_next = b, b._pack_prev = a, b._pack_next = c, c._pack_prev = b
  }

  function Uc(a, b) {
    a._pack_next = b, b._pack_prev = a
  }

  function Vc(a, b) {
    var c = b.x - a.x, d = b.y - a.y, e = a.r + b.r;
    return e * e - c * c - d * d > .001
  }

  function Wc(a) {
    function b(a) {
      h = Math.min(a.x - a.r, h), i = Math.max(a.x + a.r, i), j = Math.min(a.y - a.r, j), k = Math.max(a.y + a.r, k)
    }

    var c, d, e, f, g, h = 1 / 0, i = -1 / 0, j = 1 / 0, k = -1 / 0, l = a.length;
    if (a.forEach(Xc), c = a[0], c.x = -c.r, c.y = 0, b(c), l > 1 && (d = a[1], d.x = d.r, d.y = 0, b(d), l > 2)) {
      e = a[2], _c(c, d, e), b(e), Tc(c, e), c._pack_prev = e, Tc(e, d), d = c._pack_next;
      for (var m = 3; l > m; m++) {
        _c(c, d, e = a[m]);
        var n = 0, o = 1, p = 1;
        for (f = d._pack_next; f !== d; f = f._pack_next, o++)if (Vc(f, e)) {
          n = 1;
          break
        }
        if (1 == n)for (g = c._pack_prev; g !== f._pack_prev && !Vc(g, e); g = g._pack_prev, p++);
        n ? (p > o || o == p && d.r < c.r ? Uc(c, d = f) : Uc(c = g, d), m--) : (Tc(c, e), d = e, b(e))
      }
    }
    for (var q = (h + i) / 2, r = (j + k) / 2, s = 0, m = 0; l > m; m++) {
      var t = a[m];
      t.x -= q, t.y -= r, s = Math.max(s, t.r + Math.sqrt(t.x * t.x + t.y * t.y))
    }
    return a.forEach(Yc), s
  }

  function Xc(a) {
    a._pack_next = a._pack_prev = a
  }

  function Yc(a) {
    delete a._pack_next, delete a._pack_prev
  }

  function Zc(a) {
    var b = a.children;
    b && b.length ? (b.forEach(Zc), a.r = Wc(b)) : a.r = Math.sqrt(a.value)
  }

  function $c(a, b, c, d) {
    var e = a.children;
    if (a.x = b += d * a.x, a.y = c += d * a.y, a.r *= d, e)for (var f = -1, g = e.length; ++f < g;)$c(e[f], b, c, d)
  }

  function _c(a, b, c) {
    var d = a.r + c.r, e = b.x - a.x, f = b.y - a.y;
    if (d && (e || f)) {
      var g = b.r + c.r, h = Math.sqrt(e * e + f * f), i = Math.max(-1, Math.min(1, (d * d + h * h - g * g) / (2 * d * h))), j = Math.acos(i), k = i * (d /= h), l = Math.sin(j) * d;
      c.x = a.x + k * e + l * f, c.y = a.y + k * f - l * e
    } else c.x = a.x + d, c.y = a.y
  }

  function ad(a) {
    return 1 + d3.max(a, function (a) {
        return a.y
      })
  }

  function bd(a) {
    return a.reduce(function (a, b) {
        return a + b.x
      }, 0) / a.length
  }

  function cd(a) {
    var b = a.children;
    return b && b.length ? cd(b[0]) : a
  }

  function dd(a) {
    var b, c = a.children;
    return c && (b = c.length) ? dd(c[b - 1]) : a
  }

  function ed(a, b) {
    return a.parent == b.parent ? 1 : 2
  }

  function fd(a) {
    var b = a.children;
    return b && b.length ? b[0] : a._tree.thread
  }

  function gd(a) {
    var b, c = a.children;
    return c && (b = c.length) ? c[b - 1] : a._tree.thread
  }

  function hd(a, b) {
    var c = a.children;
    if (c && (e = c.length))for (var d, e, f = -1; ++f < e;)b(d = hd(c[f], b), a) > 0 && (a = d);
    return a
  }

  function id(a, b) {
    return a.x - b.x
  }

  function jd(a, b) {
    return b.x - a.x
  }

  function kd(a, b) {
    return a.depth - b.depth
  }

  function ld(a, b) {
    function c(a, d) {
      var e = a.children;
      if (e && (g = e.length))for (var f, g, h = null, i = -1; ++i < g;)f = e[i], c(f, h), h = f;
      b(a, d)
    }

    c(a, null)
  }

  function md(a) {
    for (var b, c = 0, d = 0, e = a.children, f = e.length; --f >= 0;)b = e[f]._tree, b.prelim += c, b.mod += c, c += b.shift + (d += b.change)
  }

  function nd(a, b, c) {
    a = a._tree, b = b._tree;
    var d = c / (b.number - a.number);
    a.change += d, b.change -= d, b.shift += c, b.prelim += c, b.mod += c
  }

  function od(a, b, c) {
    return a._tree.ancestor.parent == b.parent ? a._tree.ancestor : c
  }

  function pd(a) {
    return {x: a.x, y: a.y, dx: a.dx, dy: a.dy}
  }

  function qd(a, b) {
    var c = a.x + b[3], d = a.y + b[0], e = a.dx - b[1] - b[3], f = a.dy - b[0] - b[2];
    return 0 > e && (c += e / 2, e = 0), 0 > f && (d += f / 2, f = 0), {x: c, y: d, dx: e, dy: f}
  }

  function rd(a) {
    return a.map(sd).join(",")
  }

  function sd(a) {
    return /[",\n]/.test(a) ? '"' + a.replace(/\"/g, '""') + '"' : a
  }

  function td(a, b) {
    return function (c) {
      return c && a.hasOwnProperty(c.type) ? a[c.type](c) : b
    }
  }

  function ud(a) {
    return "m0," + a + "a" + a + "," + a + " 0 1,1 0," + -2 * a + "a" + a + "," + a + " 0 1,1 0," + 2 * a + "z"
  }

  function vd(a, b) {
    Lf.hasOwnProperty(a.type) && Lf[a.type](a, b)
  }

  function wd(a, b) {
    vd(a.geometry, b)
  }

  function xd(a, b) {
    for (var c = a.features, d = 0, e = c.length; e > d; d++)vd(c[d].geometry, b)
  }

  function yd(a, b) {
    for (var c = a.geometries, d = 0, e = c.length; e > d; d++)vd(c[d], b)
  }

  function zd(a, b) {
    for (var c = a.coordinates, d = 0, e = c.length; e > d; d++)b.apply(null, c[d])
  }

  function Ad(a, b) {
    for (var c = a.coordinates, d = 0, e = c.length; e > d; d++)for (var f = c[d], g = 0, h = f.length; h > g; g++)b.apply(null, f[g])
  }

  function Bd(a, b) {
    for (var c = a.coordinates, d = 0, e = c.length; e > d; d++)for (var f = c[d][0], g = 0, h = f.length; h > g; g++)b.apply(null, f[g])
  }

  function Cd(a, b) {
    b.apply(null, a.coordinates)
  }

  function Dd(a, b) {
    for (var c = a.coordinates[0], d = 0, e = c.length; e > d; d++)b.apply(null, c[d])
  }

  function Ed(a) {
    return a.source
  }

  function Fd(a) {
    return a.target
  }

  function Gd(a, b) {
    function c(a) {
      var b = Math.sin(p - (a *= p)) / q, c = Math.sin(a) / q, d = b * h * e + c * n * k, g = b * h * f + c * n * l, j = b * i + c * o;
      return [Math.atan2(g, d) / Kf, Math.atan2(j, Math.sqrt(d * d + g * g)) / Kf]
    }

    var d = a[0] * Kf, e = Math.cos(d), f = Math.sin(d), g = a[1] * Kf, h = Math.cos(g), i = Math.sin(g), j = b[0] * Kf, k = Math.cos(j), l = Math.sin(j), m = b[1] * Kf, n = Math.cos(m), o = Math.sin(m), p = c.d = Math.acos(Math.max(-1, Math.min(1, i * o + h * n * Math.cos(j - d)))), q = Math.sin(p);
    return c
  }

  function Hd(a) {
    for (var b = 0, c = 0; ;) {
      if (a(b, c))return [b, c];
      0 === b ? (b = c + 1, c = 0) : (b -= 1, c += 1)
    }
  }

  function Id(a, b, c, d) {
    var e, f, g, h, i, j, k;
    return e = d[a], f = e[0], g = e[1], e = d[b], h = e[0], i = e[1], e = d[c], j = e[0], k = e[1], (k - g) * (h - f) - (i - g) * (j - f) > 0
  }

  function Jd(a, b, c) {
    return (c[0] - b[0]) * (a[1] - b[1]) < (c[1] - b[1]) * (a[0] - b[0])
  }

  function Kd(a, b, c, d) {
    var e = a[0], f = b[0], g = c[0], h = d[0], i = a[1], j = b[1], k = c[1], l = d[1], m = e - g, n = f - e, o = h - g, p = i - k, q = j - i, r = l - k, s = (o * p - r * m) / (r * n - o * q);
    return [e + s * n, i + s * q]
  }

  function Ld(a, b) {
    var c = {
      list: a.map(function (a, b) {
        return {index: b, x: a[0], y: a[1]}
      }).sort(function (a, b) {
        return a.y < b.y ? -1 : a.y > b.y ? 1 : a.x < b.x ? -1 : a.x > b.x ? 1 : 0
      }), bottomSite: null
    }, d = {
      list: [], leftEnd: null, rightEnd: null, init: function () {
        d.leftEnd = d.createHalfEdge(null, "l"), d.rightEnd = d.createHalfEdge(null, "l"), d.leftEnd.r = d.rightEnd, d.rightEnd.l = d.leftEnd, d.list.unshift(d.leftEnd, d.rightEnd)
      }, createHalfEdge: function (a, b) {
        return {edge: a, side: b, vertex: null, l: null, r: null}
      }, insert: function (a, b) {
        b.l = a, b.r = a.r, a.r.l = b, a.r = b
      }, leftBound: function (a) {
        var b = d.leftEnd;
        do b = b.r; while (b != d.rightEnd && e.rightOf(b, a));
        return b = b.l
      }, del: function (a) {
        a.l.r = a.r, a.r.l = a.l, a.edge = null
      }, right: function (a) {
        return a.r
      }, left: function (a) {
        return a.l
      }, leftRegion: function (a) {
        return null == a.edge ? c.bottomSite : a.edge.region[a.side]
      }, rightRegion: function (a) {
        return null == a.edge ? c.bottomSite : a.edge.region[Of[a.side]]
      }
    }, e = {
      bisect: function (a, b) {
        var c = {
          region: {l: a, r: b},
          ep: {l: null, r: null}
        }, d = b.x - a.x, e = b.y - a.y, f = d > 0 ? d : -d, g = e > 0 ? e : -e;
        return c.c = a.x * d + a.y * e + .5 * (d * d + e * e), f > g ? (c.a = 1, c.b = e / d, c.c /= d) : (c.b = 1, c.a = d / e, c.c /= e), c
      }, intersect: function (a, b) {
        var c = a.edge, d = b.edge;
        if (!c || !d || c.region.r == d.region.r)return null;
        var e = c.a * d.b - c.b * d.a;
        if (Math.abs(e) < 1e-10)return null;
        var f, g, h = (c.c * d.b - d.c * c.b) / e, i = (d.c * c.a - c.c * d.a) / e, j = c.region.r, k = d.region.r;
        j.y < k.y || j.y == k.y && j.x < k.x ? (f = a, g = c) : (f = b, g = d);
        var l = h >= g.region.r.x;
        return l && "l" === f.side || !l && "r" === f.side ? null : {x: h, y: i}
      }, rightOf: function (a, b) {
        var c = a.edge, d = c.region.r, e = b.x > d.x;
        if (e && "l" === a.side)return 1;
        if (!e && "r" === a.side)return 0;
        if (1 === c.a) {
          var f = b.y - d.y, g = b.x - d.x, h = 0, i = 0;
          if (!e && c.b < 0 || e && c.b >= 0 ? i = h = f >= c.b * g : (i = b.x + b.y * c.b > c.c, c.b < 0 && (i = !i), i || (h = 1)), !h) {
            var j = d.x - c.region.l.x;
            i = c.b * (g * g - f * f) < j * f * (1 + 2 * g / j + c.b * c.b), c.b < 0 && (i = !i)
          }
        } else {
          var k = c.c - c.a * b.x, l = b.y - k, m = b.x - d.x, n = k - d.y;
          i = l * l > m * m + n * n
        }
        return "l" === a.side ? i : !i
      }, endPoint: function (a, c, d) {
        a.ep[c] = d, a.ep[Of[c]] && b(a)
      }, distance: function (a, b) {
        var c = a.x - b.x, d = a.y - b.y;
        return Math.sqrt(c * c + d * d)
      }
    }, f = {
      list: [], insert: function (a, b, c) {
        a.vertex = b, a.ystar = b.y + c;
        for (var d = 0, e = f.list, g = e.length; g > d; d++) {
          var h = e[d];
          if (!(a.ystar > h.ystar || a.ystar == h.ystar && b.x > h.vertex.x))break
        }
        e.splice(d, 0, a)
      }, del: function (a) {
        for (var b = 0, c = f.list, d = c.length; d > b && c[b] != a; ++b);
        c.splice(b, 1)
      }, empty: function () {
        return 0 === f.list.length
      }, nextEvent: function (a) {
        for (var b = 0, c = f.list, d = c.length; d > b; ++b)if (c[b] == a)return c[b + 1];
        return null
      }, min: function () {
        var a = f.list[0];
        return {x: a.vertex.x, y: a.ystar}
      }, extractMin: function () {
        return f.list.shift()
      }
    };
    d.init(), c.bottomSite = c.list.shift();
    for (var g, h, i, j, k, l, m, n, o, p, q, r, s, t = c.list.shift(); ;)if (f.empty() || (g = f.min()), t && (f.empty() || t.y < g.y || t.y == g.y && t.x < g.x))h = d.leftBound(t), i = d.right(h), m = d.rightRegion(h), r = e.bisect(m, t), l = d.createHalfEdge(r, "l"), d.insert(h, l), p = e.intersect(h, l), p && (f.del(h), f.insert(h, p, e.distance(p, t))), h = l, l = d.createHalfEdge(r, "r"), d.insert(h, l), p = e.intersect(l, i), p && f.insert(l, p, e.distance(p, t)), t = c.list.shift(); else {
      if (f.empty())break;
      h = f.extractMin(), j = d.left(h), i = d.right(h), k = d.right(i), m = d.leftRegion(h), n = d.rightRegion(i), q = h.vertex, e.endPoint(h.edge, h.side, q), e.endPoint(i.edge, i.side, q), d.del(h), f.del(i), d.del(i), s = "l", m.y > n.y && (o = m, m = n, n = o, s = "r"), r = e.bisect(m, n), l = d.createHalfEdge(r, s), d.insert(j, l), e.endPoint(r, Of[s], q), p = e.intersect(j, l), p && (f.del(j), f.insert(j, p, e.distance(p, m))), p = e.intersect(l, k), p && f.insert(l, p, e.distance(p, m))
    }
    for (h = d.right(d.leftEnd); h != d.rightEnd; h = d.right(h))b(h.edge)
  }

  function Md() {
    return {leaf: !0, nodes: [], point: null}
  }

  function Nd(a, b, c, d, e, f) {
    if (!a(b, c, d, e, f)) {
      var g = .5 * (c + e), h = .5 * (d + f), i = b.nodes;
      i[0] && Nd(a, i[0], c, d, g, h), i[1] && Nd(a, i[1], g, d, e, h), i[2] && Nd(a, i[2], c, h, g, f), i[3] && Nd(a, i[3], g, h, e, f)
    }
  }

  function Od(a) {
    return {x: a[0], y: a[1]}
  }

  function Pd() {
    this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0])
  }

  function Qd(a, b, c, d) {
    for (var e, f, g = 0, h = b.length, i = c.length; h > g;) {
      if (d >= i)return -1;
      if (e = b.charCodeAt(g++), 37 == e) {
        if (f = Wf[b.charAt(g++)], !f || (d = f(a, c, d)) < 0)return -1
      } else if (e != c.charCodeAt(d++))return -1
    }
    return d
  }

  function Rd(a, b, c) {
    return Xf.test(b.substring(c, c += 3)) ? c : -1
  }

  function Sd(a, b, c) {
    Yf.lastIndex = 0;
    var d = Yf.exec(b.substring(c, c + 10));
    return d ? c += d[0].length : -1
  }

  function Td(a, b, c) {
    var d = $f.get(b.substring(c, c += 3).toLowerCase());
    return null == d ? -1 : (a.m = d, c)
  }

  function Ud(a, b, c) {
    _f.lastIndex = 0;
    var d = _f.exec(b.substring(c, c + 12));
    return d ? (a.m = ag.get(d[0].toLowerCase()), c += d[0].length) : -1
  }

  function Vd(a, b, c) {
    return Qd(a, Vf.c.toString(), b, c)
  }

  function Wd(a, b, c) {
    return Qd(a, Vf.x.toString(), b, c)
  }

  function Xd(a, b, c) {
    return Qd(a, Vf.X.toString(), b, c)
  }

  function Yd(a, b, c) {
    cg.lastIndex = 0;
    var d = cg.exec(b.substring(c, c + 4));
    return d ? (a.y = +d[0], c += d[0].length) : -1
  }

  function Zd(a, b, c) {
    cg.lastIndex = 0;
    var d = cg.exec(b.substring(c, c + 2));
    return d ? (a.y = $d() + +d[0], c += d[0].length) : -1
  }

  function $d() {
    return 1e3 * ~~((new Date).getFullYear() / 1e3)
  }

  function _d(a, b, c) {
    cg.lastIndex = 0;
    var d = cg.exec(b.substring(c, c + 2));
    return d ? (a.m = d[0] - 1, c += d[0].length) : -1
  }

  function ae(a, b, c) {
    cg.lastIndex = 0;
    var d = cg.exec(b.substring(c, c + 2));
    return d ? (a.d = +d[0], c += d[0].length) : -1
  }

  function be(a, b, c) {
    cg.lastIndex = 0;
    var d = cg.exec(b.substring(c, c + 2));
    return d ? (a.H = +d[0], c += d[0].length) : -1
  }

  function ce(a, b, c) {
    cg.lastIndex = 0;
    var d = cg.exec(b.substring(c, c + 2));
    return d ? (a.M = +d[0], c += d[0].length) : -1
  }

  function de(a, b, c) {
    cg.lastIndex = 0;
    var d = cg.exec(b.substring(c, c + 2));
    return d ? (a.S = +d[0], c += d[0].length) : -1
  }

  function ee(a, b, c) {
    cg.lastIndex = 0;
    var d = cg.exec(b.substring(c, c + 3));
    return d ? (a.L = +d[0], c += d[0].length) : -1
  }

  function fe(a, b, c) {
    var d = dg.get(b.substring(c, c += 2).toLowerCase());
    return null == d ? -1 : (a.p = d, c)
  }

  function ge(a) {
    var b = a.getTimezoneOffset(), c = b > 0 ? "-" : "+", d = ~~(Math.abs(b) / 60), e = Math.abs(b) % 60;
    return c + Rf(d) + Rf(e)
  }

  function he(a) {
    return a.toISOString()
  }

  function ie(a, b, c) {
    function d(b) {
      var c = a(b), d = f(c, 1);
      return d - b > b - c ? c : d
    }

    function e(c) {
      return b(c = a(new Pf(c - 1)), 1), c
    }

    function f(a, c) {
      return b(a = new Pf(+a), c), a
    }

    function g(a, d, f) {
      var g = e(a), h = [];
      if (f > 1)for (; d > g;)c(g) % f || h.push(new Date(+g)), b(g, 1); else for (; d > g;)h.push(new Date(+g)), b(g, 1);
      return h
    }

    function h(a, b, c) {
      try {
        Pf = Pd;
        var d = new Pd;
        return d._ = a, g(d, b, c)
      } finally {
        Pf = Date
      }
    }

    a.floor = a, a.round = d, a.ceil = e, a.offset = f, a.range = g;
    var i = a.utc = je(a);
    return i.floor = i, i.round = je(d), i.ceil = je(e), i.offset = je(f), i.range = h, a
  }

  function je(a) {
    return function (b, c) {
      try {
        Pf = Pd;
        var d = new Pd;
        return d._ = b, a(d, c)._
      } finally {
        Pf = Date
      }
    }
  }

  function ke(a, b, c) {
    function d(b) {
      return a(b)
    }

    return d.invert = function (b) {
      return me(a.invert(b))
    }, d.domain = function (b) {
      return arguments.length ? (a.domain(b), d) : a.domain().map(me)
    }, d.nice = function (a) {
      var b = le(d.domain());
      return d.domain([a.floor(b[0]), a.ceil(b[1])])
    }, d.ticks = function (c, e) {
      var f = le(d.domain());
      if ("function" != typeof c) {
        var g = f[1] - f[0], h = g / c, i = d3.bisect(fg, h);
        if (i == fg.length)return b.year(f, c);
        if (!i)return a.ticks(c).map(me);
        Math.log(h / fg[i - 1]) < Math.log(fg[i] / h) && --i, c = b[i], e = c[1], c = c[0].range
      }
      return c(f[0], new Date(+f[1] + 1), e)
    }, d.tickFormat = function () {
      return c
    }, d.copy = function () {
      return ke(a.copy(), b, c)
    }, d3.rebind(d, a, "range", "rangeRound", "interpolate", "clamp")
  }

  function le(a) {
    var b = a[0], c = a[a.length - 1];
    return c > b ? [b, c] : [c, b]
  }

  function me(a) {
    return new Date(a)
  }

  function ne(a) {
    return function (b) {
      for (var c = a.length - 1, d = a[c]; !d[1](b);)d = a[--c];
      return d[0](b)
    }
  }

  function oe(a) {
    var b = new Date(a, 0, 1);
    return b.setFullYear(a), b
  }

  function pe(a) {
    var b = a.getFullYear(), c = oe(b), d = oe(b + 1);
    return b + (a - c) / (d - c)
  }

  function qe(a) {
    var b = new Date(Date.UTC(a, 0, 1));
    return b.setUTCFullYear(a), b
  }

  function re(a) {
    var b = a.getUTCFullYear(), c = qe(b), d = qe(b + 1);
    return b + (a - c) / (d - c)
  }

  Date.now || (Date.now = function () {
    return +new Date
  });
  try {
    document.createElement("div").style.setProperty("opacity", 0, "")
  } catch (se) {
    var te = CSSStyleDeclaration.prototype, ue = te.setProperty;
    te.setProperty = function (a, b, c) {
      ue.call(this, a, b + "", c)
    }
  }
  d3 = {version: "2.9.1"};
  var ve = c;
  try {
    ve(document.documentElement.childNodes)[0].nodeType
  } catch (we) {
    ve = b
  }
  var xe = [].__proto__ ? function (a, b) {
    a.__proto__ = b
  } : function (a, b) {
    for (var c in b)a[c] = b[c]
  };
  d3.map = function (a) {
    var b = new e;
    for (var c in a)b.set(c, a[c]);
    return b
  }, a(e, {
    has: function (a) {
      return ye + a in this
    }, get: function (a) {
      return this[ye + a]
    }, set: function (a, b) {
      return this[ye + a] = b
    }, remove: function (a) {
      return a = ye + a, a in this && delete this[a]
    }, keys: function () {
      var a = [];
      return this.forEach(function (b) {
        a.push(b)
      }), a
    }, values: function () {
      var a = [];
      return this.forEach(function (b, c) {
        a.push(c)
      }), a
    }, entries: function () {
      var a = [];
      return this.forEach(function (b, c) {
        a.push({key: b, value: c})
      }), a
    }, forEach: function (a) {
      for (var b in this)b.charCodeAt(0) === ze && a.call(this, b.substring(1), this[b])
    }
  });
  var ye = "\0", ze = ye.charCodeAt(0);
  d3.functor = i, d3.rebind = function (a, b) {
    for (var c, d = 1, e = arguments.length; ++d < e;)a[c = arguments[d]] = j(a, b, b[c]);
    return a
  }, d3.ascending = function (a, b) {
    return b > a ? -1 : a > b ? 1 : a >= b ? 0 : 0 / 0
  }, d3.descending = function (a, b) {
    return a > b ? -1 : b > a ? 1 : b >= a ? 0 : 0 / 0
  }, d3.mean = function (a, b) {
    var c, d = a.length, e = 0, f = -1, g = 0;
    if (1 === arguments.length)for (; ++f < d;)k(c = a[f]) && (e += (c - e) / ++g); else for (; ++f < d;)k(c = b.call(a, a[f], f)) && (e += (c - e) / ++g);
    return g ? e : void 0
  }, d3.median = function (a, b) {
    return arguments.length > 1 && (a = a.map(b)), a = a.filter(k), a.length ? d3.quantile(a.sort(d3.ascending), .5) : void 0
  }, d3.min = function (a, b) {
    var c, d, e = -1, f = a.length;
    if (1 === arguments.length) {
      for (; ++e < f && (null == (c = a[e]) || c != c);)c = void 0;
      for (; ++e < f;)null != (d = a[e]) && c > d && (c = d)
    } else {
      for (; ++e < f && (null == (c = b.call(a, a[e], e)) || c != c);)c = void 0;
      for (; ++e < f;)null != (d = b.call(a, a[e], e)) && c > d && (c = d)
    }
    return c
  }, d3.max = function (a, b) {
    var c, d, e = -1, f = a.length;
    if (1 === arguments.length) {
      for (; ++e < f && (null == (c = a[e]) || c != c);)c = void 0;
      for (; ++e < f;)null != (d = a[e]) && d > c && (c = d)
    } else {
      for (; ++e < f && (null == (c = b.call(a, a[e], e)) || c != c);)c = void 0;
      for (; ++e < f;)null != (d = b.call(a, a[e], e)) && d > c && (c = d)
    }
    return c
  }, d3.extent = function (a, b) {
    var c, d, e, f = -1, g = a.length;
    if (1 === arguments.length) {
      for (; ++f < g && (null == (c = e = a[f]) || c != c);)c = e = void 0;
      for (; ++f < g;)null != (d = a[f]) && (c > d && (c = d), d > e && (e = d))
    } else {
      for (; ++f < g && (null == (c = e = b.call(a, a[f], f)) || c != c);)c = void 0;
      for (; ++f < g;)null != (d = b.call(a, a[f], f)) && (c > d && (c = d), d > e && (e = d))
    }
    return [c, e]
  }, d3.random = {
    normal: function (a, b) {
      return arguments.length < 2 && (b = 1), arguments.length < 1 && (a = 0), function () {
        var c, d, e;
        do c = 2 * Math.random() - 1, d = 2 * Math.random() - 1, e = c * c + d * d; while (!e || e > 1);
        return a + b * c * Math.sqrt(-2 * Math.log(e) / e)
      }
    }
  }, d3.sum = function (a, b) {
    var c, d = 0, e = a.length, f = -1;
    if (1 === arguments.length)for (; ++f < e;)isNaN(c = +a[f]) || (d += c); else for (; ++f < e;)isNaN(c = +b.call(a, a[f], f)) || (d += c);
    return d
  }, d3.quantile = function (a, b) {
    var c = (a.length - 1) * b + 1, d = Math.floor(c), e = a[d - 1], f = c - d;
    return f ? e + f * (a[d] - e) : e
  }, d3.transpose = function (a) {
    return d3.zip.apply(d3, a)
  }, d3.zip = function () {
    if (!(d = arguments.length))return [];
    for (var a = -1, b = d3.min(arguments, l), c = new Array(b); ++a < b;)for (var d, e = -1, f = c[a] = new Array(d); ++e < d;)f[e] = arguments[e][a];
    return c
  }, d3.bisector = function (a) {
    return {
      left: function (b, c, d, e) {
        for (arguments.length < 3 && (d = 0), arguments.length < 4 && (e = b.length); e > d;) {
          var f = d + e >> 1;
          a.call(b, b[f], f) < c ? d = f + 1 : e = f
        }
        return d
      }, right: function (b, c, d, e) {
        for (arguments.length < 3 && (d = 0), arguments.length < 4 && (e = b.length); e > d;) {
          var f = d + e >> 1;
          c < a.call(b, b[f], f) ? e = f : d = f + 1
        }
        return d
      }
    }
  };
  var Ae = d3.bisector(function (a) {
    return a
  });
  d3.bisectLeft = Ae.left, d3.bisect = d3.bisectRight = Ae.right, d3.first = function (a, b) {
    var c, d = 0, e = a.length, f = a[0];
    for (1 === arguments.length && (b = d3.ascending); ++d < e;)b.call(a, f, c = a[d]) > 0 && (f = c);
    return f
  }, d3.last = function (a, b) {
    var c, d = 0, e = a.length, f = a[0];
    for (1 === arguments.length && (b = d3.ascending); ++d < e;)b.call(a, f, c = a[d]) <= 0 && (f = c);
    return f
  }, d3.nest = function () {
    function a(b, h) {
      if (h >= g.length)return d ? d.call(f, b) : c ? b.sort(c) : b;
      for (var i, j, k, l = -1, m = b.length, n = g[h++], o = new e, p = {}; ++l < m;)(k = o.get(i = n(j = b[l]))) ? k.push(j) : o.set(i, [j]);
      return o.forEach(function (b) {
        p[b] = a(o.get(b), h)
      }), p
    }

    function b(a, c) {
      if (c >= g.length)return a;
      var d, e = [], f = h[c++];
      for (d in a)e.push({key: d, values: b(a[d], c)});
      return f && e.sort(function (a, b) {
        return f(a.key, b.key)
      }), e
    }

    var c, d, f = {}, g = [], h = [];
    return f.map = function (b) {
      return a(b, 0)
    }, f.entries = function (c) {
      return b(a(c, 0), 0)
    }, f.key = function (a) {
      return g.push(a), f
    }, f.sortKeys = function (a) {
      return h[g.length - 1] = a, f
    }, f.sortValues = function (a) {
      return c = a, f
    }, f.rollup = function (a) {
      return d = a, f
    }, f
  }, d3.keys = function (a) {
    var b = [];
    for (var c in a)b.push(c);
    return b
  }, d3.values = function (a) {
    var b = [];
    for (var c in a)b.push(a[c]);
    return b
  }, d3.entries = function (a) {
    var b = [];
    for (var c in a)b.push({key: c, value: a[c]});
    return b
  }, d3.permute = function (a, b) {
    for (var c = [], d = -1, e = b.length; ++d < e;)c[d] = a[b[d]];
    return c
  }, d3.merge = function (a) {
    return Array.prototype.concat.apply([], a)
  }, d3.split = function (a, b) {
    var c, d = [], e = [], f = -1, g = a.length;
    for (arguments.length < 2 && (b = m); ++f < g;)b.call(e, c = a[f], f) ? e = [] : (e.length || d.push(e), e.push(c));
    return d
  }, d3.range = function (a, b, c) {
    if (arguments.length < 3 && (c = 1, arguments.length < 2 && (b = a, a = 0)), 1 / 0 === (b - a) / c)throw new Error("infinite range");
    var d, e = [], f = o(Math.abs(c)), g = -1;
    if (a *= f, b *= f, c *= f, 0 > c)for (; (d = a + c * ++g) > b;)e.push(d / f); else for (; (d = a + c * ++g) < b;)e.push(d / f);
    return e
  }, d3.requote = function (a) {
    return a.replace(Be, "\\$&")
  };
  var Be = /[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;
  d3.round = function (a, b) {
    return b ? Math.round(a * (b = Math.pow(10, b))) / b : Math.round(a)
  }, d3.xhr = function (a, b, c) {
    var d = new XMLHttpRequest;
    arguments.length < 3 ? (c = b, b = null) : b && d.overrideMimeType && d.overrideMimeType(b), d.open("GET", a, !0), b && d.setRequestHeader("Accept", b), d.onreadystatechange = function () {
      if (4 === d.readyState) {
        var a = d.status;
        c(a >= 200 && 300 > a || 304 === a ? d : null)
      }
    }, d.send(null)
  }, d3.text = function (a, b, c) {
    function d(a) {
      c(a && a.responseText)
    }

    arguments.length < 3 && (c = b, b = null), d3.xhr(a, b, d)
  }, d3.json = function (a, b) {
    d3.text(a, "application/json", function (a) {
      b(a ? JSON.parse(a) : null)
    })
  }, d3.html = function (a, b) {
    d3.text(a, "text/html", function (a) {
      if (null != a) {
        var c = document.createRange();
        c.selectNode(document.body), a = c.createContextualFragment(a)
      }
      b(a)
    })
  }, d3.xml = function (a, b, c) {
    function d(a) {
      c(a && a.responseXML)
    }

    arguments.length < 3 && (c = b, b = null), d3.xhr(a, b, d)
  };
  var Ce = {
    svg: "http://www.w3.org/2000/svg",
    xhtml: "http://www.w3.org/1999/xhtml",
    xlink: "http://www.w3.org/1999/xlink",
    xml: "http://www.w3.org/XML/1998/namespace",
    xmlns: "http://www.w3.org/2000/xmlns/"
  };
  d3.ns = {
    prefix: Ce, qualify: function (a) {
      var b = a.indexOf(":"), c = a;
      return b >= 0 && (c = a.substring(0, b), a = a.substring(b + 1)), Ce.hasOwnProperty(c) ? {
        space: Ce[c],
        local: a
      } : a
    }
  }, d3.dispatch = function () {
    for (var a = new p, b = -1, c = arguments.length; ++b < c;)a[arguments[b]] = q(a);
    return a
  }, p.prototype.on = function (a, b) {
    var c = a.indexOf("."), d = "";
    return c > 0 && (d = a.substring(c + 1), a = a.substring(0, c)), arguments.length < 2 ? this[a].on(d) : this[a].on(d, b)
  }, d3.format = function (a) {
    var b = De.exec(a), c = b[1] || " ", d = b[3] || "", e = b[5], f = +b[6], g = b[7], h = b[8], i = b[9], j = 1, k = "", l = !1;
    switch (h && (h = +h.substring(1)), e && (c = "0", g && (f -= Math.floor((f - 1) / 4))), i) {
      case"n":
        g = !0, i = "g";
        break;
      case"%":
        j = 100, k = "%", i = "f";
        break;
      case"p":
        j = 100, k = "%", i = "r";
        break;
      case"d":
        l = !0, h = 0;
        break;
      case"s":
        j = -1, i = "r"
    }
    return "r" != i || h || (i = "g"), i = Ee.get(i) || s, function (a) {
      if (l && a % 1)return "";
      var b = 0 > a && (a = -a) ? "−" : d;
      if (0 > j) {
        var m = d3.formatPrefix(a, h);
        a *= m.scale, k = m.symbol
      } else a *= j;
      if (a = i(a, h), e) {
        var n = a.length + b.length;
        f > n && (a = new Array(f - n + 1).join(c) + a), g && (a = t(a)), a = b + a
      } else {
        g && (a = t(a)), a = b + a;
        var n = a.length;
        f > n && (a = new Array(f - n + 1).join(c) + a)
      }
      return a + k
    }
  };
  var De = /(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/, Ee = d3.map({
    g: function (a, b) {
      return a.toPrecision(b)
    }, e: function (a, b) {
      return a.toExponential(b)
    }, f: function (a, b) {
      return a.toFixed(b)
    }, r: function (a, b) {
      return d3.round(a, b = r(a, b)).toFixed(Math.max(0, Math.min(20, b)))
    }
  }), Fe = ["y", "z", "a", "f", "p", "n", "μ", "m", "", "k", "M", "G", "T", "P", "E", "Z", "Y"].map(u);
  d3.formatPrefix = function (a, b) {
    var c = 0;
    return a && (0 > a && (a *= -1), b && (a = d3.round(a, r(a, b))), c = 1 + Math.floor(1e-12 + Math.log(a) / Math.LN10), c = Math.max(-24, Math.min(24, 3 * Math.floor((0 >= c ? c + 1 : c - 1) / 3)))), Fe[8 + c / 3]
  };
  var Ge = z(2), He = z(3), Ie = function () {
    return y
  }, Je = d3.map({
    linear: Ie, poly: z, quad: function () {
      return Ge
    }, cubic: function () {
      return He
    }, sin: function () {
      return A
    }, exp: function () {
      return B
    }, circle: function () {
      return C
    }, elastic: D, back: E, bounce: function () {
      return F
    }
  }), Ke = d3.map({
    "in": y, out: w, "in-out": x, "out-in": function (a) {
      return x(w(a))
    }
  });
  d3.ease = function (a) {
    var b = a.indexOf("-"), c = b >= 0 ? a.substring(0, b) : a, d = b >= 0 ? a.substring(b + 1) : "in";
    return c = Je.get(c) || Ie, d = Ke.get(d) || y, v(d(c.apply(null, Array.prototype.slice.call(arguments, 1))))
  }, d3.event = null, d3.interpolate = function (a, b) {
    for (var c, d = d3.interpolators.length; --d >= 0 && !(c = d3.interpolators[d](a, b)););
    return c
  }, d3.interpolateNumber = function (a, b) {
    return b -= a, function (c) {
      return a + b * c
    }
  }, d3.interpolateRound = function (a, b) {
    return b -= a, function (c) {
      return Math.round(a + b * c)
    }
  }, d3.interpolateString = function (a, b) {
    var c, d, e, f, g, h = 0, i = 0, j = [], k = [];
    for (Le.lastIndex = 0, d = 0; c = Le.exec(b); ++d)c.index && j.push(b.substring(h, i = c.index)), k.push({
      i: j.length,
      x: c[0]
    }), j.push(null), h = Le.lastIndex;
    for (h < b.length && j.push(b.substring(h)), d = 0, f = k.length; (c = Le.exec(a)) && f > d; ++d)if (g = k[d], g.x == c[0]) {
      if (g.i)if (null == j[g.i + 1])for (j[g.i - 1] += g.x, j.splice(g.i, 1), e = d + 1; f > e; ++e)k[e].i--; else for (j[g.i - 1] += g.x + j[g.i + 1], j.splice(g.i, 2), e = d + 1; f > e; ++e)k[e].i -= 2; else if (null == j[g.i + 1])j[g.i] = g.x; else for (j[g.i] = g.x + j[g.i + 1], j.splice(g.i + 1, 1), e = d + 1; f > e; ++e)k[e].i--;
      k.splice(d, 1), f--, d--
    } else g.x = d3.interpolateNumber(parseFloat(c[0]), parseFloat(g.x));
    for (; f > d;)g = k.pop(), null == j[g.i + 1] ? j[g.i] = g.x : (j[g.i] = g.x + j[g.i + 1], j.splice(g.i + 1, 1)), f--;
    return 1 === j.length ? null == j[0] ? k[0].x : function () {
      return b
    } : function (a) {
      for (d = 0; f > d; ++d)j[(g = k[d]).i] = g.x(a);
      return j.join("")
    }
  }, d3.interpolateTransform = function (a, b) {
    var c, d = [], e = [], f = d3.transform(a), g = d3.transform(b), h = f.translate, i = g.translate, j = f.rotate, k = g.rotate, l = f.skew, m = g.skew, n = f.scale, o = g.scale;
    return h[0] != i[0] || h[1] != i[1] ? (d.push("translate(", null, ",", null, ")"), e.push({
      i: 1,
      x: d3.interpolateNumber(h[0], i[0])
    }, {
      i: 3,
      x: d3.interpolateNumber(h[1], i[1])
    })) : i[0] || i[1] ? d.push("translate(" + i + ")") : d.push(""), j != k ? e.push({
      i: d.push(d.pop() + "rotate(", null, ")") - 2,
      x: d3.interpolateNumber(j, k)
    }) : k && d.push(d.pop() + "rotate(" + k + ")"), l != m ? e.push({
      i: d.push(d.pop() + "skewX(", null, ")") - 2,
      x: d3.interpolateNumber(l, m)
    }) : m && d.push(d.pop() + "skewX(" + m + ")"), n[0] != o[0] || n[1] != o[1] ? (c = d.push(d.pop() + "scale(", null, ",", null, ")"), e.push({
      i: c - 4,
      x: d3.interpolateNumber(n[0], o[0])
    }, {
      i: c - 2,
      x: d3.interpolateNumber(n[1], o[1])
    })) : (1 != o[0] || 1 != o[1]) && d.push(d.pop() + "scale(" + o + ")"), c = e.length, function (a) {
      for (var b, f = -1; ++f < c;)d[(b = e[f]).i] = b.x(a);
      return d.join("")
    }
  }, d3.interpolateRgb = function (a, b) {
    a = d3.rgb(a), b = d3.rgb(b);
    var c = a.r, d = a.g, e = a.b, f = b.r - c, g = b.g - d, h = b.b - e;
    return function (a) {
      return "#" + O(Math.round(c + f * a)) + O(Math.round(d + g * a)) + O(Math.round(e + h * a))
    }
  }, d3.interpolateHsl = function (a, b) {
    a = d3.hsl(a), b = d3.hsl(b);
    var c = a.h, d = a.s, e = a.l, f = b.h - c, g = b.s - d, h = b.l - e;
    return function (a) {
      return U(c + f * a, d + g * a, e + h * a).toString()
    }
  }, d3.interpolateArray = function (a, b) {
    var c, d = [], e = [], f = a.length, g = b.length, h = Math.min(a.length, b.length);
    for (c = 0; h > c; ++c)d.push(d3.interpolate(a[c], b[c]));
    for (; f > c; ++c)e[c] = a[c];
    for (; g > c; ++c)e[c] = b[c];
    return function (a) {
      for (c = 0; h > c; ++c)e[c] = d[c](a);
      return e
    }
  }, d3.interpolateObject = function (a, b) {
    var c, d = {}, e = {};
    for (c in a)c in b ? d[c] = J(c)(a[c], b[c]) : e[c] = a[c];
    for (c in b)c in a || (e[c] = b[c]);
    return function (a) {
      for (c in d)e[c] = d[c](a);
      return e
    }
  };
  var Le = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;
  d3.interpolators = [d3.interpolateObject, function (a, b) {
    return b instanceof Array && d3.interpolateArray(a, b)
  }, function (a, b) {
    return ("string" == typeof a || "string" == typeof b) && d3.interpolateString(a + "", b + "")
  }, function (a, b) {
    return ("string" == typeof b ? Me.has(b) || /^(#|rgb\(|hsl\()/.test(b) : b instanceof N || b instanceof T) && d3.interpolateRgb(a, b)
  }, function (a, b) {
    return !isNaN(a = +a) && !isNaN(b = +b) && d3.interpolateNumber(a, b)
  }], d3.rgb = function (a, b, c) {
    return 1 === arguments.length ? a instanceof N ? M(a.r, a.g, a.b) : P("" + a, M, U) : M(~~a, ~~b, ~~c)
  }, N.prototype.brighter = function (a) {
    a = Math.pow(.7, arguments.length ? a : 1);
    var b = this.r, c = this.g, d = this.b, e = 30;
    return b || c || d ? (b && e > b && (b = e), c && e > c && (c = e), d && e > d && (d = e), M(Math.min(255, Math.floor(b / a)), Math.min(255, Math.floor(c / a)), Math.min(255, Math.floor(d / a)))) : M(e, e, e)
  }, N.prototype.darker = function (a) {
    return a = Math.pow(.7, arguments.length ? a : 1), M(Math.floor(a * this.r), Math.floor(a * this.g), Math.floor(a * this.b))
  }, N.prototype.hsl = function () {
    return Q(this.r, this.g, this.b)
  }, N.prototype.toString = function () {
    return "#" + O(this.r) + O(this.g) + O(this.b)
  };
  var Me = d3.map({
    aliceblue: "#f0f8ff",
    antiquewhite: "#faebd7",
    aqua: "#00ffff",
    aquamarine: "#7fffd4",
    azure: "#f0ffff",
    beige: "#f5f5dc",
    bisque: "#ffe4c4",
    black: "#000000",
    blanchedalmond: "#ffebcd",
    blue: "#0000ff",
    blueviolet: "#8a2be2",
    brown: "#a52a2a",
    burlywood: "#deb887",
    cadetblue: "#5f9ea0",
    chartreuse: "#7fff00",
    chocolate: "#d2691e",
    coral: "#ff7f50",
    cornflowerblue: "#6495ed",
    cornsilk: "#fff8dc",
    crimson: "#dc143c",
    cyan: "#00ffff",
    darkblue: "#00008b",
    darkcyan: "#008b8b",
    darkgoldenrod: "#b8860b",
    darkgray: "#a9a9a9",
    darkgreen: "#006400",
    darkgrey: "#a9a9a9",
    darkkhaki: "#bdb76b",
    darkmagenta: "#8b008b",
    darkolivegreen: "#556b2f",
    darkorange: "#ff8c00",
    darkorchid: "#9932cc",
    darkred: "#8b0000",
    darksalmon: "#e9967a",
    darkseagreen: "#8fbc8f",
    darkslateblue: "#483d8b",
    darkslategray: "#2f4f4f",
    darkslategrey: "#2f4f4f",
    darkturquoise: "#00ced1",
    darkviolet: "#9400d3",
    deeppink: "#ff1493",
    deepskyblue: "#00bfff",
    dimgray: "#696969",
    dimgrey: "#696969",
    dodgerblue: "#1e90ff",
    firebrick: "#b22222",
    floralwhite: "#fffaf0",
    forestgreen: "#228b22",
    fuchsia: "#ff00ff",
    gainsboro: "#dcdcdc",
    ghostwhite: "#f8f8ff",
    gold: "#ffd700",
    goldenrod: "#daa520",
    gray: "#808080",
    green: "#008000",
    greenyellow: "#adff2f",
    grey: "#808080",
    honeydew: "#f0fff0",
    hotpink: "#ff69b4",
    indianred: "#cd5c5c",
    indigo: "#4b0082",
    ivory: "#fffff0",
    khaki: "#f0e68c",
    lavender: "#e6e6fa",
    lavenderblush: "#fff0f5",
    lawngreen: "#7cfc00",
    lemonchiffon: "#fffacd",
    lightblue: "#add8e6",
    lightcoral: "#f08080",
    lightcyan: "#e0ffff",
    lightgoldenrodyellow: "#fafad2",
    lightgray: "#d3d3d3",
    lightgreen: "#90ee90",
    lightgrey: "#d3d3d3",
    lightpink: "#ffb6c1",
    lightsalmon: "#ffa07a",
    lightseagreen: "#20b2aa",
    lightskyblue: "#87cefa",
    lightslategray: "#778899",
    lightslategrey: "#778899",
    lightsteelblue: "#b0c4de",
    lightyellow: "#ffffe0",
    lime: "#00ff00",
    limegreen: "#32cd32",
    linen: "#faf0e6",
    magenta: "#ff00ff",
    maroon: "#800000",
    mediumaquamarine: "#66cdaa",
    mediumblue: "#0000cd",
    mediumorchid: "#ba55d3",
    mediumpurple: "#9370db",
    mediumseagreen: "#3cb371",
    mediumslateblue: "#7b68ee",
    mediumspringgreen: "#00fa9a",
    mediumturquoise: "#48d1cc",
    mediumvioletred: "#c71585",
    midnightblue: "#191970",
    mintcream: "#f5fffa",
    mistyrose: "#ffe4e1",
    moccasin: "#ffe4b5",
    navajowhite: "#ffdead",
    navy: "#000080",
    oldlace: "#fdf5e6",
    olive: "#808000",
    olivedrab: "#6b8e23",
    orange: "#ffa500",
    orangered: "#ff4500",
    orchid: "#da70d6",
    palegoldenrod: "#eee8aa",
    palegreen: "#98fb98",
    paleturquoise: "#afeeee",
    palevioletred: "#db7093",
    papayawhip: "#ffefd5",
    peachpuff: "#ffdab9",
    peru: "#cd853f",
    pink: "#ffc0cb",
    plum: "#dda0dd",
    powderblue: "#b0e0e6",
    purple: "#800080",
    red: "#ff0000",
    rosybrown: "#bc8f8f",
    royalblue: "#4169e1",
    saddlebrown: "#8b4513",
    salmon: "#fa8072",
    sandybrown: "#f4a460",
    seagreen: "#2e8b57",
    seashell: "#fff5ee",
    sienna: "#a0522d",
    silver: "#c0c0c0",
    skyblue: "#87ceeb",
    slateblue: "#6a5acd",
    slategray: "#708090",
    slategrey: "#708090",
    snow: "#fffafa",
    springgreen: "#00ff7f",
    steelblue: "#4682b4",
    tan: "#d2b48c",
    teal: "#008080",
    thistle: "#d8bfd8",
    tomato: "#ff6347",
    turquoise: "#40e0d0",
    violet: "#ee82ee",
    wheat: "#f5deb3",
    white: "#ffffff",
    whitesmoke: "#f5f5f5",
    yellow: "#ffff00",
    yellowgreen: "#9acd32"
  });
  Me.forEach(function (a, b) {
    Me.set(a, P(b, M, U))
  }), d3.hsl = function (a, b, c) {
    return 1 === arguments.length ? a instanceof T ? S(a.h, a.s, a.l) : P("" + a, Q, S) : S(+a, +b, +c)
  }, T.prototype.brighter = function (a) {
    return a = Math.pow(.7, arguments.length ? a : 1), S(this.h, this.s, this.l / a)
  }, T.prototype.darker = function (a) {
    return a = Math.pow(.7, arguments.length ? a : 1), S(this.h, this.s, a * this.l)
  }, T.prototype.rgb = function () {
    return U(this.h, this.s, this.l)
  }, T.prototype.toString = function () {
    return this.rgb().toString()
  };
  var Ne = function (a, b) {
    return b.querySelector(a)
  }, Oe = function (a, b) {
    return b.querySelectorAll(a)
  }, Pe = document.documentElement, Qe = Pe.matchesSelector || Pe.webkitMatchesSelector || Pe.mozMatchesSelector || Pe.msMatchesSelector || Pe.oMatchesSelector, Re = function (a, b) {
    return Qe.call(a, b)
  };
  "function" == typeof Sizzle && (Ne = function (a, b) {
    return Sizzle(a, b)[0]
  }, Oe = function (a, b) {
    return Sizzle.uniqueSort(Sizzle(a, b))
  }, Re = Sizzle.matchesSelector);
  var Se = [];
  d3.selection = function () {
    return Ue
  }, d3.selection.prototype = Se, Se.select = function (a) {
    var b, c, d, e, f = [];
    "function" != typeof a && (a = W(a));
    for (var g = -1, h = this.length; ++g < h;) {
      f.push(b = []), b.parentNode = (d = this[g]).parentNode;
      for (var i = -1, j = d.length; ++i < j;)(e = d[i]) ? (b.push(c = a.call(e, e.__data__, i)), c && "__data__"in e && (c.__data__ = e.__data__)) : b.push(null)
    }
    return V(f)
  }, Se.selectAll = function (a) {
    var b, c, d = [];
    "function" != typeof a && (a = X(a));
    for (var e = -1, f = this.length; ++e < f;)for (var g = this[e], h = -1, i = g.length; ++h < i;)(c = g[h]) && (d.push(b = ve(a.call(c, c.__data__, h))), b.parentNode = c);
    return V(d)
  }, Se.attr = function (a, b) {
    function c() {
      this.removeAttribute(a)
    }

    function d() {
      this.removeAttributeNS(a.space, a.local)
    }

    function e() {
      this.setAttribute(a, b)
    }

    function f() {
      this.setAttributeNS(a.space, a.local, b)
    }

    function g() {
      var c = b.apply(this, arguments);
      null == c ? this.removeAttribute(a) : this.setAttribute(a, c)
    }

    function h() {
      var c = b.apply(this, arguments);
      null == c ? this.removeAttributeNS(a.space, a.local) : this.setAttributeNS(a.space, a.local, c)
    }

    if (a = d3.ns.qualify(a), arguments.length < 2) {
      var i = this.node();
      return a.local ? i.getAttributeNS(a.space, a.local) : i.getAttribute(a)
    }
    return this.each(null == b ? a.local ? d : c : "function" == typeof b ? a.local ? h : g : a.local ? f : e)
  }, Se.classed = function (a, b) {
    var c = a.split(Te), d = c.length, e = -1;
    if (arguments.length > 1) {
      for (; ++e < d;)Y.call(this, c[e], b);
      return this
    }
    for (; ++e < d;)if (!Y.call(this, c[e]))return !1;
    return !0
  };
  var Te = /\s+/g;
  Se.style = function (a, b, c) {
    function d() {
      this.style.removeProperty(a)
    }

    function e() {
      this.style.setProperty(a, b, c)
    }

    function f() {
      var d = b.apply(this, arguments);
      null == d ? this.style.removeProperty(a) : this.style.setProperty(a, d, c)
    }

    return arguments.length < 3 && (c = ""), arguments.length < 2 ? window.getComputedStyle(this.node(), null).getPropertyValue(a) : this.each(null == b ? d : "function" == typeof b ? f : e)
  }, Se.property = function (a, b) {
    function c() {
      delete this[a]
    }

    function d() {
      this[a] = b
    }

    function e() {
      var c = b.apply(this, arguments);
      null == c ? delete this[a] : this[a] = c
    }

    return arguments.length < 2 ? this.node()[a] : this.each(null == b ? c : "function" == typeof b ? e : d)
  }, Se.text = function (a) {
    return arguments.length < 1 ? this.node().textContent : this.each("function" == typeof a ? function () {
      var b = a.apply(this, arguments);
      this.textContent = null == b ? "" : b
    } : null == a ? function () {
      this.textContent = ""
    } : function () {
      this.textContent = a
    })
  }, Se.html = function (a) {
    return arguments.length < 1 ? this.node().innerHTML : this.each("function" == typeof a ? function () {
      var b = a.apply(this, arguments);
      this.innerHTML = null == b ? "" : b
    } : null == a ? function () {
      this.innerHTML = ""
    } : function () {
      this.innerHTML = a
    })
  }, Se.append = function (a) {
    function b() {
      return this.appendChild(document.createElementNS(this.namespaceURI, a))
    }

    function c() {
      return this.appendChild(document.createElementNS(a.space, a.local))
    }

    return a = d3.ns.qualify(a), this.select(a.local ? c : b)
  }, Se.insert = function (a, b) {
    function c() {
      return this.insertBefore(document.createElementNS(this.namespaceURI, a), Ne(b, this))
    }

    function d() {
      return this.insertBefore(document.createElementNS(a.space, a.local), Ne(b, this))
    }

    return a = d3.ns.qualify(a), this.select(a.local ? d : c)
  }, Se.remove = function () {
    return this.each(function () {
      var a = this.parentNode;
      a && a.removeChild(this)
    })
  }, Se.data = function (a, b) {
    function c(a, c) {
      var d, f, g, h = a.length, l = c.length, m = Math.min(h, l), n = Math.max(h, l), o = [], p = [], q = [];
      if (b) {
        var r, s = new e, t = [], u = c.length;
        for (d = -1; ++d < h;)r = b.call(f = a[d], f.__data__, d), s.has(r) ? q[u++] = f : s.set(r, f), t.push(r);
        for (d = -1; ++d < l;)r = b.call(c, g = c[d], d), s.has(r) ? (o[d] = f = s.get(r), f.__data__ = g, p[d] = q[d] = null) : (p[d] = Z(g), o[d] = q[d] = null), s.remove(r);
        for (d = -1; ++d < h;)s.has(t[d]) && (q[d] = a[d])
      } else {
        for (d = -1; ++d < m;)f = a[d], g = c[d], f ? (f.__data__ = g, o[d] = f, p[d] = q[d] = null) : (p[d] = Z(g), o[d] = q[d] = null);
        for (; l > d; ++d)p[d] = Z(c[d]), o[d] = q[d] = null;
        for (; n > d; ++d)q[d] = a[d], p[d] = o[d] = null
      }
      p.update = o, p.parentNode = o.parentNode = q.parentNode = a.parentNode, i.push(p), j.push(o), k.push(q)
    }

    var d, f, g = -1, h = this.length;
    if (!arguments.length) {
      for (a = new Array(h = (d = this[0]).length); ++g < h;)(f = d[g]) && (a[g] = f.__data__);
      return a
    }
    var i = ab([]), j = V([]), k = V([]);
    if ("function" == typeof a)for (; ++g < h;)c(d = this[g], a.call(d, d.parentNode.__data__, g)); else for (; ++g < h;)c(d = this[g], a);
    return j.enter = function () {
      return i
    }, j.exit = function () {
      return k
    }, j
  }, Se.datum = Se.map = function (a) {
    return arguments.length < 1 ? this.property("__data__") : this.property("__data__", a)
  }, Se.filter = function (a) {
    var b, c, d, e = [];
    "function" != typeof a && (a = $(a));
    for (var f = 0, g = this.length; g > f; f++) {
      e.push(b = []), b.parentNode = (c = this[f]).parentNode;
      for (var h = 0, i = c.length; i > h; h++)(d = c[h]) && a.call(d, d.__data__, h) && b.push(d)
    }
    return V(e)
  }, Se.order = function () {
    for (var a = -1, b = this.length; ++a < b;)for (var c, d = this[a], e = d.length - 1, f = d[e]; --e >= 0;)(c = d[e]) && (f && f !== c.nextSibling && f.parentNode.insertBefore(c, f), f = c);
    return this
  }, Se.sort = function (a) {
    a = _.apply(this, arguments);
    for (var b = -1, c = this.length; ++b < c;)this[b].sort(a);
    return this.order()
  }, Se.on = function (a, b, c) {
    arguments.length < 3 && (c = !1);
    var d = "__on" + a, e = a.indexOf(".");
    return e > 0 && (a = a.substring(0, e)), arguments.length < 2 ? (e = this.node()[d]) && e._ : this.each(function (e, f) {
      function g(a) {
        var c = d3.event;
        d3.event = a;
        try {
          b.call(h, h.__data__, f)
        } finally {
          d3.event = c
        }
      }

      var h = this, i = h[d];
      i && (h.removeEventListener(a, i, i.$), delete h[d]), b && (h.addEventListener(a, h[d] = g, g.$ = c), g._ = b)
    })
  }, Se.each = function (a) {
    for (var b = -1, c = this.length; ++b < c;)for (var d = this[b], e = -1, f = d.length; ++e < f;) {
      var g = d[e];
      g && a.call(g, g.__data__, e, b)
    }
    return this
  }, Se.call = function (a) {
    return a.apply(this, (arguments[0] = this, arguments)), this
  }, Se.empty = function () {
    return !this.node()
  }, Se.node = function () {
    for (var a = 0, b = this.length; b > a; a++)for (var c = this[a], d = 0, e = c.length; e > d; d++) {
      var f = c[d];
      if (f)return f
    }
    return null
  }, Se.transition = function () {
    for (var a, b, c = [], d = -1, e = this.length; ++d < e;) {
      c.push(a = []);
      for (var f = this[d], g = -1, h = f.length; ++g < h;)a.push((b = f[g]) ? {
        node: b,
        delay: bf,
        duration: cf
      } : null)
    }
    return bb(c, Ze || ++Ye, Date.now())
  };
  var Ue = V([[document]]);
  Ue[0].parentNode = Pe, d3.select = function (a) {
    return "string" == typeof a ? Ue.select(a) : V([[a]])
  }, d3.selectAll = function (a) {
    return "string" == typeof a ? Ue.selectAll(a) : V([ve(a)])
  };
  var Ve = [];
  d3.selection.enter = ab, d3.selection.enter.prototype = Ve, Ve.append = Se.append, Ve.insert = Se.insert, Ve.empty = Se.empty, Ve.node = Se.node, Ve.select = function (a) {
    for (var b, c, d, e, f, g = [], h = -1, i = this.length; ++h < i;) {
      d = (e = this[h]).update, g.push(b = []), b.parentNode = e.parentNode;
      for (var j = -1, k = e.length; ++j < k;)(f = e[j]) ? (b.push(d[j] = c = a.call(e.parentNode, f.__data__, j)), c.__data__ = f.__data__) : b.push(null)
    }
    return V(g)
  };
  var We = {}, Xe = [], Ye = 0, Ze = 0, $e = 0, _e = 250, af = d3.ease("cubic-in-out"), bf = $e, cf = _e, df = af;
  Xe.call = Se.call, d3.transition = function (a) {
    return arguments.length ? Ze ? a.transition() : a : Ue.transition()
  }, d3.transition.prototype = Xe, Xe.select = function (a) {
    var b, c, d, e = [];
    "function" != typeof a && (a = W(a));
    for (var f = -1, g = this.length; ++f < g;) {
      e.push(b = []);
      for (var h = this[f], i = -1, j = h.length; ++i < j;)(d = h[i]) && (c = a.call(d.node, d.node.__data__, i)) ? ("__data__"in d.node && (c.__data__ = d.node.__data__), b.push({
        node: c,
        delay: d.delay,
        duration: d.duration
      })) : b.push(null)
    }
    return bb(e, this.id, this.time).ease(this.ease())
  }, Xe.selectAll = function (a) {
    var b, c, d, e = [];
    "function" != typeof a && (a = X(a));
    for (var f = -1, g = this.length; ++f < g;)for (var h = this[f], i = -1, j = h.length; ++i < j;)if (d = h[i]) {
      c = a.call(d.node, d.node.__data__, i), e.push(b = []);
      for (var k = -1, l = c.length; ++k < l;)b.push({node: c[k], delay: d.delay, duration: d.duration})
    }
    return bb(e, this.id, this.time).ease(this.ease())
  }, Xe.attr = function (a, b) {
    return this.attrTween(a, db(a, b))
  }, Xe.attrTween = function (a, b) {
    function c(a, c) {
      var d = b.call(this, a, c, this.getAttribute(e));
      return d === We ? (this.removeAttribute(e), null) : d && function (a) {
        this.setAttribute(e, d(a))
      }
    }

    function d(a, c) {
      var d = b.call(this, a, c, this.getAttributeNS(e.space, e.local));
      return d === We ? (this.removeAttributeNS(e.space, e.local), null) : d && function (a) {
        this.setAttributeNS(e.space, e.local, d(a))
      }
    }

    var e = d3.ns.qualify(a);
    return this.tween("attr." + a, e.local ? d : c)
  }, Xe.style = function (a, b, c) {
    return arguments.length < 3 && (c = ""), this.styleTween(a, db(a, b), c)
  }, Xe.styleTween = function (a, b, c) {
    return arguments.length < 3 && (c = ""), this.tween("style." + a, function (d, e) {
      var f = b.call(this, d, e, window.getComputedStyle(this, null).getPropertyValue(a));
      return f === We ? (this.style.removeProperty(a), null) : f && function (b) {
        this.style.setProperty(a, f(b), c)
      }
    })
  }, Xe.text = function (a) {
    return this.tween("text", function (b, c) {
      this.textContent = "function" == typeof a ? a.call(this, b, c) : a
    })
  }, Xe.remove = function () {
    return this.each("end.transition", function () {
      var a;
      !this.__transition__ && (a = this.parentNode) && a.removeChild(this)
    })
  }, Xe.delay = function (a) {
    var b = this;
    return b.each("function" == typeof a ? function (c, d, e) {
      b[e][d].delay = 0 | a.apply(this, arguments)
    } : (a = 0 | a, function (c, d, e) {
      b[e][d].delay = a
    }))
  }, Xe.duration = function (a) {
    var b = this;
    return b.each("function" == typeof a ? function (c, d, e) {
      b[e][d].duration = Math.max(1, 0 | a.apply(this, arguments))
    } : (a = Math.max(1, 0 | a), function (c, d, e) {
      b[e][d].duration = a
    }))
  }, Xe.transition = function () {
    return this.select(g)
  };
  var ef, ff, gf = null;
  d3.timer = function (a, b, c) {
    var d, e = !1, f = gf;
    if (arguments.length < 3) {
      if (arguments.length < 2)b = 0; else if (!isFinite(b))return;
      c = Date.now()
    }
    for (; f;) {
      if (f.callback === a) {
        f.then = c, f.delay = b, e = !0;
        break
      }
      d = f, f = f.next
    }
    e || (gf = {callback: a, then: c, delay: b, next: gf}), ef || (ff = clearTimeout(ff), ef = 1, hf(fb))
  }, d3.timer.flush = function () {
    for (var a, b = Date.now(), c = gf; c;)a = b - c.then, c.delay || (c.flush = c.callback(a)), c = c.next;
    gb()
  };
  var hf = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (a) {
      setTimeout(a, 17)
    };
  d3.transform = function (a) {
    var b = document.createElementNS(d3.ns.prefix.svg, "g"), c = {a: 1, b: 0, c: 0, d: 1, e: 0, f: 0};
    return (d3.transform = function (a) {
      b.setAttribute("transform", a);
      var d = b.transform.baseVal.consolidate();
      return new hb(d ? d.matrix : c)
    })(a)
  }, hb.prototype.toString = function () {
    return "translate(" + this.translate + ")rotate(" + this.rotate + ")skewX(" + this.skew + ")scale(" + this.scale + ")"
  };
  var jf = 180 / Math.PI;
  d3.mouse = function (a) {
    return lb(a, H())
  };
  var kf = /WebKit/.test(navigator.userAgent) ? -1 : 0;
  d3.touches = function (a, b) {
    return arguments.length < 2 && (b = H().touches), b ? ve(b).map(function (b) {
      var c = lb(a, b);
      return c.identifier = b.identifier, c
    }) : []
  }, d3.scale = {}, d3.scale.linear = function () {
    return qb([0, 1], [0, 1], d3.interpolate, !1)
  }, d3.scale.log = function () {
    return yb(d3.scale.linear(), zb)
  };
  var lf = d3.format(".0e");
  zb.pow = function (a) {
    return Math.pow(10, a)
  }, Ab.pow = function (a) {
    return -Math.pow(10, -a)
  }, d3.scale.pow = function () {
    return Bb(d3.scale.linear(), 1)
  }, d3.scale.sqrt = function () {
    return d3.scale.pow().exponent(.5)
  }, d3.scale.ordinal = function () {
    return Db([], {t: "range", x: []})
  }, d3.scale.category10 = function () {
    return d3.scale.ordinal().range(mf)
  }, d3.scale.category20 = function () {
    return d3.scale.ordinal().range(nf)
  }, d3.scale.category20b = function () {
    return d3.scale.ordinal().range(of)
  }, d3.scale.category20c = function () {
    return d3.scale.ordinal().range(pf)
  };
  var mf = ["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728", "#9467bd", "#8c564b", "#e377c2", "#7f7f7f", "#bcbd22", "#17becf"], nf = ["#1f77b4", "#aec7e8", "#ff7f0e", "#ffbb78", "#2ca02c", "#98df8a", "#d62728", "#ff9896", "#9467bd", "#c5b0d5", "#8c564b", "#c49c94", "#e377c2", "#f7b6d2", "#7f7f7f", "#c7c7c7", "#bcbd22", "#dbdb8d", "#17becf", "#9edae5"], of = ["#393b79", "#5254a3", "#6b6ecf", "#9c9ede", "#637939", "#8ca252", "#b5cf6b", "#cedb9c", "#8c6d31", "#bd9e39", "#e7ba52", "#e7cb94", "#843c39", "#ad494a", "#d6616b", "#e7969c", "#7b4173", "#a55194", "#ce6dbd", "#de9ed6"], pf = ["#3182bd", "#6baed6", "#9ecae1", "#c6dbef", "#e6550d", "#fd8d3c", "#fdae6b", "#fdd0a2", "#31a354", "#74c476", "#a1d99b", "#c7e9c0", "#756bb1", "#9e9ac8", "#bcbddc", "#dadaeb", "#636363", "#969696", "#bdbdbd", "#d9d9d9"];
  d3.scale.quantile = function () {
    return Eb([], [])
  }, d3.scale.quantize = function () {
    return Fb(0, 1, [0, 1])
  }, d3.scale.identity = function () {
    return Gb([0, 1])
  }, d3.svg = {}, d3.svg.arc = function () {
    function a() {
      var a = b.apply(this, arguments), f = c.apply(this, arguments), g = d.apply(this, arguments) + qf, h = e.apply(this, arguments) + qf, i = (g > h && (i = g, g = h, h = i), h - g), j = i < Math.PI ? "0" : "1", k = Math.cos(g), l = Math.sin(g), m = Math.cos(h), n = Math.sin(h);
      return i >= rf ? a ? "M0," + f + "A" + f + "," + f + " 0 1,1 0," + -f + "A" + f + "," + f + " 0 1,1 0," + f + "M0," + a + "A" + a + "," + a + " 0 1,0 0," + -a + "A" + a + "," + a + " 0 1,0 0," + a + "Z" : "M0," + f + "A" + f + "," + f + " 0 1,1 0," + -f + "A" + f + "," + f + " 0 1,1 0," + f + "Z" : a ? "M" + f * k + "," + f * l + "A" + f + "," + f + " 0 " + j + ",1 " + f * m + "," + f * n + "L" + a * m + "," + a * n + "A" + a + "," + a + " 0 " + j + ",0 " + a * k + "," + a * l + "Z" : "M" + f * k + "," + f * l + "A" + f + "," + f + " 0 " + j + ",1 " + f * m + "," + f * n + "L0,0" + "Z"
    }

    var b = Hb, c = Ib, d = Jb, e = Kb;
    return a.innerRadius = function (c) {
      return arguments.length ? (b = i(c), a) : b
    }, a.outerRadius = function (b) {
      return arguments.length ? (c = i(b), a) : c
    }, a.startAngle = function (b) {
      return arguments.length ? (d = i(b), a) : d
    }, a.endAngle = function (b) {
      return arguments.length ? (e = i(b), a) : e
    }, a.centroid = function () {
      var a = (b.apply(this, arguments) + c.apply(this, arguments)) / 2, f = (d.apply(this, arguments) + e.apply(this, arguments)) / 2 + qf;
      return [Math.cos(f) * a, Math.sin(f) * a]
    }, a
  };
  var qf = -Math.PI / 2, rf = 2 * Math.PI - 1e-6;
  d3.svg.line = function () {
    return Lb(f)
  };
  var sf = "linear", tf = d3.map({
    linear: Ob,
    "step-before": Pb,
    "step-after": Qb,
    basis: Wb,
    "basis-open": Xb,
    "basis-closed": Yb,
    bundle: Zb,
    cardinal: Tb,
    "cardinal-open": Rb,
    "cardinal-closed": Sb,
    monotone: dc
  }), uf = [0, 2 / 3, 1 / 3, 0], vf = [0, 1 / 3, 2 / 3, 0], wf = [0, 1 / 6, 2 / 3, 1 / 6];
  d3.svg.line.radial = function () {
    var a = Lb(ec);
    return a.radius = a.x, delete a.x, a.angle = a.y, delete a.y, a
  }, Pb.reverse = Qb, Qb.reverse = Pb, d3.svg.area = function () {
    return fc(Object)
  }, d3.svg.area.radial = function () {
    var a = fc(ec);
    return a.radius = a.x, delete a.x, a.innerRadius = a.x0, delete a.x0, a.outerRadius = a.x1, delete a.x1, a.angle = a.y, delete a.y, a.startAngle = a.y0, delete a.y0, a.endAngle = a.y1, delete a.y1, a
  }, d3.svg.chord = function () {
    function a(a, h) {
      var i = b(this, f, a, h), j = b(this, g, a, h);
      return "M" + i.p0 + d(i.r, i.p1, i.a1 - i.a0) + (c(i, j) ? e(i.r, i.p1, i.r, i.p0) : e(i.r, i.p1, j.r, j.p0) + d(j.r, j.p1, j.a1 - j.a0) + e(j.r, j.p1, i.r, i.p0)) + "Z"
    }

    function b(a, b, c, d) {
      var e = b.call(a, c, d), f = h.call(a, e, d), g = j.call(a, e, d) + qf, i = k.call(a, e, d) + qf;
      return {r: f, a0: g, a1: i, p0: [f * Math.cos(g), f * Math.sin(g)], p1: [f * Math.cos(i), f * Math.sin(i)]}
    }

    function c(a, b) {
      return a.a0 == b.a0 && a.a1 == b.a1
    }

    function d(a, b, c) {
      return "A" + a + "," + a + " 0 " + +(c > Math.PI) + ",1 " + b
    }

    function e(a, b, c, d) {
      return "Q 0,0 " + d
    }

    var f = gc, g = hc, h = ic, j = Jb, k = Kb;
    return a.radius = function (b) {
      return arguments.length ? (h = i(b), a) : h
    }, a.source = function (b) {
      return arguments.length ? (f = i(b), a) : f
    }, a.target = function (b) {
      return arguments.length ? (g = i(b), a) : g
    }, a.startAngle = function (b) {
      return arguments.length ? (j = i(b), a) : j
    }, a.endAngle = function (b) {
      return arguments.length ? (k = i(b), a) : k
    }, a
  }, d3.svg.diagonal = function () {
    function a(a, e) {
      var f = b.call(this, a, e), g = c.call(this, a, e), h = (f.y + g.y) / 2, i = [f, {x: f.x, y: h}, {
        x: g.x,
        y: h
      }, g];
      return i = i.map(d), "M" + i[0] + "C" + i[1] + " " + i[2] + " " + i[3]
    }

    var b = gc, c = hc, d = jc;
    return a.source = function (c) {
      return arguments.length ? (b = i(c), a) : b
    }, a.target = function (b) {
      return arguments.length ? (c = i(b), a) : c
    }, a.projection = function (b) {
      return arguments.length ? (d = b, a) : d
    }, a
  }, d3.svg.diagonal.radial = function () {
    var a = d3.svg.diagonal(), b = jc, c = a.projection;
    return a.projection = function (a) {
      return arguments.length ? c(kc(b = a)) : b
    }, a
  }, d3.svg.mouse = d3.mouse, d3.svg.touches = d3.touches, d3.svg.symbol = function () {
    function a(a, d) {
      return (xf.get(b.call(this, a, d)) || nc)(c.call(this, a, d))
    }

    var b = mc, c = lc;
    return a.type = function (c) {
      return arguments.length ? (b = i(c), a) : b
    }, a.size = function (b) {
      return arguments.length ? (c = i(b), a) : c
    }, a
  };
  var xf = d3.map({
    circle: nc, cross: function (a) {
      var b = Math.sqrt(a / 5) / 2;
      return "M" + -3 * b + "," + -b + "H" + -b + "V" + -3 * b + "H" + b + "V" + -b + "H" + 3 * b + "V" + b + "H" + b + "V" + 3 * b + "H" + -b + "V" + b + "H" + -3 * b + "Z"
    }, diamond: function (a) {
      var b = Math.sqrt(a / (2 * zf)), c = b * zf;
      return "M0," + -b + "L" + c + ",0" + " 0," + b + " " + -c + ",0" + "Z"
    }, square: function (a) {
      var b = Math.sqrt(a) / 2;
      return "M" + -b + "," + -b + "L" + b + "," + -b + " " + b + "," + b + " " + -b + "," + b + "Z"
    }, "triangle-down": function (a) {
      var b = Math.sqrt(a / yf), c = b * yf / 2;
      return "M0," + c + "L" + b + "," + -c + " " + -b + "," + -c + "Z"
    }, "triangle-up": function (a) {
      var b = Math.sqrt(a / yf), c = b * yf / 2;
      return "M0," + -c + "L" + b + "," + c + " " + -b + "," + c + "Z"
    }
  });
  d3.svg.symbolTypes = xf.keys();
  var yf = Math.sqrt(3), zf = Math.tan(30 * Math.PI / 180);
  d3.svg.axis = function () {
    function a(a) {
      a.each(function () {
        var a, l = d3.select(this), m = null == j ? c.ticks ? c.ticks.apply(c, i) : c.domain() : j, n = null == b ? c.tickFormat ? c.tickFormat.apply(c, i) : String : b, o = qc(c, m, k), p = l.selectAll(".minor").data(o, String), q = p.enter().insert("line", "g").attr("class", "tick minor").style("opacity", 1e-6), r = d3.transition(p.exit()).style("opacity", 1e-6).remove(), s = d3.transition(p).style("opacity", 1), t = l.selectAll("g").data(m, String), u = t.enter().insert("g", "path").style("opacity", 1e-6), v = d3.transition(t.exit()).style("opacity", 1e-6).remove(), w = d3.transition(t).style("opacity", 1), x = nb(c), y = l.selectAll(".domain").data([0]), z = (y.enter().append("path").attr("class", "domain"), d3.transition(y)), A = c.copy(), B = this.__chart__ || A;
        switch (this.__chart__ = A, u.append("line").attr("class", "tick"), u.append("text"), w.select("text").text(n), d) {
          case"bottom":
            a = oc, q.attr("y2", f), s.attr("x2", 0).attr("y2", f), u.select("line").attr("y2", e), u.select("text").attr("y", Math.max(e, 0) + h), w.select("line").attr("x2", 0).attr("y2", e), w.select("text").attr("x", 0).attr("y", Math.max(e, 0) + h).attr("dy", ".71em").attr("text-anchor", "middle"), z.attr("d", "M" + x[0] + "," + g + "V0H" + x[1] + "V" + g);
            break;
          case"top":
            a = oc, q.attr("y2", -f), s.attr("x2", 0).attr("y2", -f), u.select("line").attr("y2", -e), u.select("text").attr("y", -(Math.max(e, 0) + h)), w.select("line").attr("x2", 0).attr("y2", -e), w.select("text").attr("x", 0).attr("y", -(Math.max(e, 0) + h)).attr("dy", "0em").attr("text-anchor", "middle"), z.attr("d", "M" + x[0] + "," + -g + "V0H" + x[1] + "V" + -g);
            break;
          case"left":
            a = pc, q.attr("x2", -f), s.attr("x2", -f).attr("y2", 0), u.select("line").attr("x2", -e), u.select("text").attr("x", -(Math.max(e, 0) + h)), w.select("line").attr("x2", -e).attr("y2", 0), w.select("text").attr("x", -(Math.max(e, 0) + h)).attr("y", 0).attr("dy", ".32em").attr("text-anchor", "end"), z.attr("d", "M" + -g + "," + x[0] + "H0V" + x[1] + "H" + -g);
            break;
          case"right":
            a = pc, q.attr("x2", f), s.attr("x2", f).attr("y2", 0), u.select("line").attr("x2", e), u.select("text").attr("x", Math.max(e, 0) + h), w.select("line").attr("x2", e).attr("y2", 0), w.select("text").attr("x", Math.max(e, 0) + h).attr("y", 0).attr("dy", ".32em").attr("text-anchor", "start"), z.attr("d", "M" + g + "," + x[0] + "H0V" + x[1] + "H" + g)
        }
        if (c.ticks)u.call(a, B), w.call(a, A), v.call(a, A), q.call(a, B), s.call(a, A), r.call(a, A); else {
          var C = A.rangeBand() / 2, D = function (a) {
            return A(a) + C
          };
          u.call(a, D), w.call(a, D)
        }
      })
    }

    var b, c = d3.scale.linear(), d = "bottom", e = 6, f = 6, g = 6, h = 3, i = [10], j = null, k = 0;
    return a.scale = function (b) {
      return arguments.length ? (c = b, a) : c
    }, a.orient = function (b) {
      return arguments.length ? (d = b, a) : d
    }, a.ticks = function () {
      return arguments.length ? (i = arguments, a) : i
    }, a.tickValues = function (b) {
      return arguments.length ? (j = b, a) : j
    }, a.tickFormat = function (c) {
      return arguments.length ? (b = c, a) : b
    }, a.tickSize = function (b, c) {
      if (!arguments.length)return e;
      var d = arguments.length - 1;
      return e = +b, f = d > 1 ? +c : e, g = d > 0 ? +arguments[d] : e, a
    }, a.tickPadding = function (b) {
      return arguments.length ? (h = +b, a) : h
    }, a.tickSubdivide = function (b) {
      return arguments.length ? (k = +b, a) : k
    }, a
  }, d3.svg.brush = function () {
    function a(f) {
      f.each(function () {
        var f, g = d3.select(this), k = g.selectAll(".background").data([0]), l = g.selectAll(".extent").data([0]), m = g.selectAll(".resize").data(j, String);
        g.style("pointer-events", "all").on("mousedown.brush", e).on("touchstart.brush", e), k.enter().append("rect").attr("class", "background").style("visibility", "hidden").style("cursor", "crosshair"), l.enter().append("rect").attr("class", "extent").style("cursor", "move"), m.enter().append("g").attr("class", function (a) {
          return "resize " + a
        }).style("cursor", function (a) {
          return Af[a]
        }).append("rect").attr("x", function (a) {
          return /[ew]$/.test(a) ? -3 : null
        }).attr("y", function (a) {
          return /^[ns]/.test(a) ? -3 : null
        }).attr("width", 6).attr("height", 6).style("visibility", "hidden"), m.style("display", a.empty() ? "none" : null), m.exit().remove(), h && (f = nb(h), k.attr("x", f[0]).attr("width", f[1] - f[0]), c(g)), i && (f = nb(i), k.attr("y", f[0]).attr("height", f[1] - f[0]), d(g)), b(g)
      })
    }

    function b(a) {
      a.selectAll(".resize").attr("transform", function (a) {
        return "translate(" + k[+/e$/.test(a)][0] + "," + k[+/^s/.test(a)][1] + ")"
      })
    }

    function c(a) {
      a.select(".extent").attr("x", k[0][0]), a.selectAll(".extent,.n>rect,.s>rect").attr("width", k[1][0] - k[0][0])
    }

    function d(a) {
      a.select(".extent").attr("y", k[0][1]), a.selectAll(".extent,.e>rect,.w>rect").attr("height", k[1][1] - k[0][1])
    }

    function e() {
      function e() {
        var a = d3.event.changedTouches;
        return a ? d3.touches(r, a)[0] : d3.mouse(r)
      }

      function j() {
        32 == d3.event.keyCode && (y || (p = null, z[0] -= k[1][0], z[1] -= k[1][1], y = 2), G())
      }

      function l() {
        32 == d3.event.keyCode && 2 == y && (z[0] += k[1][0], z[1] += k[1][1], y = 0, G())
      }

      function m() {
        var a = e(), f = !1;
        q && (a[0] += q[0], a[1] += q[1]), y || (d3.event.altKey ? (p || (p = [(k[0][0] + k[1][0]) / 2, (k[0][1] + k[1][1]) / 2]), z[0] = k[+(a[0] < p[0])][0], z[1] = k[+(a[1] < p[1])][1]) : p = null), w && n(a, h, 0) && (c(u), f = !0), x && n(a, i, 1) && (d(u), f = !0), f && (b(u), t({
          type: "brush",
          mode: y ? "move" : "resize"
        }))
      }

      function n(a, b, c) {
        var d, e, g = nb(b), h = g[0], i = g[1], j = z[c], l = k[1][c] - k[0][c];
        return y && (h -= j, i -= l + j), d = Math.max(h, Math.min(i, a[c])), y ? e = (d += j) + l : (p && (j = Math.max(h, Math.min(i, 2 * p[c] - d))), d > j ? (e = d, d = j) : e = j), k[0][c] !== d || k[1][c] !== e ? (f = null, k[0][c] = d, k[1][c] = e, !0) : void 0
      }

      function o() {
        m(), u.style("pointer-events", "all").selectAll(".resize").style("display", a.empty() ? "none" : null), d3.select("body").style("cursor", null), A.on("mousemove.brush", null).on("mouseup.brush", null).on("touchmove.brush", null).on("touchend.brush", null).on("keydown.brush", null).on("keyup.brush", null), t({type: "brushend"}), G()
      }

      var p, q, r = this, s = d3.select(d3.event.target), t = g.of(r, arguments), u = d3.select(r), v = s.datum(), w = !/^(n|s)$/.test(v) && h, x = !/^(e|w)$/.test(v) && i, y = s.classed("extent"), z = e(), A = d3.select(window).on("mousemove.brush", m).on("mouseup.brush", o).on("touchmove.brush", m).on("touchend.brush", o).on("keydown.brush", j).on("keyup.brush", l);
      if (y)z[0] = k[0][0] - z[0], z[1] = k[0][1] - z[1]; else if (v) {
        var B = +/w$/.test(v), C = +/^n/.test(v);
        q = [k[1 - B][0] - z[0], k[1 - C][1] - z[1]], z[0] = k[B][0], z[1] = k[C][1]
      } else d3.event.altKey && (p = z.slice());
      u.style("pointer-events", "none").selectAll(".resize").style("display", null), d3.select("body").style("cursor", s.style("cursor")), t({type: "brushstart"}), m(), G()
    }

    var f, g = I(a, "brushstart", "brush", "brushend"), h = null, i = null, j = Bf[0], k = [[0, 0], [0, 0]];
    return a.x = function (b) {
      return arguments.length ? (h = b, j = Bf[!h << 1 | !i], a) : h
    }, a.y = function (b) {
      return arguments.length ? (i = b, j = Bf[!h << 1 | !i], a) : i
    }, a.extent = function (b) {
      var c, d, e, g, j;
      return arguments.length ? (f = [[0, 0], [0, 0]], h && (c = b[0], d = b[1], i && (c = c[0], d = d[0]), f[0][0] = c, f[1][0] = d, h.invert && (c = h(c), d = h(d)), c > d && (j = c, c = d, d = j), k[0][0] = 0 | c, k[1][0] = 0 | d), i && (e = b[0], g = b[1], h && (e = e[1], g = g[1]), f[0][1] = e, f[1][1] = g, i.invert && (e = i(e), g = i(g)), e > g && (j = e, e = g, g = j), k[0][1] = 0 | e, k[1][1] = 0 | g), a) : (b = f || k, h && (c = b[0][0], d = b[1][0], f || (c = k[0][0], d = k[1][0], h.invert && (c = h.invert(c), d = h.invert(d)), c > d && (j = c, c = d, d = j))), i && (e = b[0][1], g = b[1][1], f || (e = k[0][1], g = k[1][1], i.invert && (e = i.invert(e), g = i.invert(g)), e > g && (j = e, e = g, g = j))), h && i ? [[c, e], [d, g]] : h ? [c, d] : i && [e, g])
    }, a.clear = function () {
      return f = null, k[0][0] = k[0][1] = k[1][0] = k[1][1] = 0, a
    }, a.empty = function () {
      return h && k[0][0] === k[1][0] || i && k[0][1] === k[1][1]
    }, d3.rebind(a, g, "on")
  };
  var Af = {
    n: "ns-resize",
    e: "ew-resize",
    s: "ns-resize",
    w: "ew-resize",
    nw: "nwse-resize",
    ne: "nesw-resize",
    se: "nwse-resize",
    sw: "nesw-resize"
  }, Bf = [["n", "e", "s", "w", "nw", "ne", "se", "sw"], ["e", "w"], ["n", "s"], []];
  d3.behavior = {}, d3.behavior.drag = function () {
    function a() {
      this.on("mousedown.drag", b).on("touchstart.drag", b)
    }

    function b() {
      function a() {
        var a = h.parentNode, b = d3.event.changedTouches;
        return b ? d3.touches(a, b)[0] : d3.mouse(a)
      }

      function b() {
        if (!h.parentNode)return e();
        var b = a(), c = b[0] - k[0], d = b[1] - k[1];
        l |= c | d, k = b, G(), i({type: "drag", x: b[0] + g[0], y: b[1] + g[1], dx: c, dy: d})
      }

      function e() {
        i({type: "dragend"}), l && (G(), d3.event.target === j && m.on("click.drag", f, !0)), m.on("mousemove.drag", null).on("touchmove.drag", null).on("mouseup.drag", null).on("touchend.drag", null)
      }

      function f() {
        G(), m.on("click.drag", null)
      }

      var g, h = this, i = c.of(h, arguments), j = d3.event.target, k = a(), l = 0, m = d3.select(window).on("mousemove.drag", b).on("touchmove.drag", b).on("mouseup.drag", e, !0).on("touchend.drag", e, !0);
      d ? (g = d.apply(h, arguments), g = [g.x - k[0], g.y - k[1]]) : g = [0, 0], G(), i({type: "dragstart"})
    }

    var c = I(a, "drag", "dragstart", "dragend"), d = null;
    return a.origin = function (b) {
      return arguments.length ? (d = b, a) : d
    }, d3.rebind(a, c, "on")
  }, d3.behavior.zoom = function () {
    function a() {
      this.on("mousedown.zoom", g).on("mousewheel.zoom", h).on("mousemove.zoom", i).on("DOMMouseScroll.zoom", h).on("dblclick.zoom", j).on("touchstart.zoom", k).on("touchmove.zoom", l).on("touchend.zoom", k)
    }

    function b(a) {
      return [(a[0] - t[0]) / u, (a[1] - t[1]) / u]
    }

    function c(a) {
      return [a[0] * u + t[0], a[1] * u + t[1]]
    }

    function d(a) {
      u = Math.max(v[0], Math.min(v[1], a))
    }

    function e(a, b) {
      b = c(b), t[0] += a[0] - b[0], t[1] += a[1] - b[1]
    }

    function f(a) {
      p && p.domain(o.range().map(function (a) {
        return (a - t[0]) / u
      }).map(o.invert)), r && r.domain(q.range().map(function (a) {
        return (a - t[1]) / u
      }).map(q.invert)), d3.event.preventDefault(), a({type: "zoom", scale: u, translate: t})
    }

    function g() {
      function a() {
        j = 1, e(d3.mouse(g), l), f(h)
      }

      function c() {
        j && G(), k.on("mousemove.zoom", null).on("mouseup.zoom", null), j && d3.event.target === i && k.on("click.zoom", d, !0)
      }

      function d() {
        G(), k.on("click.zoom", null)
      }

      var g = this, h = w.of(g, arguments), i = d3.event.target, j = 0, k = d3.select(window).on("mousemove.zoom", a).on("mouseup.zoom", c), l = b(d3.mouse(g));
      window.focus(), G()
    }

    function h() {
      m || (m = b(d3.mouse(this))), d(Math.pow(2, .002 * rc()) * u), e(d3.mouse(this), m), f(w.of(this, arguments))
    }

    function i() {
      m = null
    }

    function j() {
      var a = d3.mouse(this), c = b(a);
      d(d3.event.shiftKey ? u / 2 : 2 * u), e(a, c), f(w.of(this, arguments))
    }

    function k() {
      var a = d3.touches(this), c = Date.now();
      if (n = u, m = {}, a.forEach(function (a) {
          m[a.identifier] = b(a)
        }), G(), 1 === a.length && 500 > c - s) {
        var g = a[0], h = b(a[0]);
        d(2 * u), e(g, h), f(w.of(this, arguments))
      }
      s = c
    }

    function l() {
      var a = d3.touches(this), b = a[0], c = m[b.identifier];
      if (g = a[1]) {
        var g, h = m[g.identifier];
        b = [(b[0] + g[0]) / 2, (b[1] + g[1]) / 2], c = [(c[0] + h[0]) / 2, (c[1] + h[1]) / 2], d(d3.event.scale * n)
      }
      e(b, c), f(w.of(this, arguments))
    }

    var m, n, o, p, q, r, s, t = [0, 0], u = 1, v = Df, w = I(a, "zoom");
    return a.translate = function (b) {
      return arguments.length ? (t = b.map(Number), a) : t
    }, a.scale = function (b) {
      return arguments.length ? (u = +b, a) : u
    }, a.scaleExtent = function (b) {
      return arguments.length ? (v = null == b ? Df : b.map(Number), a) : v
    }, a.x = function (b) {
      return arguments.length ? (p = b, o = b.copy(), a) : p
    }, a.y = function (b) {
      return arguments.length ? (r = b, q = b.copy(), a) : r
    }, d3.rebind(a, w, "on")
  };
  var Cf, Df = [0, 1 / 0];
  d3.layout = {}, d3.layout.bundle = function () {
    return function (a) {
      for (var b = [], c = -1, d = a.length; ++c < d;)b.push(sc(a[c]));
      return b
    }
  }, d3.layout.chord = function () {
    function a() {
      var a, j, l, m, n, o = {}, p = [], q = d3.range(f), r = [];
      for (c = [], d = [], a = 0, m = -1; ++m < f;) {
        for (j = 0, n = -1; ++n < f;)j += e[m][n];
        p.push(j), r.push(d3.range(f)), a += j
      }
      for (g && q.sort(function (a, b) {
        return g(p[a], p[b])
      }), h && r.forEach(function (a, b) {
        a.sort(function (a, c) {
          return h(e[b][a], e[b][c])
        })
      }), a = (2 * Math.PI - k * f) / a, j = 0, m = -1; ++m < f;) {
        for (l = j, n = -1; ++n < f;) {
          var s = q[m], t = r[s][n], u = e[s][t], v = j, w = j += u * a;
          o[s + "-" + t] = {index: s, subindex: t, startAngle: v, endAngle: w, value: u}
        }
        d[s] = {index: s, startAngle: l, endAngle: j, value: (j - l) / a}, j += k
      }
      for (m = -1; ++m < f;)for (n = m - 1; ++n < f;) {
        var x = o[m + "-" + n], y = o[n + "-" + m];
        (x.value || y.value) && c.push(x.value < y.value ? {source: y, target: x} : {source: x, target: y})
      }
      i && b()
    }

    function b() {
      c.sort(function (a, b) {
        return i((a.source.value + a.target.value) / 2, (b.source.value + b.target.value) / 2)
      })
    }

    var c, d, e, f, g, h, i, j = {}, k = 0;
    return j.matrix = function (a) {
      return arguments.length ? (f = (e = a) && e.length, c = d = null, j) : e
    }, j.padding = function (a) {
      return arguments.length ? (k = a, c = d = null, j) : k
    }, j.sortGroups = function (a) {
      return arguments.length ? (g = a, c = d = null, j) : g
    }, j.sortSubgroups = function (a) {
      return arguments.length ? (h = a, c = null, j) : h
    }, j.sortChords = function (a) {
      return arguments.length ? (i = a, c && b(), j) : i
    }, j.chords = function () {
      return c || a(), c
    }, j.groups = function () {
      return d || a(), d
    }, j
  }, d3.layout.force = function () {
    function a(a) {
      return function (b, c, d, e) {
        if (b.point !== a) {
          var f = b.cx - a.x, g = b.cy - a.y, h = 1 / Math.sqrt(f * f + g * g);
          if (r > (e - c) * h) {
            var i = b.charge * h * h;
            return a.px -= f * i, a.py -= g * i, !0
          }
          if (b.point && isFinite(h)) {
            var i = b.pointCharge * h * h;
            a.px -= f * i, a.py -= g * i
          }
        }
        return !b.charge
      }
    }

    function b(a) {
      vc(Ff = a), Ef = j
    }

    var c, d, e, g, h, j = {}, k = d3.dispatch("start", "tick", "end"), l = [1, 1], m = .9, n = Ac, o = Bc, p = -30, q = .1, r = .8, s = [], t = [];
    return j.tick = function () {
      if ((d *= .99) < .005)return k.end({type: "end", alpha: d = 0}), !0;
      var b, c, f, i, j, n, o, r, u, v = s.length, w = t.length;
      for (c = 0; w > c; ++c)f = t[c], i = f.source, j = f.target, r = j.x - i.x, u = j.y - i.y, (n = r * r + u * u) && (n = d * g[c] * ((n = Math.sqrt(n)) - e[c]) / n, r *= n, u *= n, j.x -= r * (o = i.weight / (j.weight + i.weight)), j.y -= u * o, i.x += r * (o = 1 - o), i.y += u * o);
      if ((o = d * q) && (r = l[0] / 2, u = l[1] / 2, c = -1, o))for (; ++c < v;)f = s[c], f.x += (r - f.x) * o, f.y += (u - f.y) * o;
      if (p)for (zc(b = d3.geom.quadtree(s), d, h), c = -1; ++c < v;)(f = s[c]).fixed || b.visit(a(f));
      for (c = -1; ++c < v;)f = s[c], f.fixed ? (f.x = f.px, f.y = f.py) : (f.x -= (f.px - (f.px = f.x)) * m, f.y -= (f.py - (f.py = f.y)) * m);
      k.tick({type: "tick", alpha: d})
    }, j.nodes = function (a) {
      return arguments.length ? (s = a, j) : s
    }, j.links = function (a) {
      return arguments.length ? (t = a, j) : t
    }, j.size = function (a) {
      return arguments.length ? (l = a, j) : l
    }, j.linkDistance = function (a) {
      return arguments.length ? (n = i(a), j) : n
    }, j.distance = j.linkDistance, j.linkStrength = function (a) {
      return arguments.length ? (o = i(a), j) : o
    }, j.friction = function (a) {
      return arguments.length ? (m = a, j) : m
    }, j.charge = function (a) {
      return arguments.length ? (p = "function" == typeof a ? a : +a, j) : p
    }, j.gravity = function (a) {
      return arguments.length ? (q = a, j) : q
    }, j.theta = function (a) {
      return arguments.length ? (r = a, j) : r
    }, j.alpha = function (a) {
      return arguments.length ? (d ? d = a > 0 ? a : 0 : a > 0 && (k.start({
        type: "start",
        alpha: d = a
      }), d3.timer(j.tick)), j) : d
    }, j.start = function () {
      function a(a, d) {
        for (var e, f = b(c), g = -1, h = f.length; ++g < h;)if (!isNaN(e = f[g][a]))return e;
        return Math.random() * d
      }

      function b() {
        if (!f) {
          for (f = [], d = 0; k > d; ++d)f[d] = [];
          for (d = 0; m > d; ++d) {
            var a = t[d];
            f[a.source.index].push(a.target), f[a.target.index].push(a.source)
          }
        }
        return f[c]
      }

      var c, d, f, i, k = s.length, m = t.length, q = l[0], r = l[1];
      for (c = 0; k > c; ++c)(i = s[c]).index = c, i.weight = 0;
      for (e = [], g = [], c = 0; m > c; ++c)i = t[c], "number" == typeof i.source && (i.source = s[i.source]), "number" == typeof i.target && (i.target = s[i.target]), e[c] = n.call(this, i, c), g[c] = o.call(this, i, c), ++i.source.weight, ++i.target.weight;
      for (c = 0; k > c; ++c)i = s[c], isNaN(i.x) && (i.x = a("x", q)), isNaN(i.y) && (i.y = a("y", r)), isNaN(i.px) && (i.px = i.x), isNaN(i.py) && (i.py = i.y);
      if (h = [], "function" == typeof p)for (c = 0; k > c; ++c)h[c] = +p.call(this, s[c], c); else for (c = 0; k > c; ++c)h[c] = p;
      return j.resume()
    }, j.resume = function () {
      return j.alpha(.1)
    }, j.stop = function () {
      return j.alpha(0)
    }, j.drag = function () {
      c || (c = d3.behavior.drag().origin(f).on("dragstart", b).on("drag", yc).on("dragend", xc)), this.on("mouseover.force", vc).on("mouseout.force", wc).call(c)
    }, d3.rebind(j, k, "on")
  };
  var Ef, Ff;
  d3.layout.partition = function () {
    function a(b, c, d, e) {
      var f = b.children;
      if (b.x = c, b.y = b.depth * e, b.dx = d, b.dy = e, f && (g = f.length)) {
        var g, h, i, j = -1;
        for (d = b.value ? d / b.value : 0; ++j < g;)a(h = f[j], c, i = h.value * d, e), c += i
      }
    }

    function b(a) {
      var c = a.children, d = 0;
      if (c && (e = c.length))for (var e, f = -1; ++f < e;)d = Math.max(d, b(c[f]));
      return 1 + d
    }

    function c(c, f) {
      var g = d.call(this, c, f);
      return a(g[0], 0, e[0], e[1] / b(g[0])), g
    }

    var d = d3.layout.hierarchy(), e = [1, 1];
    return c.size = function (a) {
      return arguments.length ? (e = a, c) : e
    }, Nc(c, d)
  }, d3.layout.pie = function () {
    function a(g) {
      var h = g.map(function (c, d) {
        return +b.call(a, c, d)
      }), i = +("function" == typeof e ? e.apply(this, arguments) : e), j = (("function" == typeof f ? f.apply(this, arguments) : f) - e) / d3.sum(h), k = d3.range(g.length);
      null != c && k.sort(c === Gf ? function (a, b) {
        return h[b] - h[a]
      } : function (a, b) {
        return c(g[a], g[b])
      });
      var l = [];
      return k.forEach(function (a) {
        l[a] = {data: g[a], value: d = h[a], startAngle: i, endAngle: i += d * j}
      }), l
    }

    var b = Number, c = Gf, e = 0, f = 2 * Math.PI;
    return a.value = function (c) {
      return arguments.length ? (b = c, a) : b
    }, a.sort = function (b) {
      return arguments.length ? (c = b, a) : c
    }, a.startAngle = function (b) {
      return arguments.length ? (e = b, a) : e
    }, a.endAngle = function (b) {
      return arguments.length ? (f = b, a) : f
    }, a
  };
  var Gf = {};
  d3.layout.stack = function () {
    function a(f, i) {
      var j = f.map(function (c, d) {
        return b.call(a, c, d)
      }), k = j.map(function (b) {
        return b.map(function (b, c) {
          return [g.call(a, b, c), h.call(a, b, c)]
        })
      }), l = c.call(a, k, i);
      j = d3.permute(j, l), k = d3.permute(k, l);
      var m, n, o, p = d.call(a, k, i), q = j.length, r = j[0].length;
      for (n = 0; r > n; ++n)for (e.call(a, j[0][n], o = p[n], k[0][n][1]), m = 1; q > m; ++m)e.call(a, j[m][n], o += k[m - 1][n][1], k[m][n][1]);
      return f
    }

    var b = f, c = Fc, d = Gc, e = Ec, g = Cc, h = Dc;
    return a.values = function (c) {
      return arguments.length ? (b = c, a) : b
    }, a.order = function (b) {
      return arguments.length ? (c = "function" == typeof b ? b : Hf.get(b) || Fc, a) : c
    }, a.offset = function (b) {
      return arguments.length ? (d = "function" == typeof b ? b : If.get(b) || Gc, a) : d
    }, a.x = function (b) {
      return arguments.length ? (g = b, a) : g
    }, a.y = function (b) {
      return arguments.length ? (h = b, a) : h
    }, a.out = function (b) {
      return arguments.length ? (e = b, a) : e
    }, a
  };
  var Hf = d3.map({
    "inside-out": function (a) {
      var b, c, d = a.length, e = a.map(Hc), f = a.map(Ic), g = d3.range(d).sort(function (a, b) {
        return e[a] - e[b]
      }), h = 0, i = 0, j = [], k = [];
      for (b = 0; d > b; ++b)c = g[b], i > h ? (h += f[c], j.push(c)) : (i += f[c], k.push(c));
      return k.reverse().concat(j)
    }, reverse: function (a) {
      return d3.range(a.length).reverse()
    }, "default": Fc
  }), If = d3.map({
    silhouette: function (a) {
      var b, c, d, e = a.length, f = a[0].length, g = [], h = 0, i = [];
      for (c = 0; f > c; ++c) {
        for (b = 0, d = 0; e > b; b++)d += a[b][c][1];
        d > h && (h = d), g.push(d)
      }
      for (c = 0; f > c; ++c)i[c] = (h - g[c]) / 2;
      return i
    }, wiggle: function (a) {
      var b, c, d, e, f, g, h, i, j, k = a.length, l = a[0], m = l.length, n = [];
      for (n[0] = i = j = 0, c = 1; m > c; ++c) {
        for (b = 0, e = 0; k > b; ++b)e += a[b][c][1];
        for (b = 0, f = 0, h = l[c][0] - l[c - 1][0]; k > b; ++b) {
          for (d = 0, g = (a[b][c][1] - a[b][c - 1][1]) / (2 * h); b > d; ++d)g += (a[d][c][1] - a[d][c - 1][1]) / h;
          f += g * a[b][c][1]
        }
        n[c] = i -= e ? f / e * h : 0, j > i && (j = i)
      }
      for (c = 0; m > c; ++c)n[c] -= j;
      return n
    }, expand: function (a) {
      var b, c, d, e = a.length, f = a[0].length, g = 1 / e, h = [];
      for (c = 0; f > c; ++c) {
        for (b = 0, d = 0; e > b; b++)d += a[b][c][1];
        if (d)for (b = 0; e > b; b++)a[b][c][1] /= d; else for (b = 0; e > b; b++)a[b][c][1] = g
      }
      for (c = 0; f > c; ++c)h[c] = 0;
      return h
    }, zero: Gc
  });
  d3.layout.histogram = function () {
    function a(a, f) {
      for (var g, h, i = [], j = a.map(c, this), k = d.call(this, j, f), l = e.call(this, k, j, f), f = -1, m = j.length, n = l.length - 1, o = b ? 1 : 1 / m; ++f < n;)g = i[f] = [], g.dx = l[f + 1] - (g.x = l[f]), g.y = 0;
      if (n > 0)for (f = -1; ++f < m;)h = j[f], h >= k[0] && h <= k[1] && (g = i[d3.bisect(l, h, 1, n) - 1], g.y += o, g.push(a[f]));
      return i
    }

    var b = !0, c = Number, d = Mc, e = Kc;
    return a.value = function (b) {
      return arguments.length ? (c = b, a) : c
    }, a.range = function (b) {
      return arguments.length ? (d = i(b), a) : d
    }, a.bins = function (b) {
      return arguments.length ? (e = "number" == typeof b ? function (a) {
        return Lc(a, b)
      } : i(b), a) : e
    }, a.frequency = function (c) {
      return arguments.length ? (b = !!c, a) : b
    }, a
  }, d3.layout.hierarchy = function () {
    function a(b, h, i) {
      var j = f.call(c, b, h), k = Jf ? b : {data: b};
      if (k.depth = h, i.push(k), j && (l = j.length)) {
        for (var l, m = -1, n = k.children = [], o = 0, p = h + 1; ++m < l;)d = a(j[m], p, i), d.parent = k, n.push(d), o += d.value;
        e && n.sort(e), g && (k.value = o)
      } else g && (k.value = +g.call(c, b, h) || 0);
      return k
    }

    function b(a, d) {
      var e = a.children, f = 0;
      if (e && (h = e.length))for (var h, i = -1, j = d + 1; ++i < h;)f += b(e[i], j); else g && (f = +g.call(c, Jf ? a : a.data, d) || 0);
      return g && (a.value = f), f
    }

    function c(b) {
      var c = [];
      return a(b, 0, c), c
    }

    var e = Qc, f = Oc, g = Pc;
    return c.sort = function (a) {
      return arguments.length ? (e = a, c) : e
    }, c.children = function (a) {
      return arguments.length ? (f = a, c) : f
    }, c.value = function (a) {
      return arguments.length ? (g = a, c) : g
    }, c.revalue = function (a) {
      return b(a, 0), a
    }, c
  };
  var Jf = !1;
  d3.layout.pack = function () {
    function a(a, d) {
      var e = b.call(this, a, d), f = e[0];
      f.x = 0, f.y = 0, Zc(f);
      var g = c[0], h = c[1], i = 1 / Math.max(2 * f.r / g, 2 * f.r / h);
      return $c(f, g / 2, h / 2, i), e
    }

    var b = d3.layout.hierarchy().sort(Sc), c = [1, 1];
    return a.size = function (b) {
      return arguments.length ? (c = b, a) : c
    }, Nc(a, b)
  }, d3.layout.cluster = function () {
    function a(a, e) {
      var f, g = b.call(this, a, e), h = g[0], i = 0;
      ld(h, function (a) {
        var b = a.children;
        b && b.length ? (a.x = bd(b), a.y = ad(b)) : (a.x = f ? i += c(a, f) : 0, a.y = 0, f = a)
      });
      var j = cd(h), k = dd(h), l = j.x - c(j, k) / 2, m = k.x + c(k, j) / 2;
      return ld(h, function (a) {
        a.x = (a.x - l) / (m - l) * d[0], a.y = (1 - (h.y ? a.y / h.y : 1)) * d[1]
      }), g
    }

    var b = d3.layout.hierarchy().sort(null).value(null), c = ed, d = [1, 1];
    return a.separation = function (b) {
      return arguments.length ? (c = b, a) : c
    }, a.size = function (b) {
      return arguments.length ? (d = b, a) : d
    }, Nc(a, b)
  }, d3.layout.tree = function () {
    function a(a, e) {
      function f(a, b) {
        var d = a.children, e = a._tree;
        if (d && (g = d.length)) {
          for (var g, i, j, k = d[0], l = k, m = -1; ++m < g;)j = d[m], f(j, i), l = h(j, i, l), i = j;
          md(a);
          var n = .5 * (k._tree.prelim + j._tree.prelim);
          b ? (e.prelim = b._tree.prelim + c(a, b), e.mod = e.prelim - n) : e.prelim = n
        } else b && (e.prelim = b._tree.prelim + c(a, b))
      }

      function g(a, b) {
        a.x = a._tree.prelim + b;
        var c = a.children;
        if (c && (d = c.length)) {
          var d, e = -1;
          for (b += a._tree.mod; ++e < d;)g(c[e], b)
        }
      }

      function h(a, b, d) {
        if (b) {
          for (var e, f = a, g = a, h = b, i = a.parent.children[0], j = f._tree.mod, k = g._tree.mod, l = h._tree.mod, m = i._tree.mod; h = gd(h), f = fd(f), h && f;)i = fd(i), g = gd(g), g._tree.ancestor = a, e = h._tree.prelim + l - f._tree.prelim - j + c(h, f), e > 0 && (nd(od(h, a, d), a, e), j += e, k += e), l += h._tree.mod, j += f._tree.mod, m += i._tree.mod, k += g._tree.mod;
          h && !gd(g) && (g._tree.thread = h, g._tree.mod += l - k), f && !fd(i) && (i._tree.thread = f, i._tree.mod += j - m, d = a)
        }
        return d
      }

      var i = b.call(this, a, e), j = i[0];
      ld(j, function (a, b) {
        a._tree = {ancestor: a, prelim: 0, mod: 0, change: 0, shift: 0, number: b ? b._tree.number + 1 : 0}
      }), f(j), g(j, -j._tree.prelim);
      var k = hd(j, jd), l = hd(j, id), m = hd(j, kd), n = k.x - c(k, l) / 2, o = l.x + c(l, k) / 2, p = m.depth || 1;
      return ld(j, function (a) {
        a.x = (a.x - n) / (o - n) * d[0], a.y = a.depth / p * d[1], delete a._tree
      }), i
    }

    var b = d3.layout.hierarchy().sort(null).value(null), c = ed, d = [1, 1];
    return a.separation = function (b) {
      return arguments.length ? (c = b, a) : c
    }, a.size = function (b) {
      return arguments.length ? (d = b, a) : d
    }, Nc(a, b)
  }, d3.layout.treemap = function () {
    function a(a, b) {
      for (var c, d, e = -1, f = a.length; ++e < f;)d = (c = a[e]).value * (0 > b ? 0 : b), c.area = isNaN(d) || 0 >= d ? 0 : d
    }

    function b(c) {
      var f = c.children;
      if (f && f.length) {
        var g, h, i, j = l(c), k = [], m = f.slice(), n = 1 / 0, o = Math.min(j.dx, j.dy);
        for (a(m, j.dx * j.dy / c.value), k.area = 0; (i = m.length) > 0;)k.push(g = m[i - 1]), k.area += g.area, (h = d(k, o)) <= n ? (m.pop(), n = h) : (k.area -= k.pop().area, e(k, o, j, !1), o = Math.min(j.dx, j.dy), k.length = k.area = 0, n = 1 / 0);
        k.length && (e(k, o, j, !0), k.length = k.area = 0), f.forEach(b)
      }
    }

    function c(b) {
      var d = b.children;
      if (d && d.length) {
        var f, g = l(b), h = d.slice(), i = [];
        for (a(h, g.dx * g.dy / b.value), i.area = 0; f = h.pop();)i.push(f), i.area += f.area, null != f.z && (e(i, f.z ? g.dx : g.dy, g, !h.length), i.length = i.area = 0);
        d.forEach(c)
      }
    }

    function d(a, b) {
      for (var c, d = a.area, e = 0, f = 1 / 0, g = -1, h = a.length; ++g < h;)(c = a[g].area) && (f > c && (f = c), c > e && (e = c));
      return d *= d, b *= b, d ? Math.max(b * e * n / d, d / (b * f * n)) : 1 / 0
    }

    function e(a, b, c, d) {
      var e, f = -1, g = a.length, h = c.x, j = c.y, k = b ? i(a.area / b) : 0;
      if (b == c.dx) {
        for ((d || k > c.dy) && (k = c.dy); ++f < g;)e = a[f], e.x = h, e.y = j, e.dy = k, h += e.dx = Math.min(c.x + c.dx - h, k ? i(e.area / k) : 0);
        e.z = !0, e.dx += c.x + c.dx - h, c.y += k, c.dy -= k
      } else {
        for ((d || k > c.dx) && (k = c.dx); ++f < g;)e = a[f], e.x = h, e.y = j, e.dx = k, j += e.dy = Math.min(c.y + c.dy - j, k ? i(e.area / k) : 0);
        e.z = !1, e.dy += c.y + c.dy - j, c.x += k, c.dx -= k
      }
    }

    function f(d) {
      var e = g || h(d), f = e[0];
      return f.x = 0, f.y = 0, f.dx = j[0], f.dy = j[1], g && h.revalue(f), a([f], f.dx * f.dy / f.value), (g ? c : b)(f), m && (g = e), e
    }

    var g, h = d3.layout.hierarchy(), i = Math.round, j = [1, 1], k = null, l = pd, m = !1, n = .5 * (1 + Math.sqrt(5));
    return f.size = function (a) {
      return arguments.length ? (j = a, f) : j
    }, f.padding = function (a) {
      function b(b) {
        var c = a.call(f, b, b.depth);
        return null == c ? pd(b) : qd(b, "number" == typeof c ? [c, c, c, c] : c)
      }

      function c(b) {
        return qd(b, a)
      }

      if (!arguments.length)return k;
      var d;
      return l = null == (k = a) ? pd : "function" == (d = typeof a) ? b : "number" === d ? (a = [a, a, a, a], c) : c, f
    }, f.round = function (a) {
      return arguments.length ? (i = a ? Math.round : Number, f) : i != Number
    }, f.sticky = function (a) {
      return arguments.length ? (m = a, g = null, f) : m
    }, f.ratio = function (a) {
      return arguments.length ? (n = a, f) : n
    }, Nc(f, h)
  }, d3.csv = function (a, b) {
    d3.text(a, "text/csv", function (a) {
      b(a && d3.csv.parse(a))
    })
  }, d3.csv.parse = function (a) {
    var b;
    return d3.csv.parseRows(a, function (a, c) {
      if (c) {
        for (var d = {}, e = -1, f = b.length; ++e < f;)d[b[e]] = a[e];
        return d
      }
      return b = a, null
    })
  }, d3.csv.parseRows = function (a, b) {
    function c() {
      if (i.lastIndex >= a.length)return g;
      if (e)return e = !1, f;
      var b = i.lastIndex;
      if (34 === a.charCodeAt(b)) {
        for (var c = b; c++ < a.length;)if (34 === a.charCodeAt(c)) {
          if (34 !== a.charCodeAt(c + 1))break;
          c++
        }
        i.lastIndex = c + 2;
        var d = a.charCodeAt(c + 1);
        return 13 === d ? (e = !0, 10 === a.charCodeAt(c + 2) && i.lastIndex++) : 10 === d && (e = !0), a.substring(b + 1, c).replace(/""/g, '"')
      }
      var h = i.exec(a);
      return h ? (e = 44 !== h[0].charCodeAt(0), a.substring(b, h.index)) : (i.lastIndex = a.length, a.substring(b))
    }

    var d, e, f = {}, g = {}, h = [], i = /\r\n|[,\r\n]/g, j = 0;
    for (i.lastIndex = 0; (d = c()) !== g;) {
      for (var k = []; d !== f && d !== g;)k.push(d), d = c();
      (!b || (k = b(k, j++))) && h.push(k)
    }
    return h
  }, d3.csv.format = function (a) {
    return a.map(rd).join("\n")
  }, d3.geo = {};
  var Kf = Math.PI / 180;
  d3.geo.azimuthal = function () {
    function a(a) {
      var b, d = a[0] * Kf - c, j = a[1] * Kf, k = Math.cos(d), l = Math.sin(d), m = Math.cos(j), n = Math.sin(j), o = "orthographic" !== g ? f * n + e * m * k : null, p = "stereographic" === g ? 1 / (1 + o) : "gnomonic" === g ? 1 / o : "equidistant" === g ? (b = Math.acos(o), b ? b / Math.sin(b) : 0) : "equalarea" === g ? Math.sqrt(2 / (1 + o)) : 1, q = p * m * l, r = p * (f * m * k - e * n);
      return [h * q + i[0], h * r + i[1]]
    }

    var b, c, d, e, f, g = "orthographic", h = 200, i = [480, 250];
    return a.invert = function (a) {
      var b = (a[0] - i[0]) / h, d = (a[1] - i[1]) / h, j = Math.sqrt(b * b + d * d), k = "stereographic" === g ? 2 * Math.atan(j) : "gnomonic" === g ? Math.atan(j) : "equidistant" === g ? j : "equalarea" === g ? 2 * Math.asin(.5 * j) : Math.asin(j), l = Math.sin(k), m = Math.cos(k);
      return [(c + Math.atan2(b * l, j * e * m + d * f * l)) / Kf, Math.asin(m * f - (j ? d * l * e / j : 0)) / Kf]
    }, a.mode = function (b) {
      return arguments.length ? (g = b + "", a) : g
    }, a.origin = function (g) {
      return arguments.length ? (b = g, c = b[0] * Kf, d = b[1] * Kf, e = Math.cos(d), f = Math.sin(d), a) : b
    }, a.scale = function (b) {
      return arguments.length ? (h = +b, a) : h
    }, a.translate = function (b) {
      return arguments.length ? (i = [+b[0], +b[1]], a) : i
    }, a.origin([0, 0])
  }, d3.geo.albers = function () {
    function a(a) {
      var b = d * (Kf * a[0] - c), g = Math.sqrt(e - 2 * d * Math.sin(Kf * a[1])) / d;
      return [i * g * Math.sin(b) + j[0], i * (g * Math.cos(b) - f) + j[1]]
    }

    function b() {
      var b = Kf * h[0], i = Kf * h[1], j = Kf * g[1], k = Math.sin(b), l = Math.cos(b);
      return c = Kf * g[0], d = .5 * (k + Math.sin(i)), e = l * l + 2 * d * k, f = Math.sqrt(e - 2 * d * Math.sin(j)) / d, a
    }

    var c, d, e, f, g = [-98, 38], h = [29.5, 45.5], i = 1e3, j = [480, 250];
    return a.invert = function (a) {
      var b = (a[0] - j[0]) / i, g = (a[1] - j[1]) / i, h = f + g, k = Math.atan2(b, h), l = Math.sqrt(b * b + h * h);
      return [(c + k / d) / Kf, Math.asin((e - l * l * d * d) / (2 * d)) / Kf]
    }, a.origin = function (a) {
      return arguments.length ? (g = [+a[0], +a[1]], b()) : g
    }, a.parallels = function (a) {
      return arguments.length ? (h = [+a[0], +a[1]], b()) : h
    }, a.scale = function (b) {
      return arguments.length ? (i = +b, a) : i
    }, a.translate = function (b) {
      return arguments.length ? (j = [+b[0], +b[1]], a) : j
    }, b()
  }, d3.geo.albersUsa = function () {
    function a(a) {
      var f = a[0], g = a[1];
      return (g > 50 ? c : -140 > f ? d : 21 > g ? e : b)(a)
    }

    var b = d3.geo.albers(), c = d3.geo.albers().origin([-160, 60]).parallels([55, 65]), d = d3.geo.albers().origin([-160, 20]).parallels([8, 18]), e = d3.geo.albers().origin([-60, 10]).parallels([8, 18]);
    return a.scale = function (f) {
      return arguments.length ? (b.scale(f), c.scale(.6 * f), d.scale(f), e.scale(1.5 * f), a.translate(b.translate())) : b.scale()
    }, a.translate = function (f) {
      if (!arguments.length)return b.translate();
      var g = b.scale() / 1e3, h = f[0], i = f[1];
      return b.translate(f), c.translate([h - 400 * g, i + 170 * g]), d.translate([h - 190 * g, i + 200 * g]), e.translate([h + 580 * g, i + 430 * g]), a
    }, a.scale(b.scale())
  }, d3.geo.bonne = function () {
    function a(a) {
      var h = a[0] * Kf - b, i = a[1] * Kf - c;
      if (d) {
        var j = e + d - i, k = h * Math.cos(i) / j;
        h = j * Math.sin(k), i = j * Math.cos(k) - e
      } else h *= Math.cos(i), i *= -1;
      return [f * h + g[0], f * i + g[1]]
    }

    var b, c, d, e, f = 200, g = [480, 250];
    return a.invert = function (a) {
      var c = (a[0] - g[0]) / f, h = (a[1] - g[1]) / f;
      if (d) {
        var i = e + h, j = Math.sqrt(c * c + i * i);
        h = e + d - j, c = b + j * Math.atan2(c, i) / Math.cos(h)
      } else h *= -1, c /= Math.cos(h);
      return [c / Kf, h / Kf]
    }, a.parallel = function (b) {
      return arguments.length ? (e = 1 / Math.tan(d = b * Kf), a) : d / Kf
    }, a.origin = function (d) {
      return arguments.length ? (b = d[0] * Kf, c = d[1] * Kf, a) : [b / Kf, c / Kf]
    }, a.scale = function (b) {
      return arguments.length ? (f = +b, a) : f
    }, a.translate = function (b) {
      return arguments.length ? (g = [+b[0], +b[1]], a) : g
    }, a.origin([0, 0]).parallel(45)
  }, d3.geo.equirectangular = function () {
    function a(a) {
      var d = a[0] / 360, e = -a[1] / 360;
      return [b * d + c[0], b * e + c[1]]
    }

    var b = 500, c = [480, 250];
    return a.invert = function (a) {
      var d = (a[0] - c[0]) / b, e = (a[1] - c[1]) / b;
      return [360 * d, -360 * e]
    }, a.scale = function (c) {
      return arguments.length ? (b = +c, a) : b
    }, a.translate = function (b) {
      return arguments.length ? (c = [+b[0], +b[1]], a) : c
    }, a
  }, d3.geo.mercator = function () {
    function a(a) {
      var d = a[0] / 360, e = -(Math.log(Math.tan(Math.PI / 4 + a[1] * Kf / 2)) / Kf) / 360;
      return [b * d + c[0], b * Math.max(-.5, Math.min(.5, e)) + c[1]]
    }

    var b = 500, c = [480, 250];
    return a.invert = function (a) {
      var d = (a[0] - c[0]) / b, e = (a[1] - c[1]) / b;
      return [360 * d, 2 * Math.atan(Math.exp(-360 * e * Kf)) / Kf - 90]
    }, a.scale = function (c) {
      return arguments.length ? (b = +c, a) : b
    }, a.translate = function (b) {
      return arguments.length ? (c = [+b[0], +b[1]], a) : c
    }, a
  }, d3.geo.path = function () {
    function a(a) {
      return "function" == typeof f && (g = ud(f.apply(this, arguments))), i(a) || null
    }

    function b(a) {
      return h(a).join(",")
    }

    function c(a) {
      for (var b = e(a[0]), c = 0, d = a.length; ++c < d;)b -= e(a[c]);
      return b
    }

    function d(a) {
      for (var b = d3.geom.polygon(a[0].map(h)), c = b.area(), d = b.centroid(0 > c ? (c *= -1, 1) : -1), e = d[0], f = d[1], g = c, i = 0, j = a.length; ++i < j;)b = d3.geom.polygon(a[i].map(h)), c = b.area(), d = b.centroid(0 > c ? (c *= -1, 1) : -1), e -= d[0], f -= d[1], g -= c;
      return [e, f, 6 * g]
    }

    function e(a) {
      return Math.abs(d3.geom.polygon(a.map(h)).area())
    }

    var f = 4.5, g = ud(f), h = d3.geo.albersUsa(), i = td({
      FeatureCollection: function (a) {
        for (var b = [], c = a.features, d = -1, e = c.length; ++d < e;)b.push(i(c[d].geometry));
        return b.join("")
      }, Feature: function (a) {
        return i(a.geometry)
      }, Point: function (a) {
        return "M" + b(a.coordinates) + g
      }, MultiPoint: function (a) {
        for (var c = [], d = a.coordinates, e = -1, f = d.length; ++e < f;)c.push("M", b(d[e]), g);
        return c.join("")
      }, LineString: function (a) {
        for (var c = ["M"], d = a.coordinates, e = -1, f = d.length; ++e < f;)c.push(b(d[e]), "L");
        return c.pop(), c.join("")
      }, MultiLineString: function (a) {
        for (var c, d, e, f = [], g = a.coordinates, h = -1, i = g.length; ++h < i;) {
          for (c = g[h], d = -1, e = c.length, f.push("M"); ++d < e;)f.push(b(c[d]), "L");
          f.pop()
        }
        return f.join("")
      }, Polygon: function (a) {
        for (var c, d, e, f = [], g = a.coordinates, h = -1, i = g.length; ++h < i;)if (c = g[h], d = -1, (e = c.length - 1) > 0) {
          for (f.push("M"); ++d < e;)f.push(b(c[d]), "L");
          f[f.length - 1] = "Z"
        }
        return f.join("")
      }, MultiPolygon: function (a) {
        for (var c, d, e, f, g, h, i = [], j = a.coordinates, k = -1, l = j.length; ++k < l;)for (c = j[k], d = -1, e = c.length; ++d < e;)if (f = c[d], g = -1, (h = f.length - 1) > 0) {
          for (i.push("M"); ++g < h;)i.push(b(f[g]), "L");
          i[i.length - 1] = "Z"
        }
        return i.join("")
      }, GeometryCollection: function (a) {
        for (var b = [], c = a.geometries, d = -1, e = c.length; ++d < e;)b.push(i(c[d]));
        return b.join("")
      }
    }), j = a.area = td({
      FeatureCollection: function (a) {
        for (var b = 0, c = a.features, d = -1, e = c.length; ++d < e;)b += j(c[d]);
        return b
      }, Feature: function (a) {
        return j(a.geometry)
      }, Polygon: function (a) {
        return c(a.coordinates)
      }, MultiPolygon: function (a) {
        for (var b = 0, d = a.coordinates, e = -1, f = d.length; ++e < f;)b += c(d[e]);
        return b
      }, GeometryCollection: function (a) {
        for (var b = 0, c = a.geometries, d = -1, e = c.length; ++d < e;)b += j(c[d]);
        return b
      }
    }, 0), k = a.centroid = td({
      Feature: function (a) {
        return k(a.geometry)
      }, Polygon: function (a) {
        var b = d(a.coordinates);
        return [b[0] / b[2], b[1] / b[2]]
      }, MultiPolygon: function (a) {
        for (var b, c = a.coordinates, e = 0, f = 0, g = 0, h = -1, i = c.length; ++h < i;)b = d(c[h]), e += b[0], f += b[1], g += b[2];
        return [e / g, f / g]
      }
    });
    return a.projection = function (b) {
      return h = b, a
    }, a.pointRadius = function (b) {
      return "function" == typeof b ? f = b : (f = +b, g = ud(f)), a
    }, a
  }, d3.geo.bounds = function (a) {
    var b = 1 / 0, c = 1 / 0, d = -1 / 0, e = -1 / 0;
    return vd(a, function (a, f) {
      b > a && (b = a), a > d && (d = a), c > f && (c = f), f > e && (e = f)
    }), [[b, c], [d, e]]
  };
  var Lf = {
    Feature: wd,
    FeatureCollection: xd,
    GeometryCollection: yd,
    LineString: zd,
    MultiLineString: Ad,
    MultiPoint: zd,
    MultiPolygon: Bd,
    Point: Cd,
    Polygon: Dd
  };
  d3.geo.circle = function () {
    function a() {
    }

    function b(a) {
      return i.distance(a) < h
    }

    function c(a) {
      for (var b, c, e, f, g, j = -1, k = a.length, l = []; ++j < k;)g = i.distance(e = a[j]), h > g ? (c && l.push(Gd(c, e)((f - h) / (f - g))), l.push(e), b = c = null) : (c = e, !b && l.length && (l.push(Gd(l[l.length - 1], c)((h - f) / (g - f))), b = c)), f = g;
      return c && l.length && (g = i.distance(e = l[0]), l.push(Gd(c, e)((f - h) / (f - g)))), d(l)
    }

    function d(a) {
      for (var b, c, d, e = 0, f = a.length, g = f ? [a[0]] : a, h = i.source(); ++e < f;)for (d = i.source(a[e - 1])(a[e]).coordinates, b = 0, c = d.length; ++b < c;)g.push(d[b]);
      return i.source(h), g
    }

    var e = [0, 0], g = 89.99, h = g * Kf, i = d3.geo.greatArc().target(f);
    a.clip = function (a) {
      return i.source("function" == typeof e ? e.apply(this, arguments) : e), j(a)
    };
    var j = td({
      FeatureCollection: function (a) {
        var b = a.features.map(j).filter(f);
        return b && (a = Object.create(a), a.features = b, a)
      }, Feature: function (a) {
        var b = j(a.geometry);
        return b && (a = Object.create(a), a.geometry = b, a)
      }, Point: function (a) {
        return b(a.coordinates) && a
      }, MultiPoint: function (a) {
        var c = a.coordinates.filter(b);
        return c.length && {type: a.type, coordinates: c}
      }, LineString: function (a) {
        var b = c(a.coordinates);
        return b.length && (a = Object.create(a), a.coordinates = b, a)
      }, MultiLineString: function (a) {
        var b = a.coordinates.map(c).filter(function (a) {
          return a.length
        });
        return b.length && (a = Object.create(a), a.coordinates = b, a)
      }, Polygon: function (a) {
        var b = a.coordinates.map(c);
        return b[0].length && (a = Object.create(a), a.coordinates = b, a)
      }, MultiPolygon: function (a) {
        var b = a.coordinates.map(function (a) {
          return a.map(c)
        }).filter(function (a) {
          return a[0].length
        });
        return b.length && (a = Object.create(a), a.coordinates = b, a)
      }, GeometryCollection: function (a) {
        var b = a.geometries.map(j).filter(f);
        return b.length && (a = Object.create(a), a.geometries = b, a)
      }
    });
    return a.origin = function (b) {
      return arguments.length ? (e = b, a) : e
    }, a.angle = function (b) {
      return arguments.length ? (h = (g = +b) * Kf, a) : g
    }, a.precision = function (b) {
      return arguments.length ? (i.precision(b), a) : i.precision()
    }, a
  }, d3.geo.greatArc = function () {
    function a() {
      for (var a = "function" == typeof b ? b.apply(this, arguments) : b, e = "function" == typeof c ? c.apply(this, arguments) : c, f = Gd(a, e), g = d / f.d, h = 0, i = [a]; (h += g) < 1;)i.push(f(h));
      return i.push(e), {type: "LineString", coordinates: i}
    }

    var b = Ed, c = Fd, d = 6 * Kf;
    return a.distance = function () {
      var a = "function" == typeof b ? b.apply(this, arguments) : b, d = "function" == typeof c ? c.apply(this, arguments) : c;
      return Gd(a, d).d
    }, a.source = function (c) {
      return arguments.length ? (b = c, a) : b
    }, a.target = function (b) {
      return arguments.length ? (c = b, a) : c
    }, a.precision = function (b) {
      return arguments.length ? (d = b * Kf, a) : d / Kf
    }, a
  }, d3.geo.greatCircle = d3.geo.circle, d3.geom = {}, d3.geom.contour = function (a, b) {
    var c = b || Hd(a), d = [], e = c[0], f = c[1], g = 0, h = 0, i = 0 / 0, j = 0 / 0, k = 0;
    do k = 0, a(e - 1, f - 1) && (k += 1), a(e, f - 1) && (k += 2), a(e - 1, f) && (k += 4), a(e, f) && (k += 8), 6 === k ? (g = -1 === j ? -1 : 1, h = 0) : 9 === k ? (g = 0, h = 1 === i ? -1 : 1) : (g = Mf[k], h = Nf[k]), g != i && h != j && (d.push([e, f]), i = g, j = h), e += g, f += h; while (c[0] != e || c[1] != f);
    return d
  };
  var Mf = [1, 0, 1, 1, -1, 0, -1, 1, 0, 0, 0, 0, -1, 0, -1, 0 / 0], Nf = [0, -1, 0, 0, 0, -1, 0, 0, 1, -1, 1, 1, 0, -1, 0, 0 / 0];
  d3.geom.hull = function (a) {
    if (a.length < 3)return [];
    var b, c, d, e, f, g, h, i, j, k, l = a.length, m = l - 1, n = [], o = [], p = 0;
    for (b = 1; l > b; ++b)a[b][1] < a[p][1] ? p = b : a[b][1] == a[p][1] && (p = a[b][0] < a[p][0] ? b : p);
    for (b = 0; l > b; ++b)b !== p && (e = a[b][1] - a[p][1], d = a[b][0] - a[p][0], n.push({
      angle: Math.atan2(e, d),
      index: b
    }));
    for (n.sort(function (a, b) {
      return a.angle - b.angle
    }), j = n[0].angle, i = n[0].index, h = 0, b = 1; m > b; ++b)c = n[b].index, j == n[b].angle ? (d = a[i][0] - a[p][0], e = a[i][1] - a[p][1], f = a[c][0] - a[p][0], g = a[c][1] - a[p][1], d * d + e * e >= f * f + g * g ? n[b].index = -1 : (n[h].index = -1, j = n[b].angle, h = b, i = c)) : (j = n[b].angle, h = b, i = c);
    for (o.push(p), b = 0, c = 0; 2 > b; ++c)-1 !== n[c].index && (o.push(n[c].index), b++);
    for (k = o.length; m > c; ++c)if (-1 !== n[c].index) {
      for (; !Id(o[k - 2], o[k - 1], n[c].index, a);)--k;
      o[k++] = n[c].index
    }
    var q = [];
    for (b = 0; k > b; ++b)q.push(a[o[b]]);
    return q
  }, d3.geom.polygon = function (a) {
    return a.area = function () {
      for (var b = 0, c = a.length, d = a[c - 1][0] * a[0][1], e = a[c - 1][1] * a[0][0]; ++b < c;)d += a[b - 1][0] * a[b][1], e += a[b - 1][1] * a[b][0];
      return .5 * (e - d)
    }, a.centroid = function (b) {
      var c, d, e = -1, f = a.length, g = 0, h = 0, i = a[f - 1];
      for (arguments.length || (b = -1 / (6 * a.area())); ++e < f;)c = i, i = a[e], d = c[0] * i[1] - i[0] * c[1], g += (c[0] + i[0]) * d, h += (c[1] + i[1]) * d;
      return [g * b, h * b]
    }, a.clip = function (b) {
      for (var c, d, e, f, g, h, i = -1, j = a.length, k = a[j - 1]; ++i < j;) {
        for (c = b.slice(), b.length = 0, f = a[i], g = c[(e = c.length) - 1], d = -1; ++d < e;)h = c[d], Jd(h, k, f) ? (Jd(g, k, f) || b.push(Kd(g, h, k, f)), b.push(h)) : Jd(g, k, f) && b.push(Kd(g, h, k, f)), g = h;
        k = f
      }
      return b
    }, a
  }, d3.geom.voronoi = function (a) {
    var b = a.map(function () {
      return []
    });
    return Ld(a, function (a) {
      var c, d, e, f, g, h;
      1 === a.a && a.b >= 0 ? (c = a.ep.r, d = a.ep.l) : (c = a.ep.l, d = a.ep.r), 1 === a.a ? (g = c ? c.y : -1e6, e = a.c - a.b * g, h = d ? d.y : 1e6, f = a.c - a.b * h) : (e = c ? c.x : -1e6, g = a.c - a.a * e, f = d ? d.x : 1e6, h = a.c - a.a * f);
      var i = [e, g], j = [f, h];
      b[a.region.l.index].push(i, j), b[a.region.r.index].push(i, j)
    }), b.map(function (b, c) {
      var d = a[c][0], e = a[c][1];
      return b.forEach(function (a) {
        a.angle = Math.atan2(a[0] - d, a[1] - e)
      }), b.sort(function (a, b) {
        return a.angle - b.angle
      }).filter(function (a, c) {
        return !c || a.angle - b[c - 1].angle > 1e-10
      })
    })
  };
  var Of = {l: "r", r: "l"};
  d3.geom.delaunay = function (a) {
    var b = a.map(function () {
      return []
    }), c = [];
    return Ld(a, function (c) {
      b[c.region.l.index].push(a[c.region.r.index])
    }), b.forEach(function (b, d) {
      var e = a[d], f = e[0], g = e[1];
      b.forEach(function (a) {
        a.angle = Math.atan2(a[0] - f, a[1] - g)
      }), b.sort(function (a, b) {
        return a.angle - b.angle
      });
      for (var h = 0, i = b.length - 1; i > h; h++)c.push([e, b[h], b[h + 1]])
    }), c
  }, d3.geom.quadtree = function (a, b, c, d, e) {
    function f(a, b, c, d, e, f) {
      if (!isNaN(b.x) && !isNaN(b.y))if (a.leaf) {
        var h = a.point;
        h ? Math.abs(h.x - b.x) + Math.abs(h.y - b.y) < .01 ? g(a, b, c, d, e, f) : (a.point = null, g(a, h, c, d, e, f), g(a, b, c, d, e, f)) : a.point = b
      } else g(a, b, c, d, e, f)
    }

    function g(a, b, c, d, e, g) {
      var h = .5 * (c + e), i = .5 * (d + g), j = b.x >= h, k = b.y >= i, l = (k << 1) + j;
      a.leaf = !1, a = a.nodes[l] || (a.nodes[l] = Md()), j ? c = h : e = h, k ? d = i : g = i, f(a, b, c, d, e, g)
    }

    var h, i = -1, j = a.length;
    if (j && isNaN(a[0].x) && (a = a.map(Od)), arguments.length < 5)if (3 === arguments.length)e = d = c, c = b; else {
      for (b = c = 1 / 0, d = e = -1 / 0; ++i < j;)h = a[i], h.x < b && (b = h.x), h.y < c && (c = h.y), h.x > d && (d = h.x), h.y > e && (e = h.y);
      var k = d - b, l = e - c;
      k > l ? e = c + k : d = b + l
    }
    var m = Md();
    return m.add = function (a) {
      f(m, a, b, c, d, e)
    }, m.visit = function (a) {
      Nd(a, m, b, c, d, e)
    }, a.forEach(m.add), m
  }, d3.time = {};
  var Pf = Date;
  Pd.prototype = {
    getDate: function () {
      return this._.getUTCDate()
    }, getDay: function () {
      return this._.getUTCDay()
    }, getFullYear: function () {
      return this._.getUTCFullYear()
    }, getHours: function () {
      return this._.getUTCHours()
    }, getMilliseconds: function () {
      return this._.getUTCMilliseconds()
    }, getMinutes: function () {
      return this._.getUTCMinutes()
    }, getMonth: function () {
      return this._.getUTCMonth()
    }, getSeconds: function () {
      return this._.getUTCSeconds()
    }, getTime: function () {
      return this._.getTime()
    }, getTimezoneOffset: function () {
      return 0
    }, valueOf: function () {
      return this._.valueOf()
    }, setDate: function () {
      Qf.setUTCDate.apply(this._, arguments)
    }, setDay: function () {
      Qf.setUTCDay.apply(this._, arguments)
    }, setFullYear: function () {
      Qf.setUTCFullYear.apply(this._, arguments)
    }, setHours: function () {
      Qf.setUTCHours.apply(this._, arguments)
    }, setMilliseconds: function () {
      Qf.setUTCMilliseconds.apply(this._, arguments)
    }, setMinutes: function () {
      Qf.setUTCMinutes.apply(this._, arguments)
    }, setMonth: function () {
      Qf.setUTCMonth.apply(this._, arguments)
    }, setSeconds: function () {
      Qf.setUTCSeconds.apply(this._, arguments)
    }, setTime: function () {
      Qf.setTime.apply(this._, arguments)
    }
  };
  var Qf = Date.prototype;
  d3.time.format = function (a) {
    function b(b) {
      for (var d, e, f = [], g = -1, h = 0; ++g < c;)37 == a.charCodeAt(g) && (f.push(a.substring(h, g), (e = Vf[d = a.charAt(++g)]) ? e(b) : d), h = g + 1);
      return f.push(a.substring(h, g)), f.join("")
    }

    var c = a.length;
    return b.parse = function (b) {
      var c = {y: 1900, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0}, d = Qd(c, a, b, 0);
      if (d != b.length)return null;
      "p"in c && (c.H = c.H % 12 + 12 * c.p);
      var e = new Pf;
      return e.setFullYear(c.y, c.m, c.d), e.setHours(c.H, c.M, c.S, c.L), e
    }, b.toString = function () {
      return a
    }, b
  };
  var Rf = d3.format("02d"), Sf = d3.format("03d"), Tf = d3.format("04d"), Uf = d3.format("2d"), Vf = {
    a: function (a) {
      return Zf[a.getDay()].substring(0, 3)
    }, A: function (a) {
      return Zf[a.getDay()]
    }, b: function (a) {
      return bg[a.getMonth()].substring(0, 3)
    }, B: function (a) {
      return bg[a.getMonth()]
    }, c: d3.time.format("%a %b %e %H:%M:%S %Y"), d: function (a) {
      return Rf(a.getDate())
    }, e: function (a) {
      return Uf(a.getDate())
    }, H: function (a) {
      return Rf(a.getHours())
    }, I: function (a) {
      return Rf(a.getHours() % 12 || 12)
    }, j: function (a) {
      return Sf(1 + d3.time.dayOfYear(a))
    }, L: function (a) {
      return Sf(a.getMilliseconds())
    }, m: function (a) {
      return Rf(a.getMonth() + 1)
    }, M: function (a) {
      return Rf(a.getMinutes())
    }, p: function (a) {
      return a.getHours() >= 12 ? "PM" : "AM"
    }, S: function (a) {
      return Rf(a.getSeconds())
    }, U: function (a) {
      return Rf(d3.time.sundayOfYear(a))
    }, w: function (a) {
      return a.getDay()
    }, W: function (a) {
      return Rf(d3.time.mondayOfYear(a))
    }, x: d3.time.format("%m/%d/%y"), X: d3.time.format("%H:%M:%S"), y: function (a) {
      return Rf(a.getFullYear() % 100)
    }, Y: function (a) {
      return Tf(a.getFullYear() % 1e4)
    }, Z: ge, "%": function () {
      return "%"
    }
  }, Wf = {
    a: Rd,
    A: Sd,
    b: Td,
    B: Ud,
    c: Vd,
    d: ae,
    e: ae,
    H: be,
    I: be,
    L: ee,
    m: _d,
    M: ce,
    p: fe,
    S: de,
    x: Wd,
    X: Xd,
    y: Zd,
    Y: Yd
  }, Xf = /^(?:sun|mon|tue|wed|thu|fri|sat)/i, Yf = /^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/i, Zf = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], $f = d3.map({
    jan: 0,
    feb: 1,
    mar: 2,
    apr: 3,
    may: 4,
    jun: 5,
    jul: 6,
    aug: 7,
    sep: 8,
    oct: 9,
    nov: 10,
    dec: 11
  }), _f = /^(?:January|February|March|April|May|June|July|August|September|October|November|December)/gi, ag = d3.map({
    january: 0,
    february: 1,
    march: 2,
    april: 3,
    may: 4,
    june: 5,
    july: 6,
    august: 7,
    september: 8,
    october: 9,
    november: 10,
    december: 11
  }), bg = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], cg = /\s*\d+/, dg = d3.map({
    am: 0,
    pm: 1
  });
  d3.time.format.utc = function (a) {
    function b(a) {
      try {
        Pf = Pd;
        var b = new Pf;
        return b._ = a, c(b)
      } finally {
        Pf = Date
      }
    }

    var c = d3.time.format(a);
    return b.parse = function (a) {
      try {
        Pf = Pd;
        var b = c.parse(a);
        return b && b._
      } finally {
        Pf = Date
      }
    }, b.toString = c.toString, b
  };
  var eg = d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");
  d3.time.format.iso = Date.prototype.toISOString ? he : eg, he.parse = function (a) {
    return new Date(a)
  }, he.toString = eg.toString, d3.time.second = ie(function (a) {
    return new Pf(1e3 * Math.floor(a / 1e3))
  }, function (a, b) {
    a.setTime(a.getTime() + 1e3 * Math.floor(b))
  }, function (a) {
    return a.getSeconds()
  }), d3.time.seconds = d3.time.second.range, d3.time.seconds.utc = d3.time.second.utc.range, d3.time.minute = ie(function (a) {
    return new Pf(6e4 * Math.floor(a / 6e4))
  }, function (a, b) {
    a.setTime(a.getTime() + 6e4 * Math.floor(b))
  }, function (a) {
    return a.getMinutes()
  }), d3.time.minutes = d3.time.minute.range, d3.time.minutes.utc = d3.time.minute.utc.range, d3.time.hour = ie(function (a) {
    var b = a.getTimezoneOffset() / 60;
    return new Pf(36e5 * (Math.floor(a / 36e5 - b) + b))
  }, function (a, b) {
    a.setTime(a.getTime() + 36e5 * Math.floor(b))
  }, function (a) {
    return a.getHours()
  }), d3.time.hours = d3.time.hour.range, d3.time.hours.utc = d3.time.hour.utc.range, d3.time.day = ie(function (a) {
    return new Pf(a.getFullYear(), a.getMonth(), a.getDate())
  }, function (a, b) {
    a.setDate(a.getDate() + b)
  }, function (a) {
    return a.getDate() - 1
  }), d3.time.days = d3.time.day.range, d3.time.days.utc = d3.time.day.utc.range, d3.time.dayOfYear = function (a) {
    var b = d3.time.year(a);
    return Math.floor((a - b) / 864e5 - (a.getTimezoneOffset() - b.getTimezoneOffset()) / 1440)
  }, Zf.forEach(function (a, b) {
    a = a.toLowerCase(), b = 7 - b;
    var c = d3.time[a] = ie(function (a) {
      return (a = d3.time.day(a)).setDate(a.getDate() - (a.getDay() + b) % 7), a
    }, function (a, b) {
      a.setDate(a.getDate() + 7 * Math.floor(b))
    }, function (a) {
      var c = d3.time.year(a).getDay();
      return Math.floor((d3.time.dayOfYear(a) + (c + b) % 7) / 7) - (c !== b)
    });
    d3.time[a + "s"] = c.range, d3.time[a + "s"].utc = c.utc.range, d3.time[a + "OfYear"] = function (a) {
      var c = d3.time.year(a).getDay();
      return Math.floor((d3.time.dayOfYear(a) + (c + b) % 7) / 7)
    }
  }), d3.time.week = d3.time.sunday, d3.time.weeks = d3.time.sunday.range, d3.time.weeks.utc = d3.time.sunday.utc.range, d3.time.weekOfYear = d3.time.sundayOfYear, d3.time.month = ie(function (a) {
    return new Pf(a.getFullYear(), a.getMonth(), 1)
  }, function (a, b) {
    a.setMonth(a.getMonth() + b)
  }, function (a) {
    return a.getMonth()
  }), d3.time.months = d3.time.month.range, d3.time.months.utc = d3.time.month.utc.range, d3.time.year = ie(function (a) {
    return new Pf(a.getFullYear(), 0, 1)
  }, function (a, b) {
    a.setFullYear(a.getFullYear() + b)
  }, function (a) {
    return a.getFullYear()
  }), d3.time.years = d3.time.year.range, d3.time.years.utc = d3.time.year.utc.range;
  var fg = [1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6], gg = [[d3.time.second, 1], [d3.time.second, 5], [d3.time.second, 15], [d3.time.second, 30], [d3.time.minute, 1], [d3.time.minute, 5], [d3.time.minute, 15], [d3.time.minute, 30], [d3.time.hour, 1], [d3.time.hour, 3], [d3.time.hour, 6], [d3.time.hour, 12], [d3.time.day, 1], [d3.time.day, 2], [d3.time.week, 1], [d3.time.month, 1], [d3.time.month, 3], [d3.time.year, 1]], hg = [[d3.time.format("%Y"), function () {
    return !0
  }], [d3.time.format("%B"), function (a) {
    return a.getMonth()
  }], [d3.time.format("%b %d"), function (a) {
    return 1 != a.getDate()
  }], [d3.time.format("%a %d"), function (a) {
    return a.getDay() && 1 != a.getDate()
  }], [d3.time.format("%I %p"), function (a) {
    return a.getHours()
  }], [d3.time.format("%I:%M"), function (a) {
    return a.getMinutes()
  }], [d3.time.format(":%S"), function (a) {
    return a.getSeconds()
  }], [d3.time.format(".%L"), function (a) {
    return a.getMilliseconds()
  }]], ig = d3.scale.linear(), jg = ne(hg);
  gg.year = function (a, b) {
    return ig.domain(a.map(pe)).ticks(b).map(oe)
  }, d3.time.scale = function () {
    return ke(d3.scale.linear(), gg, jg)
  };
  var kg = gg.map(function (a) {
    return [a[0].utc, a[1]]
  }), lg = [[d3.time.format.utc("%Y"), function () {
    return !0
  }], [d3.time.format.utc("%B"), function (a) {
    return a.getUTCMonth()
  }], [d3.time.format.utc("%b %d"), function (a) {
    return 1 != a.getUTCDate()
  }], [d3.time.format.utc("%a %d"), function (a) {
    return a.getUTCDay() && 1 != a.getUTCDate()
  }], [d3.time.format.utc("%I %p"), function (a) {
    return a.getUTCHours()
  }], [d3.time.format.utc("%I:%M"), function (a) {
    return a.getUTCMinutes()
  }], [d3.time.format.utc(":%S"), function (a) {
    return a.getUTCSeconds()
  }], [d3.time.format.utc(".%L"), function (a) {
    return a.getUTCMilliseconds()
  }]], mg = ne(lg);
  kg.year = function (a, b) {
    return ig.domain(a.map(re)).ticks(b).map(qe)
  }, d3.time.scale.utc = function () {
    return ke(d3.scale.linear(), kg, mg)
  }
}
(), function () {
  var a = this, b = a._, c = {}, d = Array.prototype, e = Object.prototype, f = Function.prototype, g = d.push, h = d.slice, i = d.concat, j = e.toString, k = e.hasOwnProperty, l = d.forEach, m = d.map, n = d.reduce, o = d.reduceRight, p = d.filter, q = d.every, r = d.some, s = d.indexOf, t = d.lastIndexOf, u = Array.isArray, v = Object.keys, w = f.bind, x = function (a) {
    return a instanceof x ? a : this instanceof x ? (this._wrapped = a, void 0) : new x(a)
  };
  "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = x), exports._ = x) : a._ = x, x.VERSION = "1.4.3";
  var y = x.each = x.forEach = function (a, b, d) {
    if (null != a)if (l && a.forEach === l)a.forEach(b, d); else if (a.length === +a.length) {
      for (var e = 0, f = a.length; f > e; e++)if (b.call(d, a[e], e, a) === c)return
    } else for (var g in a)if (x.has(a, g) && b.call(d, a[g], g, a) === c)return
  };
  x.map = x.collect = function (a, b, c) {
    var d = [];
    return null == a ? d : m && a.map === m ? a.map(b, c) : (y(a, function (a, e, f) {
      d[d.length] = b.call(c, a, e, f)
    }), d)
  };
  var z = "Reduce of empty array with no initial value";
  x.reduce = x.foldl = x.inject = function (a, b, c, d) {
    var e = arguments.length > 2;
    if (null == a && (a = []), n && a.reduce === n)return d && (b = x.bind(b, d)), e ? a.reduce(b, c) : a.reduce(b);
    if (y(a, function (a, f, g) {
        e ? c = b.call(d, c, a, f, g) : (c = a, e = !0)
      }), !e)throw new TypeError(z);
    return c
  }, x.reduceRight = x.foldr = function (a, b, c, d) {
    var e = arguments.length > 2;
    if (null == a && (a = []), o && a.reduceRight === o)return d && (b = x.bind(b, d)), e ? a.reduceRight(b, c) : a.reduceRight(b);
    var f = a.length;
    if (f !== +f) {
      var g = x.keys(a);
      f = g.length
    }
    if (y(a, function (h, i, j) {
        i = g ? g[--f] : --f, e ? c = b.call(d, c, a[i], i, j) : (c = a[i], e = !0)
      }), !e)throw new TypeError(z);
    return c
  }, x.find = x.detect = function (a, b, c) {
    var d;
    return A(a, function (a, e, f) {
      return b.call(c, a, e, f) ? (d = a, !0) : void 0
    }), d
  }, x.filter = x.select = function (a, b, c) {
    var d = [];
    return null == a ? d : p && a.filter === p ? a.filter(b, c) : (y(a, function (a, e, f) {
      b.call(c, a, e, f) && (d[d.length] = a)
    }), d)
  }, x.reject = function (a, b, c) {
    return x.filter(a, function (a, d, e) {
      return !b.call(c, a, d, e)
    }, c)
  }, x.every = x.all = function (a, b, d) {
    b || (b = x.identity);
    var e = !0;
    return null == a ? e : q && a.every === q ? a.every(b, d) : (y(a, function (a, f, g) {
      return (e = e && b.call(d, a, f, g)) ? void 0 : c
    }), !!e)
  };
  var A = x.some = x.any = function (a, b, d) {
    b || (b = x.identity);
    var e = !1;
    return null == a ? e : r && a.some === r ? a.some(b, d) : (y(a, function (a, f, g) {
      return e || (e = b.call(d, a, f, g)) ? c : void 0
    }), !!e)
  };
  x.contains = x.include = function (a, b) {
    return null == a ? !1 : s && a.indexOf === s ? -1 != a.indexOf(b) : A(a, function (a) {
      return a === b
    })
  }, x.invoke = function (a, b) {
    var c = h.call(arguments, 2);
    return x.map(a, function (a) {
      return (x.isFunction(b) ? b : a[b]).apply(a, c)
    })
  }, x.pluck = function (a, b) {
    return x.map(a, function (a) {
      return a[b]
    })
  }, x.where = function (a, b) {
    return x.isEmpty(b) ? [] : x.filter(a, function (a) {
      for (var c in b)if (b[c] !== a[c])return !1;
      return !0
    })
  }, x.max = function (a, b, c) {
    if (!b && x.isArray(a) && a[0] === +a[0] && a.length < 65535)return Math.max.apply(Math, a);
    if (!b && x.isEmpty(a))return -1 / 0;
    var d = {computed: -1 / 0, value: -1 / 0};
    return y(a, function (a, e, f) {
      var g = b ? b.call(c, a, e, f) : a;
      g >= d.computed && (d = {value: a, computed: g})
    }), d.value
  }, x.min = function (a, b, c) {
    if (!b && x.isArray(a) && a[0] === +a[0] && a.length < 65535)return Math.min.apply(Math, a);
    if (!b && x.isEmpty(a))return 1 / 0;
    var d = {computed: 1 / 0, value: 1 / 0};
    return y(a, function (a, e, f) {
      var g = b ? b.call(c, a, e, f) : a;
      g < d.computed && (d = {value: a, computed: g})
    }), d.value
  }, x.shuffle = function (a) {
    var b, c = 0, d = [];
    return y(a, function (a) {
      b = x.random(c++), d[c - 1] = d[b], d[b] = a
    }), d
  };
  var B = function (a) {
    return x.isFunction(a) ? a : function (b) {
      return b[a]
    }
  };
  x.sortBy = function (a, b, c) {
    var d = B(b);
    return x.pluck(x.map(a, function (a, b, e) {
      return {value: a, index: b, criteria: d.call(c, a, b, e)}
    }).sort(function (a, b) {
      var c = a.criteria, d = b.criteria;
      if (c !== d) {
        if (c > d || void 0 === c)return 1;
        if (d > c || void 0 === d)return -1
      }
      return a.index < b.index ? -1 : 1
    }), "value")
  };
  var C = function (a, b, c, d) {
    var e = {}, f = B(b || x.identity);
    return y(a, function (b, g) {
      var h = f.call(c, b, g, a);
      d(e, h, b)
    }), e
  };
  x.groupBy = function (a, b, c) {
    return C(a, b, c, function (a, b, c) {
      (x.has(a, b) ? a[b] : a[b] = []).push(c)
    })
  }, x.countBy = function (a, b, c) {
    return C(a, b, c, function (a, b) {
      x.has(a, b) || (a[b] = 0), a[b]++
    })
  }, x.sortedIndex = function (a, b, c, d) {
    c = null == c ? x.identity : B(c);
    for (var e = c.call(d, b), f = 0, g = a.length; g > f;) {
      var h = f + g >>> 1;
      c.call(d, a[h]) < e ? f = h + 1 : g = h
    }
    return f
  }, x.toArray = function (a) {
    return a ? x.isArray(a) ? h.call(a) : a.length === +a.length ? x.map(a, x.identity) : x.values(a) : []
  }, x.size = function (a) {
    return null == a ? 0 : a.length === +a.length ? a.length : x.keys(a).length
  }, x.first = x.head = x.take = function (a, b, c) {
    return null == a ? void 0 : null == b || c ? a[0] : h.call(a, 0, b)
  }, x.initial = function (a, b, c) {
    return h.call(a, 0, a.length - (null == b || c ? 1 : b))
  }, x.last = function (a, b, c) {
    return null == a ? void 0 : null == b || c ? a[a.length - 1] : h.call(a, Math.max(a.length - b, 0))
  }, x.rest = x.tail = x.drop = function (a, b, c) {
    return h.call(a, null == b || c ? 1 : b)
  }, x.compact = function (a) {
    return x.filter(a, x.identity)
  };
  var D = function (a, b, c) {
    return y(a, function (a) {
      x.isArray(a) ? b ? g.apply(c, a) : D(a, b, c) : c.push(a)
    }), c
  };
  x.flatten = function (a, b) {
    return D(a, b, [])
  }, x.without = function (a) {
    return x.difference(a, h.call(arguments, 1))
  }, x.uniq = x.unique = function (a, b, c, d) {
    x.isFunction(b) && (d = c, c = b, b = !1);
    var e = c ? x.map(a, c, d) : a, f = [], g = [];
    return y(e, function (c, d) {
      (b ? d && g[g.length - 1] === c : x.contains(g, c)) || (g.push(c), f.push(a[d]))
    }), f
  }, x.union = function () {
    return x.uniq(i.apply(d, arguments))
  }, x.intersection = function (a) {
    var b = h.call(arguments, 1);
    return x.filter(x.uniq(a), function (a) {
      return x.every(b, function (b) {
        return x.indexOf(b, a) >= 0
      })
    })
  }, x.difference = function (a) {
    var b = i.apply(d, h.call(arguments, 1));
    return x.filter(a, function (a) {
      return !x.contains(b, a)
    })
  }, x.zip = function () {
    for (var a = h.call(arguments), b = x.max(x.pluck(a, "length")), c = new Array(b), d = 0; b > d; d++)c[d] = x.pluck(a, "" + d);
    return c
  }, x.object = function (a, b) {
    if (null == a)return {};
    for (var c = {}, d = 0, e = a.length; e > d; d++)b ? c[a[d]] = b[d] : c[a[d][0]] = a[d][1];
    return c
  }, x.indexOf = function (a, b, c) {
    if (null == a)return -1;
    var d = 0, e = a.length;
    if (c) {
      if ("number" != typeof c)return d = x.sortedIndex(a, b), a[d] === b ? d : -1;
      d = 0 > c ? Math.max(0, e + c) : c
    }
    if (s && a.indexOf === s)return a.indexOf(b, c);
    for (; e > d; d++)if (a[d] === b)return d;
    return -1
  }, x.lastIndexOf = function (a, b, c) {
    if (null == a)return -1;
    var d = null != c;
    if (t && a.lastIndexOf === t)return d ? a.lastIndexOf(b, c) : a.lastIndexOf(b);
    for (var e = d ? c : a.length; e--;)if (a[e] === b)return e;
    return -1
  }, x.range = function (a, b, c) {
    arguments.length <= 1 && (b = a || 0, a = 0), c = arguments[2] || 1;
    for (var d = Math.max(Math.ceil((b - a) / c), 0), e = 0, f = new Array(d); d > e;)f[e++] = a, a += c;
    return f
  };
  var E = function () {
  };
  x.bind = function (a, b) {
    var c, d;
    if (a.bind === w && w)return w.apply(a, h.call(arguments, 1));
    if (!x.isFunction(a))throw new TypeError;
    return c = h.call(arguments, 2), d = function () {
      if (!(this instanceof d))return a.apply(b, c.concat(h.call(arguments)));
      E.prototype = a.prototype;
      var e = new E;
      E.prototype = null;
      var f = a.apply(e, c.concat(h.call(arguments)));
      return Object(f) === f ? f : e
    }
  }, x.bindAll = function (a) {
    var b = h.call(arguments, 1);
    return 0 == b.length && (b = x.functions(a)), y(b, function (b) {
      a[b] = x.bind(a[b], a)
    }), a
  }, x.memoize = function (a, b) {
    var c = {};
    return b || (b = x.identity), function () {
      var d = b.apply(this, arguments);
      return x.has(c, d) ? c[d] : c[d] = a.apply(this, arguments)
    }
  }, x.delay = function (a, b) {
    var c = h.call(arguments, 2);
    return setTimeout(function () {
      return a.apply(null, c)
    }, b)
  }, x.defer = function (a) {
    return x.delay.apply(x, [a, 1].concat(h.call(arguments, 1)))
  }, x.throttle = function (a, b) {
    var c, d, e, f, g = 0, h = function () {
      g = new Date, e = null, f = a.apply(c, d)
    };
    return function () {
      var i = new Date, j = b - (i - g);
      return c = this, d = arguments, 0 >= j ? (clearTimeout(e), e = null, g = i, f = a.apply(c, d)) : e || (e = setTimeout(h, j)), f
    }
  }, x.debounce = function (a, b, c) {
    var d, e;
    return function () {
      var f = this, g = arguments, h = function () {
        d = null, c || (e = a.apply(f, g))
      }, i = c && !d;
      return clearTimeout(d), d = setTimeout(h, b), i && (e = a.apply(f, g)), e
    }
  }, x.once = function (a) {
    var b, c = !1;
    return function () {
      return c ? b : (c = !0, b = a.apply(this, arguments), a = null, b)
    }
  }, x.wrap = function (a, b) {
    return function () {
      var c = [a];
      return g.apply(c, arguments), b.apply(this, c)
    }
  }, x.compose = function () {
    var a = arguments;
    return function () {
      for (var b = arguments, c = a.length - 1; c >= 0; c--)b = [a[c].apply(this, b)];
      return b[0]
    }
  }, x.after = function (a, b) {
    return 0 >= a ? b() : function () {
      return --a < 1 ? b.apply(this, arguments) : void 0
    }
  }, x.keys = v || function (a) {
      if (a !== Object(a))throw new TypeError("Invalid object");
      var b = [];
      for (var c in a)x.has(a, c) && (b[b.length] = c);
      return b
    }, x.values = function (a) {
    var b = [];
    for (var c in a)x.has(a, c) && b.push(a[c]);
    return b
  }, x.pairs = function (a) {
    var b = [];
    for (var c in a)x.has(a, c) && b.push([c, a[c]]);
    return b
  }, x.invert = function (a) {
    var b = {};
    for (var c in a)x.has(a, c) && (b[a[c]] = c);
    return b
  }, x.functions = x.methods = function (a) {
    var b = [];
    for (var c in a)x.isFunction(a[c]) && b.push(c);
    return b.sort()
  }, x.extend = function (a) {
    return y(h.call(arguments, 1), function (b) {
      if (b)for (var c in b)a[c] = b[c]
    }), a
  }, x.pick = function (a) {
    var b = {}, c = i.apply(d, h.call(arguments, 1));
    return y(c, function (c) {
      c in a && (b[c] = a[c])
    }), b
  }, x.omit = function (a) {
    var b = {}, c = i.apply(d, h.call(arguments, 1));
    for (var e in a)x.contains(c, e) || (b[e] = a[e]);
    return b
  }, x.defaults = function (a) {
    return y(h.call(arguments, 1), function (b) {
      if (b)for (var c in b)null == a[c] && (a[c] = b[c])
    }), a
  }, x.clone = function (a) {
    return x.isObject(a) ? x.isArray(a) ? a.slice() : x.extend({}, a) : a
  }, x.tap = function (a, b) {
    return b(a), a
  };
  var F = function (a, b, c, d) {
    if (a === b)return 0 !== a || 1 / a == 1 / b;
    if (null == a || null == b)return a === b;
    a instanceof x && (a = a._wrapped), b instanceof x && (b = b._wrapped);
    var e = j.call(a);
    if (e != j.call(b))return !1;
    switch (e) {
      case"[object String]":
        return a == String(b);
      case"[object Number]":
        return a != +a ? b != +b : 0 == a ? 1 / a == 1 / b : a == +b;
      case"[object Date]":
      case"[object Boolean]":
        return +a == +b;
      case"[object RegExp]":
        return a.source == b.source && a.global == b.global && a.multiline == b.multiline && a.ignoreCase == b.ignoreCase
    }
    if ("object" != typeof a || "object" != typeof b)return !1;
    for (var f = c.length; f--;)if (c[f] == a)return d[f] == b;
    c.push(a), d.push(b);
    var g = 0, h = !0;
    if ("[object Array]" == e) {
      if (g = a.length, h = g == b.length)for (; g-- && (h = F(a[g], b[g], c, d)););
    } else {
      var i = a.constructor, k = b.constructor;
      if (i !== k && !(x.isFunction(i) && i instanceof i && x.isFunction(k) && k instanceof k))return !1;
      for (var l in a)if (x.has(a, l) && (g++, !(h = x.has(b, l) && F(a[l], b[l], c, d))))break;
      if (h) {
        for (l in b)if (x.has(b, l) && !g--)break;
        h = !g
      }
    }
    return c.pop(), d.pop(), h
  };
  x.isEqual = function (a, b) {
    return F(a, b, [], [])
  }, x.isEmpty = function (a) {
    if (null == a)return !0;
    if (x.isArray(a) || x.isString(a))return 0 === a.length;
    for (var b in a)if (x.has(a, b))return !1;
    return !0
  }, x.isElement = function (a) {
    return !(!a || 1 !== a.nodeType)
  }, x.isArray = u || function (a) {
      return "[object Array]" == j.call(a)
    }, x.isObject = function (a) {
    return a === Object(a)
  }, y(["Arguments", "Function", "String", "Number", "Date", "RegExp"], function (a) {
    x["is" + a] = function (b) {
      return j.call(b) == "[object " + a + "]"
    }
  }), x.isArguments(arguments) || (x.isArguments = function (a) {
    return !(!a || !x.has(a, "callee"))
  }), "function" != typeof/./ && (x.isFunction = function (a) {
    return "function" == typeof a
  }), x.isFinite = function (a) {
    return isFinite(a) && !isNaN(parseFloat(a))
  }, x.isNaN = function (a) {
    return x.isNumber(a) && a != +a
  }, x.isBoolean = function (a) {
    return a === !0 || a === !1 || "[object Boolean]" == j.call(a)
  }, x.isNull = function (a) {
    return null === a
  }, x.isUndefined = function (a) {
    return void 0 === a
  }, x.has = function (a, b) {
    return k.call(a, b)
  }, x.noConflict = function () {
    return a._ = b, this
  }, x.identity = function (a) {
    return a
  }, x.times = function (a, b, c) {
    for (var d = Array(a), e = 0; a > e; e++)d[e] = b.call(c, e);
    return d
  }, x.random = function (a, b) {
    return null == b && (b = a, a = 0), a + (0 | Math.random() * (b - a + 1))
  };
  var G = {escape: {"&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "/": "&#x2F;"}};
  G.unescape = x.invert(G.escape);
  var H = {
    escape: new RegExp("[" + x.keys(G.escape).join("") + "]", "g"),
    unescape: new RegExp("(" + x.keys(G.unescape).join("|") + ")", "g")
  };
  x.each(["escape", "unescape"], function (a) {
    x[a] = function (b) {
      return null == b ? "" : ("" + b).replace(H[a], function (b) {
        return G[a][b]
      })
    }
  }), x.result = function (a, b) {
    if (null == a)return null;
    var c = a[b];
    return x.isFunction(c) ? c.call(a) : c
  }, x.mixin = function (a) {
    y(x.functions(a), function (b) {
      var c = x[b] = a[b];
      x.prototype[b] = function () {
        var a = [this._wrapped];
        return g.apply(a, arguments), M.call(this, c.apply(x, a))
      }
    })
  };
  var I = 0;
  x.uniqueId = function (a) {
    var b = "" + ++I;
    return a ? a + b : b
  }, x.templateSettings = {evaluate: /<%([\s\S]+?)%>/g, interpolate: /<%=([\s\S]+?)%>/g, escape: /<%-([\s\S]+?)%>/g};
  var J = /(.)^/, K = {
    "'": "'",
    "\\": "\\",
    "\r": "r",
    "\n": "n",
    "	": "t",
    "\u2028": "u2028",
    "\u2029": "u2029"
  }, L = /\\|'|\r|\n|\t|\u2028|\u2029/g;
  x.template = function (a, b, c) {
    c = x.defaults({}, c, x.templateSettings);
    var d = new RegExp([(c.escape || J).source, (c.interpolate || J).source, (c.evaluate || J).source].join("|") + "|$", "g"), e = 0, f = "__p+='";
    a.replace(d, function (b, c, d, g, h) {
      return f += a.slice(e, h).replace(L, function (a) {
        return "\\" + K[a]
      }), c && (f += "'+\n((__t=(" + c + "))==null?'':_.escape(__t))+\n'"), d && (f += "'+\n((__t=(" + d + "))==null?'':__t)+\n'"), g && (f += "';\n" + g + "\n__p+='"), e = h + b.length, b
    }), f += "';\n", c.variable || (f = "with(obj||{}){\n" + f + "}\n"), f = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + f + "return __p;\n";
    try {
      var g = new Function(c.variable || "obj", "_", f)
    } catch (h) {
      throw h.source = f, h
    }
    if (b)return g(b, x);
    var i = function (a) {
      return g.call(this, a, x)
    };
    return i.source = "function(" + (c.variable || "obj") + "){\n" + f + "}", i
  }, x.chain = function (a) {
    return x(a).chain()
  };
  var M = function (a) {
    return this._chain ? x(a).chain() : a
  };
  x.mixin(x), y(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function (a) {
    var b = d[a];
    x.prototype[a] = function () {
      var c = this._wrapped;
      return b.apply(c, arguments), "shift" != a && "splice" != a || 0 !== c.length || delete c[0], M.call(this, c)
    }
  }), y(["concat", "join", "slice"], function (a) {
    var b = d[a];
    x.prototype[a] = function () {
      return M.call(this, b.apply(this._wrapped, arguments))
    }
  }), x.extend(x.prototype, {
    chain: function () {
      return this._chain = !0, this
    }, value: function () {
      return this._wrapped
    }
  })
}.call(this), function () {
  var a, b = this, c = b.Backbone, d = [], e = d.push, f = d.slice, g = d.splice;
  a = "undefined" != typeof exports ? exports : b.Backbone = {}, a.VERSION = "0.9.9";
  var h = b._;
  h || "undefined" == typeof require || (h = require("underscore")), a.$ = b.jQuery || b.Zepto || b.ender, a.noConflict = function () {
    return b.Backbone = c, this
  }, a.emulateHTTP = !1, a.emulateJSON = !1;
  var i = /\s+/, j = function (a, b, c, d) {
    if (!c)return !0;
    if ("object" == typeof c)for (var e in c)a[b].apply(a, [e, c[e]].concat(d)); else {
      if (!i.test(c))return !0;
      for (var f = c.split(i), g = 0, h = f.length; h > g; g++)a[b].apply(a, [f[g]].concat(d))
    }
  }, k = function (a, b, c) {
    var d, e = -1, f = b.length;
    switch (c.length) {
      case 0:
        for (; ++e < f;)(d = b[e]).callback.call(d.ctx);
        return;
      case 1:
        for (; ++e < f;)(d = b[e]).callback.call(d.ctx, c[0]);
        return;
      case 2:
        for (; ++e < f;)(d = b[e]).callback.call(d.ctx, c[0], c[1]);
        return;
      case 3:
        for (; ++e < f;)(d = b[e]).callback.call(d.ctx, c[0], c[1], c[2]);
        return;
      default:
        for (; ++e < f;)(d = b[e]).callback.apply(d.ctx, c)
    }
  }, l = a.Events = {
    on: function (a, b, c) {
      if (!j(this, "on", a, [b, c]) || !b)return this;
      this._events || (this._events = {});
      var d = this._events[a] || (this._events[a] = []);
      return d.push({callback: b, context: c, ctx: c || this}), this
    }, once: function (a, b, c) {
      if (!j(this, "once", a, [b, c]) || !b)return this;
      var d = this, e = h.once(function () {
        d.off(a, e), b.apply(this, arguments)
      });
      return e._callback = b, this.on(a, e, c), this
    }, off: function (a, b, c) {
      var d, e, f, g, i, k, l, m;
      if (!this._events || !j(this, "off", a, [b, c]))return this;
      if (!a && !b && !c)return this._events = {}, this;
      for (g = a ? [a] : h.keys(this._events), i = 0, k = g.length; k > i; i++)if (a = g[i], d = this._events[a]) {
        if (f = [], b || c)for (l = 0, m = d.length; m > l; l++)e = d[l], (b && b !== (e.callback._callback || e.callback) || c && c !== e.context) && f.push(e);
        this._events[a] = f
      }
      return this
    }, trigger: function (a) {
      if (!this._events)return this;
      var b = f.call(arguments, 1);
      if (!j(this, "trigger", a, b))return this;
      var c = this._events[a], d = this._events.all;
      return c && k(this, c, b), d && k(this, d, arguments), this
    }, listenTo: function (a, b, c) {
      var d = this._listeners || (this._listeners = {}), e = a._listenerId || (a._listenerId = h.uniqueId("l"));
      return d[e] = a, a.on(b, c || this, this), this
    }, stopListening: function (a, b, c) {
      var d = this._listeners;
      if (d) {
        if (a)a.off(b, c, this), b || c || delete d[a._listenerId]; else {
          for (var e in d)d[e].off(null, null, this);
          this._listeners = {}
        }
        return this
      }
    }
  };
  l.bind = l.on, l.unbind = l.off, h.extend(a, l);
  var m = a.Model = function (a, b) {
    var c, d = a || {};
    this.cid = h.uniqueId("c"), this.changed = {}, this.attributes = {}, this._changes = [], b && b.collection && (this.collection = b.collection), b && b.parse && (d = this.parse(d)), (c = h.result(this, "defaults")) && h.defaults(d, c), this.set(d, {silent: !0}), this._currentAttributes = h.clone(this.attributes), this._previousAttributes = h.clone(this.attributes), this.initialize.apply(this, arguments)
  };
  h.extend(m.prototype, l, {
    changed: null, idAttribute: "id", initialize: function () {
    }, toJSON: function () {
      return h.clone(this.attributes)
    }, sync: function () {
      return a.sync.apply(this, arguments)
    }, get: function (a) {
      return this.attributes[a]
    }, escape: function (a) {
      return h.escape(this.get(a))
    }, has: function (a) {
      return null != this.get(a)
    }, set: function (a, b, c) {
      var d, e;
      if (null == a)return this;
      h.isObject(a) ? (e = a, c = b) : (e = {})[a] = b;
      var f = c && c.silent, g = c && c.unset;
      if (!this._validate(e, c))return !1;
      this.idAttribute in e && (this.id = e[this.idAttribute]);
      var i = this.attributes;
      for (d in e)b = e[d], g ? delete i[d] : i[d] = b, this._changes.push(d, b);
      return this._hasComputed = !1, f || this.change(c), this
    }, unset: function (a, b) {
      return this.set(a, void 0, h.extend({}, b, {unset: !0}))
    }, clear: function (a) {
      var b = {};
      for (var c in this.attributes)b[c] = void 0;
      return this.set(b, h.extend({}, a, {unset: !0}))
    }, fetch: function (a) {
      a = a ? h.clone(a) : {}, void 0 === a.parse && (a.parse = !0);
      var b = this, c = a.success;
      return a.success = function (d) {
        return b.set(b.parse(d), a) ? (c && c(b, d, a), void 0) : !1
      }, this.sync("read", this, a)
    }, save: function (a, b, c) {
      var d, e, f;
      if (null == a || h.isObject(a) ? (d = a, c = b) : null != a && ((d = {})[a] = b), c = c ? h.clone(c) : {}, c.wait) {
        if (d && !this._validate(d, c))return !1;
        e = h.clone(this.attributes)
      }
      var g = h.extend({}, c, {silent: !0});
      if (d && !this.set(d, c.wait ? g : c))return !1;
      if (!d && !this._validate(null, c))return !1;
      var i = this, j = c.success;
      c.success = function (a) {
        f = !0;
        var b = i.parse(a);
        return c.wait && (b = h.extend(d || {}, b)), i.set(b, c) ? (j && j(i, a, c), void 0) : !1
      };
      var k = this.isNew() ? "create" : c.patch ? "patch" : "update";
      "patch" == k && (c.attrs = d);
      var l = this.sync(k, this, c);
      return !f && c.wait && (this.clear(g), this.set(e, g)), l
    }, destroy: function (a) {
      a = a ? h.clone(a) : {};
      var b = this, c = a.success, d = function () {
        b.trigger("destroy", b, b.collection, a)
      };
      if (a.success = function (e) {
          (a.wait || b.isNew()) && d(), c && c(b, e, a)
        }, this.isNew())return a.success(), !1;
      var e = this.sync("delete", this, a);
      return a.wait || d(), e
    }, url: function () {
      var a = h.result(this, "urlRoot") || h.result(this.collection, "url") || F();
      return this.isNew() ? a : a + ("/" === a.charAt(a.length - 1) ? "" : "/") + encodeURIComponent(this.id)
    }, parse: function (a) {
      return a
    }, clone: function () {
      return new this.constructor(this.attributes)
    }, isNew: function () {
      return null == this.id
    }, change: function (a) {
      var b = this._changing;
      this._changing = !0;
      var c = this._computeChanges(!0);
      this._pending = !!c.length;
      for (var d = c.length - 2; d >= 0; d -= 2)this.trigger("change:" + c[d], this, c[d + 1], a);
      if (b)return this;
      for (; this._pending;)this._pending = !1, this.trigger("change", this, a), this._previousAttributes = h.clone(this.attributes);
      return this._changing = !1, this
    }, hasChanged: function (a) {
      return this._hasComputed || this._computeChanges(), null == a ? !h.isEmpty(this.changed) : h.has(this.changed, a)
    }, changedAttributes: function (a) {
      if (!a)return this.hasChanged() ? h.clone(this.changed) : !1;
      var b, c = !1, d = this._previousAttributes;
      for (var e in a)h.isEqual(d[e], b = a[e]) || ((c || (c = {}))[e] = b);
      return c
    }, _computeChanges: function (a) {
      this.changed = {};
      for (var b = {}, c = [], d = this._currentAttributes, e = this._changes, f = e.length - 2; f >= 0; f -= 2) {
        var g = e[f], h = e[f + 1];
        if (!b[g] && (b[g] = !0, d[g] !== h)) {
          if (this.changed[g] = h, !a)continue;
          c.push(g, h), d[g] = h
        }
      }
      return a && (this._changes = []), this._hasComputed = !0, c
    }, previous: function (a) {
      return null != a && this._previousAttributes ? this._previousAttributes[a] : null
    }, previousAttributes: function () {
      return h.clone(this._previousAttributes)
    }, _validate: function (a, b) {
      if (!this.validate)return !0;
      a = h.extend({}, this.attributes, a);
      var c = this.validate(a, b);
      return c ? (b && b.error && b.error(this, c, b), this.trigger("error", this, c, b), !1) : !0
    }
  });
  var n = a.Collection = function (a, b) {
    b || (b = {}), b.model && (this.model = b.model), void 0 !== b.comparator && (this.comparator = b.comparator), this._reset(), this.initialize.apply(this, arguments), a && this.reset(a, h.extend({silent: !0}, b))
  };
  h.extend(n.prototype, l, {
    model: m, initialize: function () {
    }, toJSON: function (a) {
      return this.map(function (b) {
        return b.toJSON(a)
      })
    }, sync: function () {
      return a.sync.apply(this, arguments)
    }, add: function (a, b) {
      var c, d, f, i, j, k = b && b.at, l = null == (b && b.sort) ? !0 : b.sort;
      for (a = h.isArray(a) ? a.slice() : [a], c = a.length - 1; c >= 0; c--)(f = this._prepareModel(a[c], b)) ? (a[c] = f, i = null != f.id && this._byId[f.id], i || this._byCid[f.cid] ? (b && b.merge && i && (i.set(f.attributes, b), j = l), a.splice(c, 1)) : (f.on("all", this._onModelEvent, this), this._byCid[f.cid] = f, null != f.id && (this._byId[f.id] = f))) : (this.trigger("error", this, a[c], b), a.splice(c, 1));
      if (a.length && (j = l), this.length += a.length, d = [null != k ? k : this.models.length, 0], e.apply(d, a), g.apply(this.models, d), j && this.comparator && null == k && this.sort({silent: !0}), b && b.silent)return this;
      for (; f = a.shift();)f.trigger("add", f, this, b);
      return this
    }, remove: function (a, b) {
      var c, d, e, f;
      for (b || (b = {}), a = h.isArray(a) ? a.slice() : [a], c = 0, d = a.length; d > c; c++)f = this.get(a[c]), f && (delete this._byId[f.id], delete this._byCid[f.cid], e = this.indexOf(f), this.models.splice(e, 1), this.length--, b.silent || (b.index = e, f.trigger("remove", f, this, b)), this._removeReference(f));
      return this
    }, push: function (a, b) {
      return a = this._prepareModel(a, b), this.add(a, h.extend({at: this.length}, b)), a
    }, pop: function (a) {
      var b = this.at(this.length - 1);
      return this.remove(b, a), b
    }, unshift: function (a, b) {
      return a = this._prepareModel(a, b), this.add(a, h.extend({at: 0}, b)), a
    }, shift: function (a) {
      var b = this.at(0);
      return this.remove(b, a), b
    }, slice: function (a, b) {
      return this.models.slice(a, b)
    }, get: function (a) {
      return null == a ? void 0 : this._byId[null != a.id ? a.id : a] || this._byCid[a.cid || a]
    }, at: function (a) {
      return this.models[a]
    }, where: function (a) {
      return h.isEmpty(a) ? [] : this.filter(function (b) {
        for (var c in a)if (a[c] !== b.get(c))return !1;
        return !0
      })
    }, sort: function (a) {
      if (!this.comparator)throw new Error("Cannot sort a set without a comparator");
      return h.isString(this.comparator) || 1 === this.comparator.length ? this.models = this.sortBy(this.comparator, this) : this.models.sort(h.bind(this.comparator, this)), a && a.silent || this.trigger("sort", this, a), this
    }, pluck: function (a) {
      return h.invoke(this.models, "get", a)
    }, update: function (a, b) {
      var c, d, e, f, g = [], i = [], j = {}, k = this.model.prototype.idAttribute;
      if (b = h.extend({
          add: !0,
          merge: !0,
          remove: !0
        }, b), b.parse && (a = this.parse(a)), h.isArray(a) || (a = a ? [a] : []), b.add && !b.remove)return this.add(a, b);
      for (d = 0, e = a.length; e > d; d++)c = a[d], f = this.get(c.id || c.cid || c[k]), b.remove && f && (j[f.cid] = !0), (b.add && !f || b.merge && f) && g.push(c);
      if (b.remove)for (d = 0, e = this.models.length; e > d; d++)c = this.models[d], j[c.cid] || i.push(c);
      return i.length && this.remove(i, b), g.length && this.add(g, b), this
    }, reset: function (a, b) {
      b || (b = {}), b.parse && (a = this.parse(a));
      for (var c = 0, d = this.models.length; d > c; c++)this._removeReference(this.models[c]);
      return b.previousModels = this.models, this._reset(), a && this.add(a, h.extend({silent: !0}, b)), b.silent || this.trigger("reset", this, b), this
    }, fetch: function (a) {
      a = a ? h.clone(a) : {}, void 0 === a.parse && (a.parse = !0);
      var b = this, c = a.success;
      return a.success = function (d) {
        var e = a.update ? "update" : "reset";
        b[e](d, a), c && c(b, d, a)
      }, this.sync("read", this, a)
    }, create: function (a, b) {
      var c = this;
      if (b = b ? h.clone(b) : {}, a = this._prepareModel(a, b), !a)return !1;
      b.wait || c.add(a, b);
      var d = b.success;
      return b.success = function (a, b, e) {
        e.wait && c.add(a, e), d && d(a, b, e)
      }, a.save(null, b), a
    }, parse: function (a) {
      return a
    }, clone: function () {
      return new this.constructor(this.models)
    }, chain: function () {
      return h(this.models).chain()
    }, _reset: function () {
      this.length = 0, this.models = [], this._byId = {}, this._byCid = {}
    }, _prepareModel: function (a, b) {
      if (a instanceof m)return a.collection || (a.collection = this), a;
      b || (b = {}), b.collection = this;
      var c = new this.model(a, b);
      return c._validate(a, b) ? c : !1
    }, _removeReference: function (a) {
      this === a.collection && delete a.collection, a.off("all", this._onModelEvent, this)
    }, _onModelEvent: function (a, b, c, d) {
      ("add" !== a && "remove" !== a || c === this) && ("destroy" === a && this.remove(b, d), b && a === "change:" + b.idAttribute && (delete this._byId[b.previous(b.idAttribute)], null != b.id && (this._byId[b.id] = b)), this.trigger.apply(this, arguments))
    }
  });
  var o = ["forEach", "each", "map", "collect", "reduce", "foldl", "inject", "reduceRight", "foldr", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "contains", "invoke", "max", "min", "sortedIndex", "toArray", "size", "first", "head", "take", "initial", "rest", "tail", "last", "without", "indexOf", "shuffle", "lastIndexOf", "isEmpty"];
  h.each(o, function (a) {
    n.prototype[a] = function () {
      var b = f.call(arguments);
      return b.unshift(this.models), h[a].apply(h, b)
    }
  });
  var p = ["groupBy", "countBy", "sortBy"];
  h.each(p, function (a) {
    n.prototype[a] = function (b, c) {
      var d = h.isFunction(b) ? b : function (a) {
        return a.get(b)
      };
      return h[a](this.models, d, c)
    }
  });
  var q = a.Router = function (a) {
    a || (a = {}), a.routes && (this.routes = a.routes), this._bindRoutes(), this.initialize.apply(this, arguments)
  }, r = /\((.*?)\)/g, s = /:\w+/g, t = /\*\w+/g, u = /[\-{}\[\]+?.,\\\^$|#\s]/g;
  h.extend(q.prototype, l, {
    initialize: function () {
    }, route: function (b, c, d) {
      return h.isRegExp(b) || (b = this._routeToRegExp(b)), d || (d = this[c]), a.history.route(b, h.bind(function (e) {
        var f = this._extractParameters(b, e);
        d && d.apply(this, f), this.trigger.apply(this, ["route:" + c].concat(f)), a.history.trigger("route", this, c, f)
      }, this)), this
    }, navigate: function (b, c) {
      return a.history.navigate(b, c), this
    }, _bindRoutes: function () {
      if (this.routes)for (var a, b = h.keys(this.routes); null != (a = b.pop());)this.route(a, this.routes[a])
    }, _routeToRegExp: function (a) {
      return a = a.replace(u, "\\$&").replace(r, "(?:$1)?").replace(s, "([^/]+)").replace(t, "(.*?)"), new RegExp("^" + a + "$")
    }, _extractParameters: function (a, b) {
      return a.exec(b).slice(1)
    }
  });
  var v = a.History = function () {
    this.handlers = [], h.bindAll(this, "checkUrl"), "undefined" != typeof window && (this.location = window.location, this.history = window.history)
  }, w = /^[#\/]|\s+$/g, x = /^\/+|\/+$/g, y = /msie [\w.]+/, z = /\/$/;
  v.started = !1, h.extend(v.prototype, l, {
    interval: 50, getHash: function (a) {
      var b = (a || this).location.href.match(/#(.*)$/);
      return b ? b[1] : ""
    }, getFragment: function (a, b) {
      if (null == a)if (this._hasPushState || !this._wantsHashChange || b) {
        a = this.location.pathname;
        var c = this.root.replace(z, "");
        a.indexOf(c) || (a = a.substr(c.length))
      } else a = this.getHash();
      return a.replace(w, "")
    }, start: function (b) {
      if (v.started)throw new Error("Backbone.history has already been started");
      v.started = !0, this.options = h.extend({}, {root: "/"}, this.options, b), this.root = this.options.root, this._wantsHashChange = this.options.hashChange !== !1, this._wantsPushState = !!this.options.pushState, this._hasPushState = !!(this.options.pushState && this.history && this.history.pushState);
      var c = this.getFragment(), d = document.documentMode, e = y.exec(navigator.userAgent.toLowerCase()) && (!d || 7 >= d);
      this.root = ("/" + this.root + "/").replace(x, "/"), e && this._wantsHashChange && (this.iframe = a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow, this.navigate(c)), this._hasPushState ? a.$(window).bind("popstate", this.checkUrl) : this._wantsHashChange && "onhashchange"in window && !e ? a.$(window).bind("hashchange", this.checkUrl) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)), this.fragment = c;
      var f = this.location, g = f.pathname.replace(/[^\/]$/, "$&/") === this.root;
      return this._wantsHashChange && this._wantsPushState && !this._hasPushState && !g ? (this.fragment = this.getFragment(null, !0), this.location.replace(this.root + this.location.search + "#" + this.fragment), !0) : (this._wantsPushState && this._hasPushState && g && f.hash && (this.fragment = this.getHash().replace(w, ""), this.history.replaceState({}, document.title, this.root + this.fragment + f.search)), this.options.silent ? void 0 : this.loadUrl())
    }, stop: function () {
      a.$(window).unbind("popstate", this.checkUrl).unbind("hashchange", this.checkUrl), clearInterval(this._checkUrlInterval), v.started = !1
    }, route: function (a, b) {
      this.handlers.unshift({route: a, callback: b})
    }, checkUrl: function () {
      var a = this.getFragment();
      return a === this.fragment && this.iframe && (a = this.getFragment(this.getHash(this.iframe))), a === this.fragment ? !1 : (this.iframe && this.navigate(a), this.loadUrl() || this.loadUrl(this.getHash()), void 0)
    }, loadUrl: function (a) {
      var b = this.fragment = this.getFragment(a), c = h.any(this.handlers, function (a) {
        return a.route.test(b) ? (a.callback(b), !0) : void 0
      });
      return c
    }, navigate: function (a, b) {
      if (!v.started)return !1;
      if (b && b !== !0 || (b = {trigger: b}), a = this.getFragment(a || ""), this.fragment !== a) {
        this.fragment = a;
        var c = this.root + a;
        if (this._hasPushState)this.history[b.replace ? "replaceState" : "pushState"]({}, document.title, c); else {
          if (!this._wantsHashChange)return this.location.assign(c);
          this._updateHash(this.location, a, b.replace), this.iframe && a !== this.getFragment(this.getHash(this.iframe)) && (b.replace || this.iframe.document.open().close(), this._updateHash(this.iframe.location, a, b.replace))
        }
        b.trigger && this.loadUrl(a)
      }
    }, _updateHash: function (a, b, c) {
      if (c) {
        var d = a.href.replace(/(javascript:|#).*$/, "");
        a.replace(d + "#" + b)
      } else a.hash = "#" + b
    }
  }), a.history = new v;
  var A = a.View = function (a) {
    this.cid = h.uniqueId("view"), this._configure(a || {}), this._ensureElement(), this.initialize.apply(this, arguments), this.delegateEvents()
  }, B = /^(\S+)\s*(.*)$/, C = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"];
  h.extend(A.prototype, l, {
    tagName: "div", $: function (a) {
      return this.$el.find(a)
    }, initialize: function () {
    }, render: function () {
      return this
    }, remove: function () {
      return this.$el.remove(), this.stopListening(), this
    }, make: function (b, c, d) {
      var e = document.createElement(b);
      return c && a.$(e).attr(c), null != d && a.$(e).html(d), e
    }, setElement: function (b, c) {
      return this.$el && this.undelegateEvents(), this.$el = b instanceof a.$ ? b : a.$(b), this.el = this.$el[0], c !== !1 && this.delegateEvents(), this
    }, delegateEvents: function (a) {
      if (a || (a = h.result(this, "events"))) {
        this.undelegateEvents();
        for (var b in a) {
          var c = a[b];
          if (h.isFunction(c) || (c = this[a[b]]), !c)throw new Error('Method "' + a[b] + '" does not exist');
          var d = b.match(B), e = d[1], f = d[2];
          c = h.bind(c, this), e += ".delegateEvents" + this.cid, "" === f ? this.$el.bind(e, c) : this.$el.delegate(f, e, c)
        }
      }
    }, undelegateEvents: function () {
      this.$el.unbind(".delegateEvents" + this.cid)
    }, _configure: function (a) {
      if (this.options) {
        for (var b = [h.result(this, "options"), a], c = this.__proto__.__proto__; c;)c.options && b.unshift(h.result(c, "options")), c = c.__proto__;
        b.unshift({}), a = h.extend.apply({}, b)
      }
      h.extend(this, h.pick(a, C)), this.options = a
    }, _ensureElement: function () {
      if (this.el)this.setElement(h.result(this, "el"), !1); else {
        var a = h.extend({}, h.result(this, "attributes"));
        this.id && (a.id = h.result(this, "id")), this.className && (a["class"] = h.result(this, "className")), this.setElement(this.make(h.result(this, "tagName"), a), !1)
      }
    }
  });
  var D = {create: "POST", update: "PUT", patch: "PATCH", "delete": "DELETE", read: "GET"};
  a.sync = function (b, c, d) {
    var e = D[b];
    h.defaults(d || (d = {}), {emulateHTTP: a.emulateHTTP, emulateJSON: a.emulateJSON});
    var f = {type: e, dataType: "json"};
    if (d.url || (f.url = h.result(c, "url") || F()), null != d.data || !c || "create" !== b && "update" !== b && "patch" !== b || (f.contentType = "application/json", f.data = JSON.stringify(d.attrs || c.toJSON(d))), d.emulateJSON && (f.contentType = "application/x-www-form-urlencoded", f.data = f.data ? {model: f.data} : {}), d.emulateHTTP && ("PUT" === e || "DELETE" === e || "PATCH" === e)) {
      f.type = "POST", d.emulateJSON && (f.data._method = e);
      var g = d.beforeSend;
      d.beforeSend = function (a) {
        return a.setRequestHeader("X-HTTP-Method-Override", e), g ? g.apply(this, arguments) : void 0
      }
    }
    "GET" === f.type || d.emulateJSON || (f.processData = !1);
    var i = d.success;
    d.success = function (a, b, e) {
      i && i(a, b, e), c.trigger("sync", c, a, d)
    };
    var j = d.error;
    d.error = function (a) {
      j && j(c, a, d), c.trigger("error", c, a, d)
    };
    var k = a.ajax(h.extend(f, d));
    return c.trigger("request", c, k, d), k
  }, a.ajax = function () {
    return a.$.ajax.apply(a.$, arguments)
  };
  var E = function (a, b) {
    var c, d = this;
    c = a && h.has(a, "constructor") ? a.constructor : function () {
      d.apply(this, arguments)
    }, h.extend(c, d, b);
    var e = function () {
      this.constructor = c
    };
    return e.prototype = d.prototype, c.prototype = new e, a && h.extend(c.prototype, a), c.__super__ = d.prototype, c
  };
  m.extend = n.extend = q.extend = A.extend = v.extend = E;
  var F = function () {
    throw new Error('A "url" property or function must be specified')
  }
}.call(this), function () {
  Backbone.Widget = function (a, b) {
    $.fn[a] = function (c) {
      return 0 === arguments.length ? this.data(a) : this.each(function () {
        var d = $(this), e = d.data(a);
        e instanceof Backbone.View && (e.stopListening(), e.cleanup && prevValue.cleanup()), $(this).data(a, new b(_.extend({el: this}, c)))
      })
    }
  }
}(), Backbone.Compute = function (a, b) {
  function c(a) {
    for (var b in a) {
      var c = a[b];
      c && c.fields && c.compute && (a[b] = d(b, c.fields, c.compute), a[b].call(a))
    }
  }

  function d(a, c, d) {
    c = b.flatten([c]);
    var e = c.length, f = function () {
      for (var b = {}, f = 0; e > f; f++) {
        var g = c[f];
        b[g] = this.get(g)
      }
      var h = d.call(this, b);
      return this.set(a, h), h
    }, g = function () {
      for (var a = b.bind(f, this), d = 0; e > d; d++) {
        var g = c[d];
        this.on("change:" + g, a)
      }
      return a()
    };
    return g.computedField = !0, g
  }

  var e = function (a) {
    return c(a)
  };
  return e
}(Backbone, _), function (a, b) {
  "function" == typeof define && define.amd ? define([], b) : "object" == typeof exports ? module.exports = b() : a.Handlebars = a.Handlebars || b()
}(this, function () {
  var a = function () {
    "use strict";
    function a(a) {
      this.string = a
    }

    var b;
    return a.prototype.toString = function () {
      return "" + this.string
    }, b = a
  }(), b = function (a) {
    "use strict";
    function b(a) {
      return i[a]
    }

    function c(a) {
      for (var b = 1; b < arguments.length; b++)for (var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b], c) && (a[c] = arguments[b][c]);
      return a
    }

    function d(a) {
      return a instanceof h ? a.toString() : null == a ? "" : a ? (a = "" + a, k.test(a) ? a.replace(j, b) : a) : a + ""
    }

    function e(a) {
      return a || 0 === a ? n(a) && 0 === a.length ? !0 : !1 : !0
    }

    function f(a, b) {
      return (a ? a + "." : "") + b
    }

    var g = {}, h = a, i = {
      "&": "&amp;",
      "<": "&lt;",
      ">": "&gt;",
      '"': "&quot;",
      "'": "&#x27;",
      "`": "&#x60;"
    }, j = /[&<>"'`]/g, k = /[&<>"'`]/;
    g.extend = c;
    var l = Object.prototype.toString;
    g.toString = l;
    var m = function (a) {
      return "function" == typeof a
    };
    m(/x/) && (m = function (a) {
      return "function" == typeof a && "[object Function]" === l.call(a)
    });
    var m;
    g.isFunction = m;
    var n = Array.isArray || function (a) {
        return a && "object" == typeof a ? "[object Array]" === l.call(a) : !1
      };
    return g.isArray = n, g.escapeExpression = d, g.isEmpty = e, g.appendContextPath = f, g
  }(a), c = function () {
    "use strict";
    function a(a, b) {
      var d;
      b && b.firstLine && (d = b.firstLine, a += " - " + d + ":" + b.firstColumn);
      for (var e = Error.prototype.constructor.call(this, a), f = 0; f < c.length; f++)this[c[f]] = e[c[f]];
      d && (this.lineNumber = d, this.column = b.firstColumn)
    }

    var b, c = ["description", "fileName", "lineNumber", "message", "name", "number", "stack"];
    return a.prototype = new Error, b = a
  }(), d = function (a, b) {
    "use strict";
    function c(a, b) {
      this.helpers = a || {}, this.partials = b || {}, d(this)
    }

    function d(a) {
      a.registerHelper("helperMissing", function () {
        if (1 === arguments.length)return void 0;
        throw new g("Missing helper: '" + arguments[arguments.length - 1].name + "'")
      }), a.registerHelper("blockHelperMissing", function (b, c) {
        var d = c.inverse, e = c.fn;
        if (b === !0)return e(this);
        if (b === !1 || null == b)return d(this);
        if (k(b))return b.length > 0 ? (c.ids && (c.ids = [c.name]), a.helpers.each(b, c)) : d(this);
        if (c.data && c.ids) {
          var g = q(c.data);
          g.contextPath = f.appendContextPath(c.data.contextPath, c.name), c = {data: g}
        }
        return e(b, c)
      }), a.registerHelper("each", function (a, b) {
        if (!b)throw new g("Must pass iterator to #each");
        var c, d, e = b.fn, h = b.inverse, i = 0, j = "";
        if (b.data && b.ids && (d = f.appendContextPath(b.data.contextPath, b.ids[0]) + "."), l(a) && (a = a.call(this)), b.data && (c = q(b.data)), a && "object" == typeof a)if (k(a))for (var m = a.length; m > i; i++)c && (c.index = i, c.first = 0 === i, c.last = i === a.length - 1, d && (c.contextPath = d + i)), j += e(a[i], {data: c}); else for (var n in a)a.hasOwnProperty(n) && (c && (c.key = n, c.index = i, c.first = 0 === i, d && (c.contextPath = d + n)), j += e(a[n], {data: c}), i++);
        return 0 === i && (j = h(this)), j
      }), a.registerHelper("if", function (a, b) {
        return l(a) && (a = a.call(this)), !b.hash.includeZero && !a || f.isEmpty(a) ? b.inverse(this) : b.fn(this)
      }), a.registerHelper("unless", function (b, c) {
        return a.helpers["if"].call(this, b, {fn: c.inverse, inverse: c.fn, hash: c.hash})
      }), a.registerHelper("with", function (a, b) {
        l(a) && (a = a.call(this));
        var c = b.fn;
        if (f.isEmpty(a))return b.inverse(this);
        if (b.data && b.ids) {
          var d = q(b.data);
          d.contextPath = f.appendContextPath(b.data.contextPath, b.ids[0]), b = {data: d}
        }
        return c(a, b)
      }), a.registerHelper("log", function (b, c) {
        var d = c.data && null != c.data.level ? parseInt(c.data.level, 10) : 1;
        a.log(d, b)
      }), a.registerHelper("lookup", function (a, b) {
        return a && a[b]
      })
    }

    var e = {}, f = a, g = b, h = "2.0.0";
    e.VERSION = h;
    var i = 6;
    e.COMPILER_REVISION = i;
    var j = {
      1: "<= 1.0.rc.2",
      2: "== 1.0.0-rc.3",
      3: "== 1.0.0-rc.4",
      4: "== 1.x.x",
      5: "== 2.0.0-alpha.x",
      6: ">= 2.0.0-beta.1"
    };
    e.REVISION_CHANGES = j;
    var k = f.isArray, l = f.isFunction, m = f.toString, n = "[object Object]";
    e.HandlebarsEnvironment = c, c.prototype = {
      constructor: c, logger: o, log: p, registerHelper: function (a, b) {
        if (m.call(a) === n) {
          if (b)throw new g("Arg not supported with multiple helpers");
          f.extend(this.helpers, a)
        } else this.helpers[a] = b
      }, unregisterHelper: function (a) {
        delete this.helpers[a]
      }, registerPartial: function (a, b) {
        m.call(a) === n ? f.extend(this.partials, a) : this.partials[a] = b
      }, unregisterPartial: function (a) {
        delete this.partials[a]
      }
    };
    var o = {
      methodMap: {0: "debug", 1: "info", 2: "warn", 3: "error"},
      DEBUG: 0,
      INFO: 1,
      WARN: 2,
      ERROR: 3,
      level: 3,
      log: function (a, b) {
        if (o.level <= a) {
          var c = o.methodMap[a];
          "undefined" != typeof console && console[c] && console[c].call(console, b)
        }
      }
    };
    e.logger = o;
    var p = o.log;
    e.log = p;
    var q = function (a) {
      var b = f.extend({}, a);
      return b._parent = a, b
    };
    return e.createFrame = q, e
  }(b, c), e = function (a, b, c) {
    "use strict";
    function d(a) {
      var b = a && a[0] || 1, c = m;
      if (b !== c) {
        if (c > b) {
          var d = n[c], e = n[b];
          throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + d + ") or downgrade your runtime to an older version (" + e + ").")
        }
        throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + a[1] + ").")
      }
    }

    function e(a, b) {
      if (!b)throw new l("No environment passed to template");
      if (!a || !a.main)throw new l("Unknown template object: " + typeof a);
      b.VM.checkRevision(a.compiler);
      var c = function (c, d, e, f, g, h, i, j, m) {
        g && (f = k.extend({}, f, g));
        var n = b.VM.invokePartial.call(this, c, e, f, h, i, j, m);
        if (null == n && b.compile) {
          var o = {helpers: h, partials: i, data: j, depths: m};
          i[e] = b.compile(c, {data: void 0 !== j, compat: a.compat}, b), n = i[e](f, o)
        }
        if (null != n) {
          if (d) {
            for (var p = n.split("\n"), q = 0, r = p.length; r > q && (p[q] || q + 1 !== r); q++)p[q] = d + p[q];
            n = p.join("\n")
          }
          return n
        }
        throw new l("The partial " + e + " could not be compiled when running in runtime-only mode")
      }, d = {
        lookup: function (a, b) {
          for (var c = a.length, d = 0; c > d; d++)if (a[d] && null != a[d][b])return a[d][b]
        }, lambda: function (a, b) {
          return "function" == typeof a ? a.call(b) : a
        }, escapeExpression: k.escapeExpression, invokePartial: c, fn: function (b) {
          return a[b]
        }, programs: [], program: function (a, b, c) {
          var d = this.programs[a], e = this.fn(a);
          return b || c ? d = f(this, a, e, b, c) : d || (d = this.programs[a] = f(this, a, e)), d
        }, data: function (a, b) {
          for (; a && b--;)a = a._parent;
          return a
        }, merge: function (a, b) {
          var c = a || b;
          return a && b && a !== b && (c = k.extend({}, b, a)), c
        }, noop: b.VM.noop, compilerInfo: a.compiler
      }, e = function (b, c) {
        c = c || {};
        var f = c.data;
        e._setup(c), !c.partial && a.useData && (f = i(b, f));
        var g;
        return a.useDepths && (g = c.depths ? [b].concat(c.depths) : [b]), a.main.call(d, b, d.helpers, d.partials, f, g)
      };
      return e.isTop = !0, e._setup = function (c) {
        c.partial ? (d.helpers = c.helpers, d.partials = c.partials) : (d.helpers = d.merge(c.helpers, b.helpers), a.usePartial && (d.partials = d.merge(c.partials, b.partials)))
      }, e._child = function (b, c, e) {
        if (a.useDepths && !e)throw new l("must pass parent depths");
        return f(d, b, a[b], c, e)
      }, e
    }

    function f(a, b, c, d, e) {
      var f = function (b, f) {
        return f = f || {}, c.call(a, b, a.helpers, a.partials, f.data || d, e && [b].concat(e))
      };
      return f.program = b, f.depth = e ? e.length : 0, f
    }

    function g(a, b, c, d, e, f, g) {
      var h = {partial: !0, helpers: d, partials: e, data: f, depths: g};
      if (void 0 === a)throw new l("The partial " + b + " could not be found");
      return a instanceof Function ? a(c, h) : void 0
    }

    function h() {
      return ""
    }

    function i(a, b) {
      return b && "root"in b || (b = b ? o(b) : {}, b.root = a), b
    }

    var j = {}, k = a, l = b, m = c.COMPILER_REVISION, n = c.REVISION_CHANGES, o = c.createFrame;
    return j.checkRevision = d, j.template = e, j.program = f, j.invokePartial = g, j.noop = h, j
  }(b, c, d), f = function (a, b, c, d, e) {
    "use strict";
    var f, g = a, h = b, i = c, j = d, k = e, l = function () {
      var a = new g.HandlebarsEnvironment;
      return j.extend(a, g), a.SafeString = h, a.Exception = i, a.Utils = j, a.escapeExpression = j.escapeExpression, a.VM = k, a.template = function (b) {
        return k.template(b, a)
      }, a
    }, m = l();
    return m.create = l, m["default"] = m, f = m
  }(d, a, c, b, e), g = function (a) {
    "use strict";
    function b(a) {
      a = a || {}, this.firstLine = a.first_line, this.firstColumn = a.first_column, this.lastColumn = a.last_column, this.lastLine = a.last_line
    }

    var c, d = a, e = {
      ProgramNode: function (a, c, d) {
        b.call(this, d), this.type = "program", this.statements = a, this.strip = c
      }, MustacheNode: function (a, c, d, f, g) {
        if (b.call(this, g), this.type = "mustache", this.strip = f, null != d && d.charAt) {
          var h = d.charAt(3) || d.charAt(2);
          this.escaped = "{" !== h && "&" !== h
        } else this.escaped = !!d;
        this.sexpr = a instanceof e.SexprNode ? a : new e.SexprNode(a, c), this.id = this.sexpr.id, this.params = this.sexpr.params, this.hash = this.sexpr.hash, this.eligibleHelper = this.sexpr.eligibleHelper, this.isHelper = this.sexpr.isHelper
      }, SexprNode: function (a, c, d) {
        b.call(this, d), this.type = "sexpr", this.hash = c;
        var e = this.id = a[0], f = this.params = a.slice(1);
        this.isHelper = !(!f.length && !c), this.eligibleHelper = this.isHelper || e.isSimple
      }, PartialNode: function (a, c, d, e, f) {
        b.call(this, f), this.type = "partial", this.partialName = a, this.context = c, this.hash = d, this.strip = e, this.strip.inlineStandalone = !0
      }, BlockNode: function (a, c, d, e, f) {
        b.call(this, f), this.type = "block", this.mustache = a, this.program = c, this.inverse = d, this.strip = e, d && !c && (this.isInverse = !0)
      }, RawBlockNode: function (a, c, f, g) {
        if (b.call(this, g), a.sexpr.id.original !== f)throw new d(a.sexpr.id.original + " doesn't match " + f, this);
        c = new e.ContentNode(c, g), this.type = "block", this.mustache = a, this.program = new e.ProgramNode([c], {}, g)
      }, ContentNode: function (a, c) {
        b.call(this, c), this.type = "content", this.original = this.string = a
      }, HashNode: function (a, c) {
        b.call(this, c), this.type = "hash", this.pairs = a
      }, IdNode: function (a, c) {
        b.call(this, c), this.type = "ID";
        for (var e = "", f = [], g = 0, h = "", i = 0, j = a.length; j > i; i++) {
          var k = a[i].part;
          if (e += (a[i].separator || "") + k, ".." === k || "." === k || "this" === k) {
            if (f.length > 0)throw new d("Invalid path: " + e, this);
            ".." === k ? (g++, h += "../") : this.isScoped = !0
          } else f.push(k)
        }
        this.original = e, this.parts = f, this.string = f.join("."), this.depth = g, this.idName = h + this.string, this.isSimple = 1 === a.length && !this.isScoped && 0 === g, this.stringModeValue = this.string
      }, PartialNameNode: function (a, c) {
        b.call(this, c), this.type = "PARTIAL_NAME", this.name = a.original
      }, DataNode: function (a, c) {
        b.call(this, c), this.type = "DATA", this.id = a, this.stringModeValue = a.stringModeValue, this.idName = "@" + a.stringModeValue
      }, StringNode: function (a, c) {
        b.call(this, c), this.type = "STRING", this.original = this.string = this.stringModeValue = a
      }, NumberNode: function (a, c) {
        b.call(this, c), this.type = "NUMBER", this.original = this.number = a, this.stringModeValue = Number(a)
      }, BooleanNode: function (a, c) {
        b.call(this, c), this.type = "BOOLEAN", this.bool = a, this.stringModeValue = "true" === a
      }, CommentNode: function (a, c) {
        b.call(this, c), this.type = "comment", this.comment = a, this.strip = {inlineStandalone: !0}
      }
    };
    return c = e
  }(c), h = function () {
    "use strict";
    var a, b = function () {
      function a() {
        this.yy = {}
      }

      var b = {
        trace: function () {
        },
        yy: {},
        symbols_: {
          error: 2,
          root: 3,
          program: 4,
          EOF: 5,
          program_repetition0: 6,
          statement: 7,
          mustache: 8,
          block: 9,
          rawBlock: 10,
          partial: 11,
          CONTENT: 12,
          COMMENT: 13,
          openRawBlock: 14,
          END_RAW_BLOCK: 15,
          OPEN_RAW_BLOCK: 16,
          sexpr: 17,
          CLOSE_RAW_BLOCK: 18,
          openBlock: 19,
          block_option0: 20,
          closeBlock: 21,
          openInverse: 22,
          block_option1: 23,
          OPEN_BLOCK: 24,
          CLOSE: 25,
          OPEN_INVERSE: 26,
          inverseAndProgram: 27,
          INVERSE: 28,
          OPEN_ENDBLOCK: 29,
          path: 30,
          OPEN: 31,
          OPEN_UNESCAPED: 32,
          CLOSE_UNESCAPED: 33,
          OPEN_PARTIAL: 34,
          partialName: 35,
          param: 36,
          partial_option0: 37,
          partial_option1: 38,
          sexpr_repetition0: 39,
          sexpr_option0: 40,
          dataName: 41,
          STRING: 42,
          NUMBER: 43,
          BOOLEAN: 44,
          OPEN_SEXPR: 45,
          CLOSE_SEXPR: 46,
          hash: 47,
          hash_repetition_plus0: 48,
          hashSegment: 49,
          ID: 50,
          EQUALS: 51,
          DATA: 52,
          pathSegments: 53,
          SEP: 54,
          $accept: 0,
          $end: 1
        },
        terminals_: {
          2: "error",
          5: "EOF",
          12: "CONTENT",
          13: "COMMENT",
          15: "END_RAW_BLOCK",
          16: "OPEN_RAW_BLOCK",
          18: "CLOSE_RAW_BLOCK",
          24: "OPEN_BLOCK",
          25: "CLOSE",
          26: "OPEN_INVERSE",
          28: "INVERSE",
          29: "OPEN_ENDBLOCK",
          31: "OPEN",
          32: "OPEN_UNESCAPED",
          33: "CLOSE_UNESCAPED",
          34: "OPEN_PARTIAL",
          42: "STRING",
          43: "NUMBER",
          44: "BOOLEAN",
          45: "OPEN_SEXPR",
          46: "CLOSE_SEXPR",
          50: "ID",
          51: "EQUALS",
          52: "DATA",
          54: "SEP"
        },
        productions_: [0, [3, 2], [4, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [10, 3], [14, 3], [9, 4], [9, 4], [19, 3], [22, 3], [27, 2], [21, 3], [8, 3], [8, 3], [11, 5], [11, 4], [17, 3], [17, 1], [36, 1], [36, 1], [36, 1], [36, 1], [36, 1], [36, 3], [47, 1], [49, 3], [35, 1], [35, 1], [35, 1], [41, 2], [30, 1], [53, 3], [53, 1], [6, 0], [6, 2], [20, 0], [20, 1], [23, 0], [23, 1], [37, 0], [37, 1], [38, 0], [38, 1], [39, 0], [39, 2], [40, 0], [40, 1], [48, 1], [48, 2]],
        performAction: function (a, b, c, d, e, f) {
          var g = f.length - 1;
          switch (e) {
            case 1:
              return d.prepareProgram(f[g - 1].statements, !0), f[g - 1];
            case 2:
              this.$ = new d.ProgramNode(d.prepareProgram(f[g]), {}, this._$);
              break;
            case 3:
              this.$ = f[g];
              break;
            case 4:
              this.$ = f[g];
              break;
            case 5:
              this.$ = f[g];
              break;
            case 6:
              this.$ = f[g];
              break;
            case 7:
              this.$ = new d.ContentNode(f[g], this._$);
              break;
            case 8:
              this.$ = new d.CommentNode(f[g], this._$);
              break;
            case 9:
              this.$ = new d.RawBlockNode(f[g - 2], f[g - 1], f[g], this._$);
              break;
            case 10:
              this.$ = new d.MustacheNode(f[g - 1], null, "", "", this._$);
              break;
            case 11:
              this.$ = d.prepareBlock(f[g - 3], f[g - 2], f[g - 1], f[g], !1, this._$);
              break;
            case 12:
              this.$ = d.prepareBlock(f[g - 3], f[g - 2], f[g - 1], f[g], !0, this._$);
              break;
            case 13:
              this.$ = new d.MustacheNode(f[g - 1], null, f[g - 2], d.stripFlags(f[g - 2], f[g]), this._$);
              break;
            case 14:
              this.$ = new d.MustacheNode(f[g - 1], null, f[g - 2], d.stripFlags(f[g - 2], f[g]), this._$);
              break;
            case 15:
              this.$ = {strip: d.stripFlags(f[g - 1], f[g - 1]), program: f[g]};
              break;
            case 16:
              this.$ = {path: f[g - 1], strip: d.stripFlags(f[g - 2], f[g])};
              break;
            case 17:
              this.$ = new d.MustacheNode(f[g - 1], null, f[g - 2], d.stripFlags(f[g - 2], f[g]), this._$);
              break;
            case 18:
              this.$ = new d.MustacheNode(f[g - 1], null, f[g - 2], d.stripFlags(f[g - 2], f[g]), this._$);
              break;
            case 19:
              this.$ = new d.PartialNode(f[g - 3], f[g - 2], f[g - 1], d.stripFlags(f[g - 4], f[g]), this._$);
              break;
            case 20:
              this.$ = new d.PartialNode(f[g - 2], void 0, f[g - 1], d.stripFlags(f[g - 3], f[g]), this._$);
              break;
            case 21:
              this.$ = new d.SexprNode([f[g - 2]].concat(f[g - 1]), f[g], this._$);
              break;
            case 22:
              this.$ = new d.SexprNode([f[g]], null, this._$);
              break;
            case 23:
              this.$ = f[g];
              break;
            case 24:
              this.$ = new d.StringNode(f[g], this._$);
              break;
            case 25:
              this.$ = new d.NumberNode(f[g], this._$);
              break;
            case 26:
              this.$ = new d.BooleanNode(f[g], this._$);
              break;
            case 27:
              this.$ = f[g];
              break;
            case 28:
              f[g - 1].isHelper = !0, this.$ = f[g - 1];
              break;
            case 29:
              this.$ = new d.HashNode(f[g], this._$);
              break;
            case 30:
              this.$ = [f[g - 2], f[g]];
              break;
            case 31:
              this.$ = new d.PartialNameNode(f[g], this._$);
              break;
            case 32:
              this.$ = new d.PartialNameNode(new d.StringNode(f[g], this._$), this._$);
              break;
            case 33:
              this.$ = new d.PartialNameNode(new d.NumberNode(f[g], this._$));
              break;
            case 34:
              this.$ = new d.DataNode(f[g], this._$);
              break;
            case 35:
              this.$ = new d.IdNode(f[g], this._$);
              break;
            case 36:
              f[g - 2].push({part: f[g], separator: f[g - 1]}), this.$ = f[g - 2];
              break;
            case 37:
              this.$ = [{part: f[g]}];
              break;
            case 38:
              this.$ = [];
              break;
            case 39:
              f[g - 1].push(f[g]);
              break;
            case 48:
              this.$ = [];
              break;
            case 49:
              f[g - 1].push(f[g]);
              break;
            case 52:
              this.$ = [f[g]];
              break;
            case 53:
              f[g - 1].push(f[g])
          }
        },
        table: [{
          3: 1,
          4: 2,
          5: [2, 38],
          6: 3,
          12: [2, 38],
          13: [2, 38],
          16: [2, 38],
          24: [2, 38],
          26: [2, 38],
          31: [2, 38],
          32: [2, 38],
          34: [2, 38]
        }, {1: [3]}, {5: [1, 4]}, {
          5: [2, 2],
          7: 5,
          8: 6,
          9: 7,
          10: 8,
          11: 9,
          12: [1, 10],
          13: [1, 11],
          14: 16,
          16: [1, 20],
          19: 14,
          22: 15,
          24: [1, 18],
          26: [1, 19],
          28: [2, 2],
          29: [2, 2],
          31: [1, 12],
          32: [1, 13],
          34: [1, 17]
        }, {1: [2, 1]}, {
          5: [2, 39],
          12: [2, 39],
          13: [2, 39],
          16: [2, 39],
          24: [2, 39],
          26: [2, 39],
          28: [2, 39],
          29: [2, 39],
          31: [2, 39],
          32: [2, 39],
          34: [2, 39]
        }, {
          5: [2, 3],
          12: [2, 3],
          13: [2, 3],
          16: [2, 3],
          24: [2, 3],
          26: [2, 3],
          28: [2, 3],
          29: [2, 3],
          31: [2, 3],
          32: [2, 3],
          34: [2, 3]
        }, {
          5: [2, 4],
          12: [2, 4],
          13: [2, 4],
          16: [2, 4],
          24: [2, 4],
          26: [2, 4],
          28: [2, 4],
          29: [2, 4],
          31: [2, 4],
          32: [2, 4],
          34: [2, 4]
        }, {
          5: [2, 5],
          12: [2, 5],
          13: [2, 5],
          16: [2, 5],
          24: [2, 5],
          26: [2, 5],
          28: [2, 5],
          29: [2, 5],
          31: [2, 5],
          32: [2, 5],
          34: [2, 5]
        }, {
          5: [2, 6],
          12: [2, 6],
          13: [2, 6],
          16: [2, 6],
          24: [2, 6],
          26: [2, 6],
          28: [2, 6],
          29: [2, 6],
          31: [2, 6],
          32: [2, 6],
          34: [2, 6]
        }, {
          5: [2, 7],
          12: [2, 7],
          13: [2, 7],
          16: [2, 7],
          24: [2, 7],
          26: [2, 7],
          28: [2, 7],
          29: [2, 7],
          31: [2, 7],
          32: [2, 7],
          34: [2, 7]
        }, {
          5: [2, 8],
          12: [2, 8],
          13: [2, 8],
          16: [2, 8],
          24: [2, 8],
          26: [2, 8],
          28: [2, 8],
          29: [2, 8],
          31: [2, 8],
          32: [2, 8],
          34: [2, 8]
        }, {17: 21, 30: 22, 41: 23, 50: [1, 26], 52: [1, 25], 53: 24}, {
          17: 27,
          30: 22,
          41: 23,
          50: [1, 26],
          52: [1, 25],
          53: 24
        }, {
          4: 28,
          6: 3,
          12: [2, 38],
          13: [2, 38],
          16: [2, 38],
          24: [2, 38],
          26: [2, 38],
          28: [2, 38],
          29: [2, 38],
          31: [2, 38],
          32: [2, 38],
          34: [2, 38]
        }, {
          4: 29,
          6: 3,
          12: [2, 38],
          13: [2, 38],
          16: [2, 38],
          24: [2, 38],
          26: [2, 38],
          28: [2, 38],
          29: [2, 38],
          31: [2, 38],
          32: [2, 38],
          34: [2, 38]
        }, {12: [1, 30]}, {30: 32, 35: 31, 42: [1, 33], 43: [1, 34], 50: [1, 26], 53: 24}, {
          17: 35,
          30: 22,
          41: 23,
          50: [1, 26],
          52: [1, 25],
          53: 24
        }, {17: 36, 30: 22, 41: 23, 50: [1, 26], 52: [1, 25], 53: 24}, {
          17: 37,
          30: 22,
          41: 23,
          50: [1, 26],
          52: [1, 25],
          53: 24
        }, {25: [1, 38]}, {
          18: [2, 48],
          25: [2, 48],
          33: [2, 48],
          39: 39,
          42: [2, 48],
          43: [2, 48],
          44: [2, 48],
          45: [2, 48],
          46: [2, 48],
          50: [2, 48],
          52: [2, 48]
        }, {18: [2, 22], 25: [2, 22], 33: [2, 22], 46: [2, 22]}, {
          18: [2, 35],
          25: [2, 35],
          33: [2, 35],
          42: [2, 35],
          43: [2, 35],
          44: [2, 35],
          45: [2, 35],
          46: [2, 35],
          50: [2, 35],
          52: [2, 35],
          54: [1, 40]
        }, {30: 41, 50: [1, 26], 53: 24}, {
          18: [2, 37],
          25: [2, 37],
          33: [2, 37],
          42: [2, 37],
          43: [2, 37],
          44: [2, 37],
          45: [2, 37],
          46: [2, 37],
          50: [2, 37],
          52: [2, 37],
          54: [2, 37]
        }, {33: [1, 42]}, {20: 43, 27: 44, 28: [1, 45], 29: [2, 40]}, {
          23: 46,
          27: 47,
          28: [1, 45],
          29: [2, 42]
        }, {15: [1, 48]}, {
          25: [2, 46],
          30: 51,
          36: 49,
          38: 50,
          41: 55,
          42: [1, 52],
          43: [1, 53],
          44: [1, 54],
          45: [1, 56],
          47: 57,
          48: 58,
          49: 60,
          50: [1, 59],
          52: [1, 25],
          53: 24
        }, {25: [2, 31], 42: [2, 31], 43: [2, 31], 44: [2, 31], 45: [2, 31], 50: [2, 31], 52: [2, 31]}, {
          25: [2, 32],
          42: [2, 32],
          43: [2, 32],
          44: [2, 32],
          45: [2, 32],
          50: [2, 32],
          52: [2, 32]
        }, {
          25: [2, 33],
          42: [2, 33],
          43: [2, 33],
          44: [2, 33],
          45: [2, 33],
          50: [2, 33],
          52: [2, 33]
        }, {25: [1, 61]}, {25: [1, 62]}, {18: [1, 63]}, {
          5: [2, 17],
          12: [2, 17],
          13: [2, 17],
          16: [2, 17],
          24: [2, 17],
          26: [2, 17],
          28: [2, 17],
          29: [2, 17],
          31: [2, 17],
          32: [2, 17],
          34: [2, 17]
        }, {
          18: [2, 50],
          25: [2, 50],
          30: 51,
          33: [2, 50],
          36: 65,
          40: 64,
          41: 55,
          42: [1, 52],
          43: [1, 53],
          44: [1, 54],
          45: [1, 56],
          46: [2, 50],
          47: 66,
          48: 58,
          49: 60,
          50: [1, 59],
          52: [1, 25],
          53: 24
        }, {50: [1, 67]}, {
          18: [2, 34],
          25: [2, 34],
          33: [2, 34],
          42: [2, 34],
          43: [2, 34],
          44: [2, 34],
          45: [2, 34],
          46: [2, 34],
          50: [2, 34],
          52: [2, 34]
        }, {
          5: [2, 18],
          12: [2, 18],
          13: [2, 18],
          16: [2, 18],
          24: [2, 18],
          26: [2, 18],
          28: [2, 18],
          29: [2, 18],
          31: [2, 18],
          32: [2, 18],
          34: [2, 18]
        }, {21: 68, 29: [1, 69]}, {29: [2, 41]}, {
          4: 70,
          6: 3,
          12: [2, 38],
          13: [2, 38],
          16: [2, 38],
          24: [2, 38],
          26: [2, 38],
          29: [2, 38],
          31: [2, 38],
          32: [2, 38],
          34: [2, 38]
        }, {21: 71, 29: [1, 69]}, {29: [2, 43]}, {
          5: [2, 9],
          12: [2, 9],
          13: [2, 9],
          16: [2, 9],
          24: [2, 9],
          26: [2, 9],
          28: [2, 9],
          29: [2, 9],
          31: [2, 9],
          32: [2, 9],
          34: [2, 9]
        }, {25: [2, 44], 37: 72, 47: 73, 48: 58, 49: 60, 50: [1, 74]}, {25: [1, 75]}, {
          18: [2, 23],
          25: [2, 23],
          33: [2, 23],
          42: [2, 23],
          43: [2, 23],
          44: [2, 23],
          45: [2, 23],
          46: [2, 23],
          50: [2, 23],
          52: [2, 23]
        }, {
          18: [2, 24],
          25: [2, 24],
          33: [2, 24],
          42: [2, 24],
          43: [2, 24],
          44: [2, 24],
          45: [2, 24],
          46: [2, 24],
          50: [2, 24],
          52: [2, 24]
        }, {
          18: [2, 25],
          25: [2, 25],
          33: [2, 25],
          42: [2, 25],
          43: [2, 25],
          44: [2, 25],
          45: [2, 25],
          46: [2, 25],
          50: [2, 25],
          52: [2, 25]
        }, {
          18: [2, 26],
          25: [2, 26],
          33: [2, 26],
          42: [2, 26],
          43: [2, 26],
          44: [2, 26],
          45: [2, 26],
          46: [2, 26],
          50: [2, 26],
          52: [2, 26]
        }, {
          18: [2, 27],
          25: [2, 27],
          33: [2, 27],
          42: [2, 27],
          43: [2, 27],
          44: [2, 27],
          45: [2, 27],
          46: [2, 27],
          50: [2, 27],
          52: [2, 27]
        }, {17: 76, 30: 22, 41: 23, 50: [1, 26], 52: [1, 25], 53: 24}, {25: [2, 47]}, {
          18: [2, 29],
          25: [2, 29],
          33: [2, 29],
          46: [2, 29],
          49: 77,
          50: [1, 74]
        }, {
          18: [2, 37],
          25: [2, 37],
          33: [2, 37],
          42: [2, 37],
          43: [2, 37],
          44: [2, 37],
          45: [2, 37],
          46: [2, 37],
          50: [2, 37],
          51: [1, 78],
          52: [2, 37],
          54: [2, 37]
        }, {18: [2, 52], 25: [2, 52], 33: [2, 52], 46: [2, 52], 50: [2, 52]}, {
          12: [2, 13],
          13: [2, 13],
          16: [2, 13],
          24: [2, 13],
          26: [2, 13],
          28: [2, 13],
          29: [2, 13],
          31: [2, 13],
          32: [2, 13],
          34: [2, 13]
        }, {
          12: [2, 14],
          13: [2, 14],
          16: [2, 14],
          24: [2, 14],
          26: [2, 14],
          28: [2, 14],
          29: [2, 14],
          31: [2, 14],
          32: [2, 14],
          34: [2, 14]
        }, {12: [2, 10]}, {18: [2, 21], 25: [2, 21], 33: [2, 21], 46: [2, 21]}, {
          18: [2, 49],
          25: [2, 49],
          33: [2, 49],
          42: [2, 49],
          43: [2, 49],
          44: [2, 49],
          45: [2, 49],
          46: [2, 49],
          50: [2, 49],
          52: [2, 49]
        }, {18: [2, 51], 25: [2, 51], 33: [2, 51], 46: [2, 51]}, {
          18: [2, 36],
          25: [2, 36],
          33: [2, 36],
          42: [2, 36],
          43: [2, 36],
          44: [2, 36],
          45: [2, 36],
          46: [2, 36],
          50: [2, 36],
          52: [2, 36],
          54: [2, 36]
        }, {
          5: [2, 11],
          12: [2, 11],
          13: [2, 11],
          16: [2, 11],
          24: [2, 11],
          26: [2, 11],
          28: [2, 11],
          29: [2, 11],
          31: [2, 11],
          32: [2, 11],
          34: [2, 11]
        }, {30: 79, 50: [1, 26], 53: 24}, {29: [2, 15]}, {
          5: [2, 12],
          12: [2, 12],
          13: [2, 12],
          16: [2, 12],
          24: [2, 12],
          26: [2, 12],
          28: [2, 12],
          29: [2, 12],
          31: [2, 12],
          32: [2, 12],
          34: [2, 12]
        }, {25: [1, 80]}, {25: [2, 45]}, {51: [1, 78]}, {
          5: [2, 20],
          12: [2, 20],
          13: [2, 20],
          16: [2, 20],
          24: [2, 20],
          26: [2, 20],
          28: [2, 20],
          29: [2, 20],
          31: [2, 20],
          32: [2, 20],
          34: [2, 20]
        }, {46: [1, 81]}, {18: [2, 53], 25: [2, 53], 33: [2, 53], 46: [2, 53], 50: [2, 53]}, {
          30: 51,
          36: 82,
          41: 55,
          42: [1, 52],
          43: [1, 53],
          44: [1, 54],
          45: [1, 56],
          50: [1, 26],
          52: [1, 25],
          53: 24
        }, {25: [1, 83]}, {
          5: [2, 19],
          12: [2, 19],
          13: [2, 19],
          16: [2, 19],
          24: [2, 19],
          26: [2, 19],
          28: [2, 19],
          29: [2, 19],
          31: [2, 19],
          32: [2, 19],
          34: [2, 19]
        }, {
          18: [2, 28],
          25: [2, 28],
          33: [2, 28],
          42: [2, 28],
          43: [2, 28],
          44: [2, 28],
          45: [2, 28],
          46: [2, 28],
          50: [2, 28],
          52: [2, 28]
        }, {18: [2, 30], 25: [2, 30], 33: [2, 30], 46: [2, 30], 50: [2, 30]}, {
          5: [2, 16],
          12: [2, 16],
          13: [2, 16],
          16: [2, 16],
          24: [2, 16],
          26: [2, 16],
          28: [2, 16],
          29: [2, 16],
          31: [2, 16],
          32: [2, 16],
          34: [2, 16]
        }],
        defaultActions: {4: [2, 1], 44: [2, 41], 47: [2, 43], 57: [2, 47], 63: [2, 10], 70: [2, 15], 73: [2, 45]},
        parseError: function (a) {
          throw new Error(a)
        },
        parse: function (a) {
          function b() {
            var a;
            return a = c.lexer.lex() || 1, "number" != typeof a && (a = c.symbols_[a] || a), a
          }

          var c = this, d = [0], e = [null], f = [], g = this.table, h = "", i = 0, j = 0, k = 0;
          this.lexer.setInput(a), this.lexer.yy = this.yy, this.yy.lexer = this.lexer, this.yy.parser = this, "undefined" == typeof this.lexer.yylloc && (this.lexer.yylloc = {});
          var l = this.lexer.yylloc;
          f.push(l);
          var m = this.lexer.options && this.lexer.options.ranges;
          "function" == typeof this.yy.parseError && (this.parseError = this.yy.parseError);
          for (var n, o, p, q, r, s, t, u, v, w = {}; ;) {
            if (p = d[d.length - 1], this.defaultActions[p] ? q = this.defaultActions[p] : ((null === n || "undefined" == typeof n) && (n = b()), q = g[p] && g[p][n]), "undefined" == typeof q || !q.length || !q[0]) {
              var x = "";
              if (!k) {
                v = [];
                for (s in g[p])this.terminals_[s] && s > 2 && v.push("'" + this.terminals_[s] + "'");
                x = this.lexer.showPosition ? "Parse error on line " + (i + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + v.join(", ") + ", got '" + (this.terminals_[n] || n) + "'" : "Parse error on line " + (i + 1) + ": Unexpected " + (1 == n ? "end of input" : "'" + (this.terminals_[n] || n) + "'"), this.parseError(x, {
                  text: this.lexer.match,
                  token: this.terminals_[n] || n,
                  line: this.lexer.yylineno,
                  loc: l,
                  expected: v
                })
              }
            }
            if (q[0]instanceof Array && q.length > 1)throw new Error("Parse Error: multiple actions possible at state: " + p + ", token: " + n);
            switch (q[0]) {
              case 1:
                d.push(n), e.push(this.lexer.yytext), f.push(this.lexer.yylloc), d.push(q[1]), n = null, o ? (n = o, o = null) : (j = this.lexer.yyleng, h = this.lexer.yytext, i = this.lexer.yylineno, l = this.lexer.yylloc, k > 0 && k--);
                break;
              case 2:
                if (t = this.productions_[q[1]][1], w.$ = e[e.length - t], w._$ = {
                    first_line: f[f.length - (t || 1)].first_line,
                    last_line: f[f.length - 1].last_line,
                    first_column: f[f.length - (t || 1)].first_column,
                    last_column: f[f.length - 1].last_column
                  }, m && (w._$.range = [f[f.length - (t || 1)].range[0], f[f.length - 1].range[1]]), r = this.performAction.call(w, h, j, i, this.yy, q[1], e, f), "undefined" != typeof r)return r;
                t && (d = d.slice(0, 2 * -1 * t), e = e.slice(0, -1 * t), f = f.slice(0, -1 * t)), d.push(this.productions_[q[1]][0]), e.push(w.$), f.push(w._$), u = g[d[d.length - 2]][d[d.length - 1]], d.push(u);
                break;
              case 3:
                return !0
            }
          }
          return !0
        }
      }, c = function () {
        var a = {
          EOF: 1, parseError: function (a, b) {
            if (!this.yy.parser)throw new Error(a);
            this.yy.parser.parseError(a, b)
          }, setInput: function (a) {
            return this._input = a, this._more = this._less = this.done = !1, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = {
              first_line: 1,
              first_column: 0,
              last_line: 1,
              last_column: 0
            }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this
          }, input: function () {
            var a = this._input[0];
            this.yytext += a, this.yyleng++, this.offset++, this.match += a, this.matched += a;
            var b = a.match(/(?:\r\n?|\n).*/g);
            return b ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), a
          }, unput: function (a) {
            var b = a.length, c = a.split(/(?:\r\n?|\n)/g);
            this._input = a + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - b - 1), this.offset -= b;
            var d = this.match.split(/(?:\r\n?|\n)/g);
            this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), c.length - 1 && (this.yylineno -= c.length - 1);
            var e = this.yylloc.range;
            return this.yylloc = {
              first_line: this.yylloc.first_line,
              last_line: this.yylineno + 1,
              first_column: this.yylloc.first_column,
              last_column: c ? (c.length === d.length ? this.yylloc.first_column : 0) + d[d.length - c.length].length - c[0].length : this.yylloc.first_column - b
            }, this.options.ranges && (this.yylloc.range = [e[0], e[0] + this.yyleng - b]), this
          }, more: function () {
            return this._more = !0, this
          }, less: function (a) {
            this.unput(this.match.slice(a))
          }, pastInput: function () {
            var a = this.matched.substr(0, this.matched.length - this.match.length);
            return (a.length > 20 ? "..." : "") + a.substr(-20).replace(/\n/g, "")
          }, upcomingInput: function () {
            var a = this.match;
            return a.length < 20 && (a += this._input.substr(0, 20 - a.length)), (a.substr(0, 20) + (a.length > 20 ? "..." : "")).replace(/\n/g, "")
          }, showPosition: function () {
            var a = this.pastInput(), b = new Array(a.length + 1).join("-");
            return a + this.upcomingInput() + "\n" + b + "^"
          }, next: function () {
            if (this.done)return this.EOF;
            this._input || (this.done = !0);
            var a, b, c, d, e;
            this._more || (this.yytext = "", this.match = "");
            for (var f = this._currentRules(), g = 0; g < f.length && (c = this._input.match(this.rules[f[g]]), !c || b && !(c[0].length > b[0].length) || (b = c, d = g, this.options.flex)); g++);
            return b ? (e = b[0].match(/(?:\r\n?|\n).*/g), e && (this.yylineno += e.length), this.yylloc = {
              first_line: this.yylloc.last_line,
              last_line: this.yylineno + 1,
              first_column: this.yylloc.last_column,
              last_column: e ? e[e.length - 1].length - e[e.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + b[0].length
            }, this.yytext += b[0], this.match += b[0], this.matches = b, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = !1, this._input = this._input.slice(b[0].length), this.matched += b[0], a = this.performAction.call(this, this.yy, this, f[d], this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = !1), a ? a : void 0) : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), {
              text: "",
              token: null,
              line: this.yylineno
            })
          }, lex: function () {
            var a = this.next();
            return "undefined" != typeof a ? a : this.lex()
          }, begin: function (a) {
            this.conditionStack.push(a)
          }, popState: function () {
            return this.conditionStack.pop()
          }, _currentRules: function () {
            return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules
          }, topState: function () {
            return this.conditionStack[this.conditionStack.length - 2]
          }, pushState: function (a) {
            this.begin(a)
          }
        };
        return a.options = {}, a.performAction = function (a, b, c, d) {
          function e(a, c) {
            return b.yytext = b.yytext.substr(a, b.yyleng - c)
          }

          switch (c) {
            case 0:
              if ("\\\\" === b.yytext.slice(-2) ? (e(0, 1), this.begin("mu")) : "\\" === b.yytext.slice(-1) ? (e(0, 1), this.begin("emu")) : this.begin("mu"), b.yytext)return 12;
              break;
            case 1:
              return 12;
            case 2:
              return this.popState(), 12;
            case 3:
              return b.yytext = b.yytext.substr(5, b.yyleng - 9), this.popState(), 15;
            case 4:
              return 12;
            case 5:
              return e(0, 4), this.popState(), 13;
            case 6:
              return 45;
            case 7:
              return 46;
            case 8:
              return 16;
            case 9:
              return this.popState(), this.begin("raw"), 18;
            case 10:
              return 34;
            case 11:
              return 24;
            case 12:
              return 29;
            case 13:
              return this.popState(), 28;
            case 14:
              return this.popState(), 28;
            case 15:
              return 26;
            case 16:
              return 26;
            case 17:
              return 32;
            case 18:
              return 31;
            case 19:
              this.popState(), this.begin("com");
              break;
            case 20:
              return e(3, 5), this.popState(), 13;
            case 21:
              return 31;
            case 22:
              return 51;
            case 23:
              return 50;
            case 24:
              return 50;
            case 25:
              return 54;
            case 26:
              break;
            case 27:
              return this.popState(), 33;
            case 28:
              return this.popState(), 25;
            case 29:
              return b.yytext = e(1, 2).replace(/\\"/g, '"'), 42;
            case 30:
              return b.yytext = e(1, 2).replace(/\\'/g, "'"), 42;
            case 31:
              return 52;
            case 32:
              return 44;
            case 33:
              return 44;
            case 34:
              return 43;
            case 35:
              return 50;
            case 36:
              return b.yytext = e(1, 2), 50;
            case 37:
              return "INVALID";
            case 38:
              return 5
          }
        }, a.rules = [/^(?:[^\x00]*?(?=(\{\{)))/, /^(?:[^\x00]+)/, /^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/, /^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/, /^(?:[^\x00]*?(?=(\{\{\{\{\/)))/, /^(?:[\s\S]*?--\}\})/, /^(?:\()/, /^(?:\))/, /^(?:\{\{\{\{)/, /^(?:\}\}\}\})/, /^(?:\{\{(~)?>)/, /^(?:\{\{(~)?#)/, /^(?:\{\{(~)?\/)/, /^(?:\{\{(~)?\^\s*(~)?\}\})/, /^(?:\{\{(~)?\s*else\s*(~)?\}\})/, /^(?:\{\{(~)?\^)/, /^(?:\{\{(~)?\s*else\b)/, /^(?:\{\{(~)?\{)/, /^(?:\{\{(~)?&)/, /^(?:\{\{!--)/, /^(?:\{\{![\s\S]*?\}\})/, /^(?:\{\{(~)?)/, /^(?:=)/, /^(?:\.\.)/, /^(?:\.(?=([=~}\s\/.)])))/, /^(?:[\/.])/, /^(?:\s+)/, /^(?:\}(~)?\}\})/, /^(?:(~)?\}\})/, /^(?:"(\\["]|[^"])*")/, /^(?:'(\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\s)])))/, /^(?:false(?=([~}\s)])))/, /^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/, /^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/, /^(?:\[[^\]]*\])/, /^(?:.)/, /^(?:$)/], a.conditions = {
          mu: {
            rules: [6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38],
            inclusive: !1
          },
          emu: {rules: [2], inclusive: !1},
          com: {rules: [5], inclusive: !1},
          raw: {rules: [3, 4], inclusive: !1},
          INITIAL: {rules: [0, 1, 38], inclusive: !0}
        }, a
      }();
      return b.lexer = c, a.prototype = b, b.Parser = a, new a
    }();
    return a = b
  }(), i = function (a) {
    "use strict";
    function b(a, b) {
      return {left: "~" === a.charAt(2), right: "~" === b.charAt(b.length - 3)}
    }

    function c(a, b, c, d, i, k) {
      if (a.sexpr.id.original !== d.path.original)throw new j(a.sexpr.id.original + " doesn't match " + d.path.original, a);
      var l = c && c.program, m = {
        left: a.strip.left,
        right: d.strip.right,
        openStandalone: f(b.statements),
        closeStandalone: e((l || b).statements)
      };
      if (a.strip.right && g(b.statements, null, !0), l) {
        var n = c.strip;
        n.left && h(b.statements, null, !0), n.right && g(l.statements, null, !0), d.strip.left && h(l.statements, null, !0), e(b.statements) && f(l.statements) && (h(b.statements), g(l.statements))
      } else d.strip.left && h(b.statements, null, !0);
      return i ? new this.BlockNode(a, l, b, m, k) : new this.BlockNode(a, b, l, m, k)
    }

    function d(a, b) {
      for (var c = 0, d = a.length; d > c; c++) {
        var i = a[c], j = i.strip;
        if (j) {
          var k = e(a, c, b, "partial" === i.type), l = f(a, c, b), m = j.openStandalone && k, n = j.closeStandalone && l, o = j.inlineStandalone && k && l;
          j.right && g(a, c, !0), j.left && h(a, c, !0), o && (g(a, c), h(a, c) && "partial" === i.type && (i.indent = /([ \t]+$)/.exec(a[c - 1].original) ? RegExp.$1 : "")), m && (g((i.program || i.inverse).statements), h(a, c)), n && (g(a, c), h((i.inverse || i.program).statements))
        }
      }
      return a
    }

    function e(a, b, c) {
      void 0 === b && (b = a.length);
      var d = a[b - 1], e = a[b - 2];
      return d ? "content" === d.type ? (e || !c ? /\r?\n\s*?$/ : /(^|\r?\n)\s*?$/).test(d.original) : void 0 : c
    }

    function f(a, b, c) {
      void 0 === b && (b = -1);
      var d = a[b + 1], e = a[b + 2];
      return d ? "content" === d.type ? (e || !c ? /^\s*?\r?\n/ : /^\s*?(\r?\n|$)/).test(d.original) : void 0 : c
    }

    function g(a, b, c) {
      var d = a[null == b ? 0 : b + 1];
      if (d && "content" === d.type && (c || !d.rightStripped)) {
        var e = d.string;
        d.string = d.string.replace(c ? /^\s+/ : /^[ \t]*\r?\n?/, ""), d.rightStripped = d.string !== e
      }
    }

    function h(a, b, c) {
      var d = a[null == b ? a.length - 1 : b - 1];
      if (d && "content" === d.type && (c || !d.leftStripped)) {
        var e = d.string;
        return d.string = d.string.replace(c ? /\s+$/ : /[ \t]+$/, ""), d.leftStripped = d.string !== e, d.leftStripped
      }
    }

    var i = {}, j = a;
    return i.stripFlags = b, i.prepareBlock = c, i.prepareProgram = d, i
  }(c), j = function (a, b, c, d) {
    "use strict";
    function e(a) {
      return a.constructor === h.ProgramNode ? a : (g.yy = k, g.parse(a))
    }

    var f = {}, g = a, h = b, i = c, j = d.extend;
    f.parser = g;
    var k = {};
    return j(k, i, h), f.parse = e, f
  }(h, g, i, b), k = function (a, b) {
    "use strict";
    function c() {
    }

    function d(a, b, c) {
      if (null == a || "string" != typeof a && a.constructor !== c.AST.ProgramNode)throw new h("You must pass a string or Handlebars AST to Handlebars.precompile. You passed " + a);
      b = b || {}, "data"in b || (b.data = !0), b.compat && (b.useDepths = !0);
      var d = c.parse(a), e = (new c.Compiler).compile(d, b);
      return (new c.JavaScriptCompiler).compile(e, b)
    }

    function e(a, b, c) {
      function d() {
        var d = c.parse(a), e = (new c.Compiler).compile(d, b), f = (new c.JavaScriptCompiler).compile(e, b, void 0, !0);
        return c.template(f)
      }

      if (null == a || "string" != typeof a && a.constructor !== c.AST.ProgramNode)throw new h("You must pass a string or Handlebars AST to Handlebars.compile. You passed " + a);
      b = b || {}, "data"in b || (b.data = !0), b.compat && (b.useDepths = !0);
      var e, f = function (a, b) {
        return e || (e = d()), e.call(this, a, b)
      };
      return f._setup = function (a) {
        return e || (e = d()), e._setup(a)
      }, f._child = function (a, b, c) {
        return e || (e = d()), e._child(a, b, c)
      }, f
    }

    function f(a, b) {
      if (a === b)return !0;
      if (i(a) && i(b) && a.length === b.length) {
        for (var c = 0; c < a.length; c++)if (!f(a[c], b[c]))return !1;
        return !0
      }
    }

    var g = {}, h = a, i = b.isArray, j = [].slice;
    return g.Compiler = c, c.prototype = {
      compiler: c, equals: function (a) {
        var b = this.opcodes.length;
        if (a.opcodes.length !== b)return !1;
        for (var c = 0; b > c; c++) {
          var d = this.opcodes[c], e = a.opcodes[c];
          if (d.opcode !== e.opcode || !f(d.args, e.args))return !1
        }
        for (b = this.children.length, c = 0; b > c; c++)if (!this.children[c].equals(a.children[c]))return !1;
        return !0
      }, guid: 0, compile: function (a, b) {
        this.opcodes = [], this.children = [], this.depths = {list: []}, this.options = b, this.stringParams = b.stringParams, this.trackIds = b.trackIds;
        var c = this.options.knownHelpers;
        if (this.options.knownHelpers = {
            helperMissing: !0,
            blockHelperMissing: !0,
            each: !0,
            "if": !0,
            unless: !0,
            "with": !0,
            log: !0,
            lookup: !0
          }, c)for (var d in c)this.options.knownHelpers[d] = c[d];
        return this.accept(a)
      }, accept: function (a) {
        return this[a.type](a)
      }, program: function (a) {
        for (var b = a.statements, c = 0, d = b.length; d > c; c++)this.accept(b[c]);
        return this.isSimple = 1 === d, this.depths.list = this.depths.list.sort(function (a, b) {
          return a - b
        }), this
      }, compileProgram: function (a) {
        var b, c = (new this.compiler).compile(a, this.options), d = this.guid++;
        this.usePartial = this.usePartial || c.usePartial, this.children[d] = c;
        for (var e = 0, f = c.depths.list.length; f > e; e++)b = c.depths.list[e], 2 > b || this.addDepth(b - 1);
        return d
      }, block: function (a) {
        var b = a.mustache, c = a.program, d = a.inverse;
        c && (c = this.compileProgram(c)), d && (d = this.compileProgram(d));
        var e = b.sexpr, f = this.classifySexpr(e);
        "helper" === f ? this.helperSexpr(e, c, d) : "simple" === f ? (this.simpleSexpr(e), this.opcode("pushProgram", c), this.opcode("pushProgram", d), this.opcode("emptyHash"), this.opcode("blockValue", e.id.original)) : (this.ambiguousSexpr(e, c, d), this.opcode("pushProgram", c), this.opcode("pushProgram", d), this.opcode("emptyHash"), this.opcode("ambiguousBlockValue")), this.opcode("append")
      }, hash: function (a) {
        var b, c, d = a.pairs;
        for (this.opcode("pushHash"), b = 0, c = d.length; c > b; b++)this.pushParam(d[b][1]);
        for (; b--;)this.opcode("assignToHash", d[b][0]);
        this.opcode("popHash")
      }, partial: function (a) {
        var b = a.partialName;
        this.usePartial = !0, a.hash ? this.accept(a.hash) : this.opcode("push", "undefined"), a.context ? this.accept(a.context) : (this.opcode("getContext", 0), this.opcode("pushContext")), this.opcode("invokePartial", b.name, a.indent || ""), this.opcode("append")
      }, content: function (a) {
        a.string && this.opcode("appendContent", a.string)
      }, mustache: function (a) {
        this.sexpr(a.sexpr), a.escaped && !this.options.noEscape ? this.opcode("appendEscaped") : this.opcode("append")
      }, ambiguousSexpr: function (a, b, c) {
        var d = a.id, e = d.parts[0], f = null != b || null != c;
        this.opcode("getContext", d.depth), this.opcode("pushProgram", b), this.opcode("pushProgram", c), this.ID(d), this.opcode("invokeAmbiguous", e, f)
      }, simpleSexpr: function (a) {
        var b = a.id;
        "DATA" === b.type ? this.DATA(b) : b.parts.length ? this.ID(b) : (this.addDepth(b.depth), this.opcode("getContext", b.depth), this.opcode("pushContext")), this.opcode("resolvePossibleLambda")
      }, helperSexpr: function (a, b, c) {
        var d = this.setupFullMustacheParams(a, b, c), e = a.id, f = e.parts[0];
        if (this.options.knownHelpers[f])this.opcode("invokeKnownHelper", d.length, f); else {
          if (this.options.knownHelpersOnly)throw new h("You specified knownHelpersOnly, but used the unknown helper " + f, a);
          e.falsy = !0, this.ID(e), this.opcode("invokeHelper", d.length, e.original, e.isSimple)
        }
      }, sexpr: function (a) {
        var b = this.classifySexpr(a);
        "simple" === b ? this.simpleSexpr(a) : "helper" === b ? this.helperSexpr(a) : this.ambiguousSexpr(a)
      }, ID: function (a) {
        this.addDepth(a.depth), this.opcode("getContext", a.depth);
        var b = a.parts[0];
        b ? this.opcode("lookupOnContext", a.parts, a.falsy, a.isScoped) : this.opcode("pushContext")
      }, DATA: function (a) {
        this.options.data = !0, this.opcode("lookupData", a.id.depth, a.id.parts)
      }, STRING: function (a) {
        this.opcode("pushString", a.string)
      }, NUMBER: function (a) {
        this.opcode("pushLiteral", a.number)
      }, BOOLEAN: function (a) {
        this.opcode("pushLiteral", a.bool)
      }, comment: function () {
      }, opcode: function (a) {
        this.opcodes.push({opcode: a, args: j.call(arguments, 1)})
      }, addDepth: function (a) {
        0 !== a && (this.depths[a] || (this.depths[a] = !0, this.depths.list.push(a)))
      }, classifySexpr: function (a) {
        var b = a.isHelper, c = a.eligibleHelper, d = this.options;
        if (c && !b) {
          var e = a.id.parts[0];
          d.knownHelpers[e] ? b = !0 : d.knownHelpersOnly && (c = !1)
        }
        return b ? "helper" : c ? "ambiguous" : "simple"
      }, pushParams: function (a) {
        for (var b = 0, c = a.length; c > b; b++)this.pushParam(a[b])
      }, pushParam: function (a) {
        this.stringParams ? (a.depth && this.addDepth(a.depth), this.opcode("getContext", a.depth || 0), this.opcode("pushStringParam", a.stringModeValue, a.type), "sexpr" === a.type && this.sexpr(a)) : (this.trackIds && this.opcode("pushId", a.type, a.idName || a.stringModeValue), this.accept(a))
      }, setupFullMustacheParams: function (a, b, c) {
        var d = a.params;
        return this.pushParams(d), this.opcode("pushProgram", b), this.opcode("pushProgram", c), a.hash ? this.hash(a.hash) : this.opcode("emptyHash"), d
      }
    }, g.precompile = d, g.compile = e, g
  }(c, b), l = function (a, b) {
    "use strict";
    function c(a) {
      this.value = a
    }

    function d() {
    }

    var e, f = a.COMPILER_REVISION, g = a.REVISION_CHANGES, h = b;
    d.prototype = {
      nameLookup: function (a, b) {
        return d.isValidJavaScriptVariableName(b) ? a + "." + b : a + "['" + b + "']"
      }, depthedLookup: function (a) {
        return this.aliases.lookup = "this.lookup", 'lookup(depths, "' + a + '")'
      }, compilerInfo: function () {
        var a = f, b = g[a];
        return [a, b]
      }, appendToBuffer: function (a) {
        return this.environment.isSimple ? "return " + a + ";" : {
          appendToBuffer: !0, content: a, toString: function () {
            return "buffer += " + a + ";"
          }
        }
      }, initializeBuffer: function () {
        return this.quotedString("")
      }, namespace: "Handlebars", compile: function (a, b, c, d) {
        this.environment = a, this.options = b, this.stringParams = this.options.stringParams, this.trackIds = this.options.trackIds, this.precompile = !d, this.name = this.environment.name, this.isChild = !!c, this.context = c || {
            programs: [],
            environments: []
          }, this.preamble(), this.stackSlot = 0, this.stackVars = [], this.aliases = {}, this.registers = {list: []}, this.hashes = [], this.compileStack = [], this.inlineStack = [], this.compileChildren(a, b), this.useDepths = this.useDepths || a.depths.list.length || this.options.compat;
        var e, f, g, i = a.opcodes;
        for (f = 0, g = i.length; g > f; f++)e = i[f], this[e.opcode].apply(this, e.args);
        if (this.pushSource(""), this.stackSlot || this.inlineStack.length || this.compileStack.length)throw new h("Compile completed with content left on stack");
        var j = this.createFunctionContext(d);
        if (this.isChild)return j;
        var k = {compiler: this.compilerInfo(), main: j}, l = this.context.programs;
        for (f = 0, g = l.length; g > f; f++)l[f] && (k[f] = l[f]);
        return this.environment.usePartial && (k.usePartial = !0), this.options.data && (k.useData = !0), this.useDepths && (k.useDepths = !0), this.options.compat && (k.compat = !0), d || (k.compiler = JSON.stringify(k.compiler), k = this.objectLiteral(k)), k
      }, preamble: function () {
        this.lastContext = 0, this.source = []
      }, createFunctionContext: function (a) {
        var b = "", c = this.stackVars.concat(this.registers.list);
        c.length > 0 && (b += ", " + c.join(", "));
        for (var d in this.aliases)this.aliases.hasOwnProperty(d) && (b += ", " + d + "=" + this.aliases[d]);
        var e = ["depth0", "helpers", "partials", "data"];
        this.useDepths && e.push("depths");
        var f = this.mergeSource(b);
        return a ? (e.push(f), Function.apply(this, e)) : "function(" + e.join(",") + ") {\n  " + f + "}"
      }, mergeSource: function (a) {
        for (var b, c, d = "", e = !this.forceBuffer, f = 0, g = this.source.length; g > f; f++) {
          var h = this.source[f];
          h.appendToBuffer ? b = b ? b + "\n    + " + h.content : h.content : (b && (d ? d += "buffer += " + b + ";\n  " : (c = !0, d = b + ";\n  "), b = void 0), d += h + "\n  ", this.environment.isSimple || (e = !1))
        }
        return e ? (b || !d) && (d += "return " + (b || '""') + ";\n") : (a += ", buffer = " + (c ? "" : this.initializeBuffer()), d += b ? "return buffer + " + b + ";\n" : "return buffer;\n"), a && (d = "var " + a.substring(2) + (c ? "" : ";\n  ") + d), d
      }, blockValue: function (a) {
        this.aliases.blockHelperMissing = "helpers.blockHelperMissing";
        var b = [this.contextName(0)];
        this.setupParams(a, 0, b);
        var c = this.popStack();
        b.splice(1, 0, c), this.push("blockHelperMissing.call(" + b.join(", ") + ")")
      }, ambiguousBlockValue: function () {
        this.aliases.blockHelperMissing = "helpers.blockHelperMissing";
        var a = [this.contextName(0)];
        this.setupParams("", 0, a, !0), this.flushInline();
        var b = this.topStack();
        a.splice(1, 0, b), this.pushSource("if (!" + this.lastHelper + ") { " + b + " = blockHelperMissing.call(" + a.join(", ") + "); }")
      }, appendContent: function (a) {
        this.pendingContent && (a = this.pendingContent + a), this.pendingContent = a
      }, append: function () {
        this.flushInline();
        var a = this.popStack();
        this.pushSource("if (" + a + " != null) { " + this.appendToBuffer(a) + " }"), this.environment.isSimple && this.pushSource("else { " + this.appendToBuffer("''") + " }")
      }, appendEscaped: function () {
        this.aliases.escapeExpression = "this.escapeExpression", this.pushSource(this.appendToBuffer("escapeExpression(" + this.popStack() + ")"))
      }, getContext: function (a) {
        this.lastContext = a
      }, pushContext: function () {
        this.pushStackLiteral(this.contextName(this.lastContext))
      }, lookupOnContext: function (a, b, c) {
        var d = 0, e = a.length;
        for (c || !this.options.compat || this.lastContext ? this.pushContext() : this.push(this.depthedLookup(a[d++])); e > d; d++)this.replaceStack(function (c) {
          var e = this.nameLookup(c, a[d], "context");
          return b ? " && " + e : " != null ? " + e + " : " + c
        })
      }, lookupData: function (a, b) {
        a ? this.pushStackLiteral("this.data(data, " + a + ")") : this.pushStackLiteral("data");
        for (var c = b.length, d = 0; c > d; d++)this.replaceStack(function (a) {
          return " && " + this.nameLookup(a, b[d], "data")
        })
      }, resolvePossibleLambda: function () {
        this.aliases.lambda = "this.lambda", this.push("lambda(" + this.popStack() + ", " + this.contextName(0) + ")")
      }, pushStringParam: function (a, b) {
        this.pushContext(), this.pushString(b), "sexpr" !== b && ("string" == typeof a ? this.pushString(a) : this.pushStackLiteral(a))
      }, emptyHash: function () {
        this.pushStackLiteral("{}"), this.trackIds && this.push("{}"), this.stringParams && (this.push("{}"), this.push("{}"))
      }, pushHash: function () {
        this.hash && this.hashes.push(this.hash), this.hash = {values: [], types: [], contexts: [], ids: []}
      }, popHash: function () {
        var a = this.hash;
        this.hash = this.hashes.pop(), this.trackIds && this.push("{" + a.ids.join(",") + "}"), this.stringParams && (this.push("{" + a.contexts.join(",") + "}"), this.push("{" + a.types.join(",") + "}")), this.push("{\n    " + a.values.join(",\n    ") + "\n  }")
      }, pushString: function (a) {
        this.pushStackLiteral(this.quotedString(a))
      }, push: function (a) {
        return this.inlineStack.push(a), a
      }, pushLiteral: function (a) {
        this.pushStackLiteral(a)
      }, pushProgram: function (a) {
        null != a ? this.pushStackLiteral(this.programExpression(a)) : this.pushStackLiteral(null)
      }, invokeHelper: function (a, b, c) {
        this.aliases.helperMissing = "helpers.helperMissing";
        var d = this.popStack(), e = this.setupHelper(a, b), f = (c ? e.name + " || " : "") + d + " || helperMissing";
        this.push("((" + f + ").call(" + e.callParams + "))")
      }, invokeKnownHelper: function (a, b) {
        var c = this.setupHelper(a, b);
        this.push(c.name + ".call(" + c.callParams + ")")
      }, invokeAmbiguous: function (a, b) {
        this.aliases.functionType = '"function"', this.aliases.helperMissing = "helpers.helperMissing", this.useRegister("helper");
        var c = this.popStack();
        this.emptyHash();
        var d = this.setupHelper(0, a, b), e = this.lastHelper = this.nameLookup("helpers", a, "helper");
        this.push("((helper = (helper = " + e + " || " + c + ") != null ? helper : helperMissing" + (d.paramsInit ? "),(" + d.paramsInit : "") + ")," + "(typeof helper === functionType ? helper.call(" + d.callParams + ") : helper))")
      }, invokePartial: function (a, b) {
        var c = [this.nameLookup("partials", a, "partial"), "'" + b + "'", "'" + a + "'", this.popStack(), this.popStack(), "helpers", "partials"];
        this.options.data ? c.push("data") : this.options.compat && c.push("undefined"), this.options.compat && c.push("depths"), this.push("this.invokePartial(" + c.join(", ") + ")")
      }, assignToHash: function (a) {
        var b, c, d, e = this.popStack();
        this.trackIds && (d = this.popStack()), this.stringParams && (c = this.popStack(), b = this.popStack());
        var f = this.hash;
        b && f.contexts.push("'" + a + "': " + b), c && f.types.push("'" + a + "': " + c), d && f.ids.push("'" + a + "': " + d), f.values.push("'" + a + "': (" + e + ")")
      }, pushId: function (a, b) {
        "ID" === a || "DATA" === a ? this.pushString(b) : "sexpr" === a ? this.pushStackLiteral("true") : this.pushStackLiteral("null")
      }, compiler: d, compileChildren: function (a, b) {
        for (var c, d, e = a.children, f = 0, g = e.length; g > f; f++) {
          c = e[f], d = new this.compiler;
          var h = this.matchExistingProgram(c);
          null == h ? (this.context.programs.push(""), h = this.context.programs.length, c.index = h, c.name = "program" + h, this.context.programs[h] = d.compile(c, b, this.context, !this.precompile), this.context.environments[h] = c, this.useDepths = this.useDepths || d.useDepths) : (c.index = h, c.name = "program" + h)
        }
      }, matchExistingProgram: function (a) {
        for (var b = 0, c = this.context.environments.length; c > b; b++) {
          var d = this.context.environments[b];
          if (d && d.equals(a))return b
        }
      }, programExpression: function (a) {
        var b = this.environment.children[a], c = (b.depths.list, this.useDepths), d = [b.index, "data"];
        return c && d.push("depths"), "this.program(" + d.join(", ") + ")"
      }, useRegister: function (a) {
        this.registers[a] || (this.registers[a] = !0, this.registers.list.push(a))
      }, pushStackLiteral: function (a) {
        return this.push(new c(a))
      }, pushSource: function (a) {
        this.pendingContent && (this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))), this.pendingContent = void 0), a && this.source.push(a)
      }, pushStack: function (a) {
        this.flushInline();
        var b = this.incrStack();
        return this.pushSource(b + " = " + a + ";"), this.compileStack.push(b), b
      }, replaceStack: function (a) {
        var b, d, e, f = "";
        if (this.isInline(), !this.isInline())throw new h("replaceStack on non-inline");
        var g = this.popStack(!0);
        if (g instanceof c)f = b = g.value, e = !0; else {
          d = !this.stackSlot;
          var i = d ? this.incrStack() : this.topStackName();
          f = "(" + this.push(i) + " = " + g + ")", b = this.topStack()
        }
        var j = a.call(this, b);
        e || this.popStack(), d && this.stackSlot--, this.push("(" + f + j + ")")
      }, incrStack: function () {
        return this.stackSlot++, this.stackSlot > this.stackVars.length && this.stackVars.push("stack" + this.stackSlot), this.topStackName()
      }, topStackName: function () {
        return "stack" + this.stackSlot
      }, flushInline: function () {
        var a = this.inlineStack;
        if (a.length) {
          this.inlineStack = [];
          for (var b = 0, d = a.length; d > b; b++) {
            var e = a[b];
            e instanceof c ? this.compileStack.push(e) : this.pushStack(e)
          }
        }
      }, isInline: function () {
        return this.inlineStack.length
      }, popStack: function (a) {
        var b = this.isInline(), d = (b ? this.inlineStack : this.compileStack).pop();
        if (!a && d instanceof c)return d.value;
        if (!b) {
          if (!this.stackSlot)throw new h("Invalid stack pop");
          this.stackSlot--
        }
        return d
      }, topStack: function () {
        var a = this.isInline() ? this.inlineStack : this.compileStack, b = a[a.length - 1];
        return b instanceof c ? b.value : b
      }, contextName: function (a) {
        return this.useDepths && a ? "depths[" + a + "]" : "depth" + a
      }, quotedString: function (a) {
        return '"' + a.replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029") + '"'
      }, objectLiteral: function (a) {
        var b = [];
        for (var c in a)a.hasOwnProperty(c) && b.push(this.quotedString(c) + ":" + a[c]);
        return "{" + b.join(",") + "}"
      }, setupHelper: function (a, b, c) {
        var d = [], e = this.setupParams(b, a, d, c), f = this.nameLookup("helpers", b, "helper");
        return {params: d, paramsInit: e, name: f, callParams: [this.contextName(0)].concat(d).join(", ")}
      }, setupOptions: function (a, b, c) {
        var d, e, f, g = {}, h = [], i = [], j = [];
        g.name = this.quotedString(a), g.hash = this.popStack(), this.trackIds && (g.hashIds = this.popStack()), this.stringParams && (g.hashTypes = this.popStack(), g.hashContexts = this.popStack()), e = this.popStack(), f = this.popStack(), (f || e) && (f || (f = "this.noop"), e || (e = "this.noop"), g.fn = f, g.inverse = e);
        for (var k = b; k--;)d = this.popStack(), c[k] = d, this.trackIds && (j[k] = this.popStack()), this.stringParams && (i[k] = this.popStack(), h[k] = this.popStack());
        return this.trackIds && (g.ids = "[" + j.join(",") + "]"), this.stringParams && (g.types = "[" + i.join(",") + "]", g.contexts = "[" + h.join(",") + "]"), this.options.data && (g.data = "data"), g
      }, setupParams: function (a, b, c, d) {
        var e = this.objectLiteral(this.setupOptions(a, b, c));
        return d ? (this.useRegister("options"), c.push("options"), "options=" + e) : (c.push(e), "")
      }
    };
    for (var i = "break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "), j = d.RESERVED_WORDS = {}, k = 0, l = i.length; l > k; k++)j[i[k]] = !0;
    return d.isValidJavaScriptVariableName = function (a) {
      return !d.RESERVED_WORDS[a] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)
    }, e = d
  }(d, c), m = function (a, b, c, d, e) {
    "use strict";
    var f, g = a, h = b, i = c.parser, j = c.parse, k = d.Compiler, l = d.compile, m = d.precompile, n = e, o = g.create, p = function () {
      var a = o();
      return a.compile = function (b, c) {
        return l(b, c, a)
      }, a.precompile = function (b, c) {
        return m(b, c, a)
      }, a.AST = h, a.Compiler = k, a.JavaScriptCompiler = n, a.Parser = i, a.parse = j, a
    };
    return g = p(), g.create = p, g["default"] = g, f = g
  }(f, g, j, k, l);
  return m
}), function (a) {
  var b = ["aero", "asia", "biz", "com", "coop", "edu", "gov", "info", "int", "jobs", "mil", "mobi", "museum", "name", "net", "org", "pro", "tel", "travel", "xxx"], c = ["ac", "ad", "ae", "af", "ag", "ai", "al", "am", "an", "ao", "aq", "ar", "as", "at", "au", "aw", "ax", "az", "ba", "bb", "bd", "be", "bf", "bg", "bh", "bi", "bj", "bm", "bn", "bo", "br", "bs", "bt", "bv", "bw", "by", "bz", "ca", "cc", "cd", "cf", "cg", "ch", "ci", "ck", "cl", "cm", "cn", "co", "cr", "cs", "cu", "cv", "cx", "cy", "cz", "de", "dj", "dk", "dm", "do", "dz", "ec", "ee", "eg", "er", "es", "et", "eu", "fi", "fj", "fk", "fm", "fo", "fr", "ga", "gb", "gd", "ge", "gf", "gg", "gh", "gi", "gl", "gm", "gn", "gp", "gq", "gr", "gs", "gt", "gu", "gw", "gy", "hk", "hm", "hn", "hr", "ht", "hu", "id", "ie", "il", "im", "in", "io", "iq", "ir", "is", "it", "je", "jm", "jo", "jp", "ke", "kg", "kh", "ki", "km", "kn", "kp", "kr", "kw", "ky", "kz", "la", "lb", "lc", "li", "lk", "lr", "ls", "lt", "lu", "lv", "ly", "ma", "mc", "md", "me", "mg", "mh", "mk", "ml", "mm", "mn", "mo", "mp", "mq", "mr", "ms", "mt", "mu", "mv", "mw", "mx", "my", "mz", "na", "nc", "ne", "nf", "ng", "ni", "nl", "no", "np", "nr", "nu", "nz", "om", "pa", "pe", "pf", "pg", "ph", "pk", "pl", "pm", "pn", "pr", "ps", "pt", "pw", "py", "qa", "re", "ro", "rs", "ru", "rw", "sa", "sb", "sc", "sd", "se", "sg", "sh", "si", "sj", "sk", "sl", "sm", "sn", "so", "sr", "st", "su", "sv", "sy", "sz", "tc", "td", "tf", "tg", "th", "tj", "tk", "tl", "tm", "tn", "to", "tp", "tr", "tt", "tv", "tw", "tz", "ua", "ug", "uk", "us", "uy", "uz", "va", "vc", "ve", "vg", "vi", "vn", "vu", "wf", "ws", "ye", "yt", "za", "zm", "zw"], d = "^(" + b.join("|") + "|" + c.join("|") + ")$", e = new RegExp(d);
  a.Domo = {
    canonize: function (a) {
      if (!a)return null;
      for (var b = a.split(":")[0].split(".").reverse(), c = !0, d = 0; c && d < b.length;)b[d].match(e) ? d += 1 : c = !1;
      return b.slice(0, d + 1).reverse().join(".")
    }, stripUrl: function (a) {
      if (!a)return null;
      var b = a.match(/:\/\/(.[^/]+)/);
      return b || (b = ("http://" + a).match(/:\/\/(.[^/]+)/)), b ? b[1] : null
    }
  }
}(window), function (a, b, c) {
  "use strict";
  function d(a, c, d, e) {
    for (var f = [], g = 0; g < a.length; g++) {
      var h = a[g];
      if (h) {
        var i = tinycolor(h), j = i.toHsl().l < .5 ? "sp-thumb-el sp-thumb-dark" : "sp-thumb-el sp-thumb-light";
        j += tinycolor.equals(c, h) ? " sp-thumb-active" : "";
        var k = i.toString(e.preferredFormat || "rgb"), l = q ? "background-color:" + i.toRgbString() : "filter:" + i.toFilter();
        f.push('<span title="' + k + '" data-color="' + i.toRgbString() + '" class="' + j + '"><span class="sp-thumb-inner" style="' + l + ';" /></span>')
      } else {
        var m = "sp-clear-display";
        f.push(b("<div />").append(b('<span data-color="" style="background-color:transparent;" class="' + m + '"></span>').attr("title", e.noColorSelectedText)).html())
      }
    }
    return "<div class='sp-cf " + d + "'>" + f.join("") + "</div>"
  }

  function e() {
    for (var a = 0; a < o.length; a++)o[a] && o[a].hide()
  }

  function f(a, c) {
    var d = b.extend({}, n, a);
    return d.callbacks = {
      move: k(d.move, c),
      change: k(d.change, c),
      show: k(d.show, c),
      hide: k(d.hide, c),
      beforeShow: k(d.beforeShow, c)
    }, d
  }

  function g(g, i) {
    function k() {
      if (T.showPaletteOnly && (T.showPalette = !0), Kb.text(T.showPaletteOnly ? T.togglePaletteMoreText : T.togglePaletteLessText), T.palette) {
        lb = T.palette.slice(0), mb = b.isArray(lb[0]) ? lb : [lb], nb = {};
        for (var a = 0; a < mb.length; a++)for (var c = 0; c < mb[a].length; c++) {
          var d = tinycolor(mb[a][c]).toRgbString();
          nb[d] = !0
        }
      }
      vb.toggleClass("sp-flat", U), vb.toggleClass("sp-input-disabled", !T.showInput), vb.toggleClass("sp-alpha-enabled", T.showAlpha), vb.toggleClass("sp-clear-enabled", Xb), vb.toggleClass("sp-buttons-disabled", !T.showButtons), vb.toggleClass("sp-palette-buttons-disabled", !T.togglePaletteOnly), vb.toggleClass("sp-palette-disabled", !T.showPalette), vb.toggleClass("sp-palette-only", T.showPaletteOnly), vb.toggleClass("sp-initial-disabled", !T.showInitial), vb.addClass(T.className).addClass(T.containerClassName), O()
    }

    function n() {
      function a(a) {
        return a.data && a.data.ignore ? (H(b(a.target).closest(".sp-thumb-el").data("color")), K()) : (H(b(a.target).closest(".sp-thumb-el").data("color")), K(), T.hideAfterPaletteSelect && F()), !1
      }

      if (p && vb.find("*:not(input)").attr("unselectable", "on"), k(), Nb && tb.after(Ob).hide(), Xb || Ib.hide(), U)tb.after(vb).hide(); else {
        var c = "parent" === T.appendTo ? tb.parent() : b(T.appendTo);
        1 !== c.length && (c = b("body")), c.append(vb)
      }
      u(), Pb.bind("click.spectrum touchstart.spectrum", function (a) {
        ub || C(), a.stopPropagation(), b(a.target).is("input") || a.preventDefault()
      }), (tb.is(":disabled") || T.disabled === !0) && S(), vb.click(j), Eb.change(B), Eb.bind("paste", function () {
        setTimeout(B, 1)
      }), Eb.keydown(function (a) {
        13 == a.keyCode && B()
      }), Hb.text(T.cancelText), Hb.bind("click.spectrum", function (a) {
        a.stopPropagation(), a.preventDefault(), G(), F()
      }), Ib.attr("title", T.clearText), Ib.bind("click.spectrum", function (a) {
        a.stopPropagation(), a.preventDefault(), Wb = !0, K(), U && N(!0)
      }), Jb.text(T.chooseText), Jb.bind("click.spectrum", function (a) {
        a.stopPropagation(), a.preventDefault(), J() && (N(!0), F())
      }), Kb.text(T.showPaletteOnly ? T.togglePaletteMoreText : T.togglePaletteLessText), Kb.bind("click.spectrum", function (a) {
        a.stopPropagation(), a.preventDefault(), T.showPaletteOnly = !T.showPaletteOnly, T.showPaletteOnly || U || vb.css("left", "-=" + (wb.outerWidth(!0) + 5)), k()
      }), l(Cb, function (a, b, c) {
        kb = a / eb, Wb = !1, c.shiftKey && (kb = Math.round(10 * kb) / 10), K()
      }, z, A), l(zb, function (a, b) {
        hb = parseFloat(b / cb), Wb = !1, T.showAlpha || (kb = 1), K()
      }, z, A), l(xb, function (a, b, c) {
        if (c.shiftKey) {
          if (!rb) {
            var d = ib * _, e = ab - jb * ab, f = Math.abs(a - d) > Math.abs(b - e);
            rb = f ? "x" : "y"
          }
        } else rb = null;
        var g = !rb || "x" === rb, h = !rb || "y" === rb;
        g && (ib = parseFloat(a / _)), h && (jb = parseFloat((ab - b) / ab)), Wb = !1, T.showAlpha || (kb = 1), K()
      }, z, A), Rb ? (H(Rb), L(), Ub = Tb || tinycolor(Rb).format, v(Rb)) : L(), U && D();
      var d = p ? "mousedown.spectrum" : "click.spectrum touchstart.spectrum";
      Fb.delegate(".sp-thumb-el", d, a), Gb.delegate(".sp-thumb-el:nth-child(1)", d, {ignore: !0}, a)
    }

    function u() {
      if (W && a.localStorage) {
        try {
          var c = a.localStorage[W].split(",#");
          c.length > 1 && (delete a.localStorage[W], b.each(c, function (a, b) {
            v(b)
          }))
        } catch (d) {
        }
        try {
          ob = a.localStorage[W].split(";")
        } catch (d) {
        }
      }
    }

    function v(c) {
      if (V) {
        var d = tinycolor(c).toRgbString();
        if (!nb[d] && -1 === b.inArray(d, ob))for (ob.push(d); ob.length > pb;)ob.shift();
        if (W && a.localStorage)try {
          a.localStorage[W] = ob.join(";")
        } catch (e) {
        }
      }
    }

    function w() {
      var a = [];
      if (T.showPalette)for (var b = 0; b < ob.length; b++) {
        var c = tinycolor(ob[b]).toRgbString();
        nb[c] || a.push(ob[b])
      }
      return a.reverse().slice(0, T.maxSelectionSize)
    }

    function x() {
      var a = I(), c = b.map(mb, function (b, c) {
        return d(b, a, "sp-palette-row sp-palette-row-" + c, T)
      });
      u(), ob && c.push(d(w(), a, "sp-palette-row sp-palette-row-selection", T)), Fb.html(c.join(""))
    }

    function y() {
      if (T.showInitial) {
        var a = Sb, b = I();
        Gb.html(d([a, b], b, "sp-palette-row-initial", T))
      }
    }

    function z() {
      (0 >= ab || 0 >= _ || 0 >= cb) && O(), vb.addClass(qb), rb = null, tb.trigger("dragstart.spectrum", [I()])
    }

    function A() {
      vb.removeClass(qb), tb.trigger("dragstop.spectrum", [I()])
    }

    function B() {
      var a = Eb.val();
      if (null !== a && "" !== a || !Xb) {
        var b = tinycolor(a);
        b.isValid() ? (H(b), N(!0)) : Eb.addClass("sp-validation-error")
      } else H(null), N(!0)
    }

    function C() {
      $ ? F() : D()
    }

    function D() {
      var c = b.Event("beforeShow.spectrum");
      return $ ? (O(), void 0) : (tb.trigger(c, [I()]), Y.beforeShow(I()) === !1 || c.isDefaultPrevented() || (e(), $ = !0, b(sb).bind("click.spectrum", E), b(a).bind("resize.spectrum", Z), Ob.addClass("sp-active"), vb.removeClass("sp-hidden"), O(), L(), Sb = I(), y(), Y.show(Sb), tb.trigger("show.spectrum", [Sb])), void 0)
    }

    function E(a) {
      a && "click" == a.type && 2 == a.button || (Vb ? N(!0) : G(), F())
    }

    function F() {
      $ && !U && ($ = !1, b(sb).unbind("click.spectrum", E), b(a).unbind("resize.spectrum", Z), Ob.removeClass("sp-active"), vb.addClass("sp-hidden"), Y.hide(I()), tb.trigger("hide.spectrum", [I()]))
    }

    function G() {
      H(Sb, !0)
    }

    function H(a, b) {
      if (tinycolor.equals(a, I()))return L(), void 0;
      var c, d;
      !a && Xb ? Wb = !0 : (Wb = !1, c = tinycolor(a), d = c.toHsv(), hb = d.h % 360 / 360, ib = d.s, jb = d.v, kb = d.a), L(), c && c.isValid() && !b && (Ub = Tb || c.getFormat())
    }

    function I(a) {
      return a = a || {}, Xb && Wb ? null : tinycolor.fromRatio({
        h: hb,
        s: ib,
        v: jb,
        a: Math.round(100 * kb) / 100
      }, {format: a.format || Ub})
    }

    function J() {
      return !Eb.hasClass("sp-validation-error")
    }

    function K() {
      L(), Y.move(I()), tb.trigger("move.spectrum", [I()])
    }

    function L() {
      Eb.removeClass("sp-validation-error"), M();
      var a = tinycolor.fromRatio({h: hb, s: 1, v: 1});
      xb.css("background-color", a.toHexString());
      var b = Ub;
      1 > kb && (0 !== kb || "name" !== b) && ("hex" === b || "hex3" === b || "hex6" === b || "name" === b) && (b = "rgb");
      var c = I({format: b}), d = "";
      if (Qb.removeClass("sp-clear-display"), Qb.css("background-color", "transparent"), !c && Xb)Qb.addClass("sp-clear-display"); else {
        var e = c.toHexString(), f = c.toRgbString();
        if (q || 1 === c.alpha ? Qb.css("background-color", f) : (Qb.css("background-color", "transparent"), Qb.css("filter", c.toFilter())), T.showAlpha) {
          var g = c.toRgb();
          g.a = 0;
          var h = tinycolor(g).toRgbString(), i = "linear-gradient(left, " + h + ", " + e + ")";
          p ? Bb.css("filter", tinycolor(h).toFilter({gradientType: 1}, e)) : (Bb.css("background", "-webkit-" + i), Bb.css("background", "-moz-" + i), Bb.css("background", "-ms-" + i), Bb.css("background", "linear-gradient(to right, " + h + ", " + e + ")"))
        }
        d = c.toString(b)
      }
      T.showInput && Eb.val(d), T.showPalette && x(), y()
    }

    function M() {
      var a = ib, b = jb;
      if (Xb && Wb)Db.hide(), Ab.hide(), yb.hide(); else {
        Db.show(), Ab.show(), yb.show();
        var c = a * _, d = ab - b * ab;
        c = Math.max(-bb, Math.min(_ - bb, c - bb)), d = Math.max(-bb, Math.min(ab - bb, d - bb)), yb.css({
          top: d + "px",
          left: c + "px"
        });
        var e = kb * eb;
        Db.css({left: e - fb / 2 + "px"});
        var f = hb * cb;
        Ab.css({top: f - gb + "px"})
      }
    }

    function N(a) {
      var b = I(), c = "", d = !tinycolor.equals(b, Sb);
      b && (c = b.toString(Ub), v(b)), Lb && tb.val(c), a && d && (Y.change(b), tb.trigger("change", [b]))
    }

    function O() {
      _ = xb.width(), ab = xb.height(), bb = yb.height(), db = zb.width(), cb = zb.height(), gb = Ab.height(), eb = Cb.width(), fb = Db.width(), U || (vb.css("position", "absolute"), vb.offset(h(vb, Pb))), M(), T.showPalette && x(), tb.trigger("reflow.spectrum")
    }

    function P() {
      tb.show(), Pb.unbind("click.spectrum touchstart.spectrum"), vb.remove(), Ob.remove(), o[Yb.id] = null
    }

    function Q(a, d) {
      return a === c ? b.extend({}, T) : d === c ? T[a] : (T[a] = d, k(), void 0)
    }

    function R() {
      ub = !1, tb.attr("disabled", !1), Pb.removeClass("sp-disabled")
    }

    function S() {
      F(), ub = !0, tb.attr("disabled", !0), Pb.addClass("sp-disabled")
    }

    var T = f(i, g), U = T.flat, V = T.showSelectionPalette, W = T.localStorageKey, X = T.theme, Y = T.callbacks, Z = m(O, 10), $ = !1, _ = 0, ab = 0, bb = 0, cb = 0, db = 0, eb = 0, fb = 0, gb = 0, hb = 0, ib = 0, jb = 0, kb = 1, lb = [], mb = [], nb = {}, ob = T.selectionPalette.slice(0), pb = T.maxSelectionSize, qb = "sp-dragging", rb = null, sb = g.ownerDocument, tb = (sb.body, b(g)), ub = !1, vb = b(t, sb).addClass(X), wb = vb.find(".sp-picker-container"), xb = vb.find(".sp-color"), yb = vb.find(".sp-dragger"), zb = vb.find(".sp-hue"), Ab = vb.find(".sp-slider"), Bb = vb.find(".sp-alpha-inner"), Cb = vb.find(".sp-alpha"), Db = vb.find(".sp-alpha-handle"), Eb = vb.find(".sp-input"), Fb = vb.find(".sp-palette"), Gb = vb.find(".sp-initial"), Hb = vb.find(".sp-cancel"), Ib = vb.find(".sp-clear"), Jb = vb.find(".sp-choose"), Kb = vb.find(".sp-palette-toggle"), Lb = tb.is("input"), Mb = Lb && r && "color" === tb.attr("type"), Nb = Lb && !U, Ob = Nb ? b(s).addClass(X).addClass(T.className).addClass(T.replacerClassName) : b([]), Pb = Nb ? Ob : tb, Qb = Ob.find(".sp-preview-inner"), Rb = T.color || Lb && tb.val(), Sb = !1, Tb = T.preferredFormat, Ub = Tb, Vb = !T.showButtons || T.clickoutFiresChange, Wb = !Rb, Xb = T.allowEmpty && !Mb;
    n();
    var Yb = {
      show: D, hide: F, toggle: C, reflow: O, option: Q, enable: R, disable: S, set: function (a) {
        H(a), N()
      }, get: I, destroy: P, container: vb
    };
    return Yb.id = o.push(Yb) - 1, Yb
  }

  function h(a, c) {
    var d = -6, e = a.outerWidth(), f = a.outerHeight(), g = c.outerHeight(), h = a[0].ownerDocument, i = h.documentElement, j = i.clientWidth + b(h).scrollLeft(), k = i.clientHeight + b(h).scrollTop(), l = c.offset();
    return l.top += g, l.left -= Math.min(l.left, l.left + e > j && j > e ? Math.abs(l.left + e - j) + 15 : 0), l.top -= Math.min(l.top, l.top + f > k && k > f ? Math.abs(f + g - d) : d), l
  }

  function i() {
  }

  function j(a) {
    a.stopPropagation()
  }

  function k(a, b) {
    var c = Array.prototype.slice, d = c.call(arguments, 2);
    return function () {
      return a.apply(b, d.concat(c.call(arguments)))
    }
  }

  function l(c, d, e, f) {
    function g(a) {
      a.stopPropagation && a.stopPropagation(), a.preventDefault && a.preventDefault(), a.returnValue = !1
    }

    function h(a) {
      if (l) {
        if (p && k.documentMode < 9 && !a.button)return j();
        var b = a.originalEvent.touches, e = b ? b[0].pageX : a.pageX, f = b ? b[0].pageY : a.pageY, h = Math.max(0, Math.min(e - m.left, o)), i = Math.max(0, Math.min(f - m.top, n));
        q && g(a), d.apply(c, [h, i, a])
      }
    }

    function i(a) {
      var d = a.which ? 3 == a.which : 2 == a.button;
      d || l || e.apply(c, arguments) !== !1 && (l = !0, n = b(c).height(), o = b(c).width(), m = b(c).offset(), b(k).bind(r), b(k.body).addClass("sp-dragging"), q || h(a), g(a))
    }

    function j() {
      l && (b(k).unbind(r), b(k.body).removeClass("sp-dragging"), f.apply(c, arguments)), l = !1
    }

    d = d || function () {
      }, e = e || function () {
      }, f = f || function () {
      };
    var k = document, l = !1, m = {}, n = 0, o = 0, q = "ontouchstart"in a, r = {};
    r.selectstart = g, r.dragstart = g, r["touchmove mousemove"] = h, r["touchend mouseup"] = j, b(c).bind("touchstart mousedown", i)
  }

  function m(a, b, c) {
    var d;
    return function () {
      var e = this, f = arguments, g = function () {
        d = null, a.apply(e, f)
      };
      c && clearTimeout(d), (c || !d) && (d = setTimeout(g, b))
    }
  }

  var n = {
    beforeShow: i,
    move: i,
    change: i,
    show: i,
    hide: i,
    color: !1,
    flat: !1,
    showInput: !1,
    allowEmpty: !1,
    showButtons: !0,
    clickoutFiresChange: !1,
    showInitial: !1,
    showPalette: !1,
    showPaletteOnly: !1,
    hideAfterPaletteSelect: !1,
    togglePaletteOnly: !1,
    showSelectionPalette: !0,
    localStorageKey: !1,
    appendTo: "body",
    maxSelectionSize: 7,
    cancelText: "cancel",
    chooseText: "choose",
    togglePaletteMoreText: "more",
    togglePaletteLessText: "less",
    clearText: "Clear Color Selection",
    noColorSelectedText: "No Color Selected",
    preferredFormat: !1,
    className: "",
    containerClassName: "",
    replacerClassName: "",
    showAlpha: !1,
    theme: "sp-light",
    palette: [["#ffffff", "#000000", "#ff0000", "#ff8000", "#ffff00", "#008000", "#0000ff", "#4b0082", "#9400d3"]],
    selectionPalette: [],
    disabled: !1
  }, o = [], p = !!/msie/i.exec(a.navigator.userAgent), q = function () {
    function a(a, b) {
      return !!~("" + a).indexOf(b)
    }

    var b = document.createElement("div"), c = b.style;
    return c.cssText = "background-color:rgba(0,0,0,.5)", a(c.backgroundColor, "rgba") || a(c.backgroundColor, "hsla")
  }(), r = function () {
    var a = b("<input type='color' value='!' />")[0];
    return "color" === a.type && "!" !== a.value
  }(), s = ["<div class='sp-replacer'>", "<div class='sp-preview'><div class='sp-preview-inner'></div></div>", "<div class='sp-dd'>&#9660;</div>", "</div>"].join(""), t = function () {
    var a = "";
    if (p)for (var b = 1; 6 >= b; b++)a += "<div class='sp-" + b + "'></div>";
    return ["<div class='sp-container sp-hidden'>", "<div class='sp-palette-container'>", "<div class='sp-palette sp-thumb sp-cf'></div>", "<div class='sp-palette-button-container sp-cf'>", "<button type='button' class='sp-palette-toggle'></button>", "</div>", "</div>", "<div class='sp-picker-container'>", "<div class='sp-top sp-cf'>", "<div class='sp-fill'></div>", "<div class='sp-top-inner'>", "<div class='sp-color'>", "<div class='sp-sat'>", "<div class='sp-val'>", "<div class='sp-dragger'></div>", "</div>", "</div>", "</div>", "<div class='sp-clear sp-clear-display'>", "</div>", "<div class='sp-hue'>", "<div class='sp-slider'></div>", a, "</div>", "</div>", "<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>", "</div>", "<div class='sp-input-container sp-cf'>", "<input class='sp-input' type='text' spellcheck='false'  />", "</div>", "<div class='sp-initial sp-thumb sp-cf'></div>", "<div class='sp-button-container sp-cf'>", "<a class='sp-cancel' href='#'></a>", "<button type='button' class='sp-choose'></button>", "</div>", "</div>", "</div>"].join("")
  }(), u = "spectrum.id";
  b.fn.spectrum = function (a) {
    if ("string" == typeof a) {
      var c = this, d = Array.prototype.slice.call(arguments, 1);
      return this.each(function () {
        var e = o[b(this).data(u)];
        if (e) {
          var f = e[a];
          if (!f)throw new Error("Spectrum: no such method: '" + a + "'");
          "get" == a ? c = e.get() : "container" == a ? c = e.container : "option" == a ? c = e.option.apply(e, d) : "destroy" == a ? (e.destroy(), b(this).removeData(u)) : f.apply(e, d)
        }
      }), c
    }
    return this.spectrum("destroy").each(function () {
      var c = b.extend({}, a, b(this).data()), d = g(this, c);
      b(this).data(u, d.id)
    })
  }, b.fn.spectrum.load = !0, b.fn.spectrum.loadOpts = {}, b.fn.spectrum.draggable = l, b.fn.spectrum.defaults = n, b.spectrum = {}, b.spectrum.localization = {}, b.spectrum.palettes = {}, b.fn.spectrum.processNativeColorInputs = function () {
    r || b("input[type=color]").spectrum({preferredFormat: "hex6"})
  }, function () {
    function b(a) {
      var b = {r: 0, g: 0, b: 0}, d = 1, f = !1, h = !1;
      return "string" == typeof a && (a = H(a)), "object" == typeof a && (a.hasOwnProperty("r") && a.hasOwnProperty("g") && a.hasOwnProperty("b") ? (b = c(a.r, a.g, a.b), f = !0, h = "%" === String(a.r).substr(-1) ? "prgb" : "rgb") : a.hasOwnProperty("h") && a.hasOwnProperty("s") && a.hasOwnProperty("v") ? (a.s = E(a.s), a.v = E(a.v), b = g(a.h, a.s, a.v), f = !0, h = "hsv") : a.hasOwnProperty("h") && a.hasOwnProperty("s") && a.hasOwnProperty("l") && (a.s = E(a.s), a.l = E(a.l), b = e(a.h, a.s, a.l), f = !0, h = "hsl"), a.hasOwnProperty("a") && (d = a.a)), d = x(d), {
        ok: f,
        format: a.format || h,
        r: N(255, O(b.r, 0)),
        g: N(255, O(b.g, 0)),
        b: N(255, O(b.b, 0)),
        a: d
      }
    }

    function c(a, b, c) {
      return {r: 255 * y(a, 255), g: 255 * y(b, 255), b: 255 * y(c, 255)}
    }

    function d(a, b, c) {
      a = y(a, 255), b = y(b, 255), c = y(c, 255);
      var d, e, f = O(a, b, c), g = N(a, b, c), h = (f + g) / 2;
      if (f == g)d = e = 0; else {
        var i = f - g;
        switch (e = h > .5 ? i / (2 - f - g) : i / (f + g), f) {
          case a:
            d = (b - c) / i + (c > b ? 6 : 0);
            break;
          case b:
            d = (c - a) / i + 2;
            break;
          case c:
            d = (a - b) / i + 4
        }
        d /= 6
      }
      return {h: d, s: e, l: h}
    }

    function e(a, b, c) {
      function d(a, b, c) {
        return 0 > c && (c += 1), c > 1 && (c -= 1), 1 / 6 > c ? a + 6 * (b - a) * c : .5 > c ? b : 2 / 3 > c ? a + 6 * (b - a) * (2 / 3 - c) : a
      }

      var e, f, g;
      if (a = y(a, 360), b = y(b, 100), c = y(c, 100), 0 === b)e = f = g = c; else {
        var h = .5 > c ? c * (1 + b) : c + b - c * b, i = 2 * c - h;
        e = d(i, h, a + 1 / 3), f = d(i, h, a), g = d(i, h, a - 1 / 3)
      }
      return {r: 255 * e, g: 255 * f, b: 255 * g}
    }

    function f(a, b, c) {
      a = y(a, 255), b = y(b, 255), c = y(c, 255);
      var d, e, f = O(a, b, c), g = N(a, b, c), h = f, i = f - g;
      if (e = 0 === f ? 0 : i / f, f == g)d = 0; else {
        switch (f) {
          case a:
            d = (b - c) / i + (c > b ? 6 : 0);
            break;
          case b:
            d = (c - a) / i + 2;
            break;
          case c:
            d = (a - b) / i + 4
        }
        d /= 6
      }
      return {h: d, s: e, v: h}
    }

    function g(a, b, c) {
      a = 6 * y(a, 360), b = y(b, 100), c = y(c, 100);
      var d = L.floor(a), e = a - d, f = c * (1 - b), g = c * (1 - e * b), h = c * (1 - (1 - e) * b), i = d % 6, j = [c, g, f, f, h, c][i], k = [h, c, c, g, f, f][i], l = [f, f, h, c, c, g][i];
      return {r: 255 * j, g: 255 * k, b: 255 * l}
    }

    function h(a, b, c, d) {
      var e = [D(M(a).toString(16)), D(M(b).toString(16)), D(M(c).toString(16))];
      return d && e[0].charAt(0) == e[0].charAt(1) && e[1].charAt(0) == e[1].charAt(1) && e[2].charAt(0) == e[2].charAt(1) ? e[0].charAt(0) + e[1].charAt(0) + e[2].charAt(0) : e.join("")
    }

    function i(a, b, c, d) {
      var e = [D(F(d)), D(M(a).toString(16)), D(M(b).toString(16)), D(M(c).toString(16))];
      return e.join("")
    }

    function j(a, b) {
      b = 0 === b ? 0 : b || 10;
      var c = Q(a).toHsl();
      return c.s -= b / 100, c.s = z(c.s), Q(c)
    }

    function k(a, b) {
      b = 0 === b ? 0 : b || 10;
      var c = Q(a).toHsl();
      return c.s += b / 100, c.s = z(c.s), Q(c)
    }

    function l(a) {
      return Q(a).desaturate(100)
    }

    function m(a, b) {
      b = 0 === b ? 0 : b || 10;
      var c = Q(a).toHsl();
      return c.l += b / 100, c.l = z(c.l), Q(c)
    }

    function n(a, b) {
      b = 0 === b ? 0 : b || 10;
      var c = Q(a).toRgb();
      return c.r = O(0, N(255, c.r - M(255 * -(b / 100)))), c.g = O(0, N(255, c.g - M(255 * -(b / 100)))), c.b = O(0, N(255, c.b - M(255 * -(b / 100)))), Q(c)
    }

    function o(a, b) {
      b = 0 === b ? 0 : b || 10;
      var c = Q(a).toHsl();
      return c.l -= b / 100, c.l = z(c.l), Q(c)
    }

    function p(a, b) {
      var c = Q(a).toHsl(), d = (M(c.h) + b) % 360;
      return c.h = 0 > d ? 360 + d : d, Q(c)
    }

    function q(a) {
      var b = Q(a).toHsl();
      return b.h = (b.h + 180) % 360, Q(b)
    }

    function r(a) {
      var b = Q(a).toHsl(), c = b.h;
      return [Q(a), Q({h: (c + 120) % 360, s: b.s, l: b.l}), Q({h: (c + 240) % 360, s: b.s, l: b.l})]
    }

    function s(a) {
      var b = Q(a).toHsl(), c = b.h;
      return [Q(a), Q({h: (c + 90) % 360, s: b.s, l: b.l}), Q({
        h: (c + 180) % 360,
        s: b.s,
        l: b.l
      }), Q({h: (c + 270) % 360, s: b.s, l: b.l})]
    }

    function t(a) {
      var b = Q(a).toHsl(), c = b.h;
      return [Q(a), Q({h: (c + 72) % 360, s: b.s, l: b.l}), Q({h: (c + 216) % 360, s: b.s, l: b.l})]
    }

    function u(a, b, c) {
      b = b || 6, c = c || 30;
      var d = Q(a).toHsl(), e = 360 / c, f = [Q(a)];
      for (d.h = (d.h - (e * b >> 1) + 720) % 360; --b;)d.h = (d.h + e) % 360, f.push(Q(d));
      return f
    }

    function v(a, b) {
      b = b || 6;
      for (var c = Q(a).toHsv(), d = c.h, e = c.s, f = c.v, g = [], h = 1 / b; b--;)g.push(Q({
        h: d,
        s: e,
        v: f
      })), f = (f + h) % 1;
      return g
    }

    function w(a) {
      var b = {};
      for (var c in a)a.hasOwnProperty(c) && (b[a[c]] = c);
      return b
    }

    function x(a) {
      return a = parseFloat(a), (isNaN(a) || 0 > a || a > 1) && (a = 1), a
    }

    function y(a, b) {
      B(a) && (a = "100%");
      var c = C(a);
      return a = N(b, O(0, parseFloat(a))), c && (a = parseInt(a * b, 10) / 100), L.abs(a - b) < 1e-6 ? 1 : a % b / parseFloat(b)
    }

    function z(a) {
      return N(1, O(0, a))
    }

    function A(a) {
      return parseInt(a, 16)
    }

    function B(a) {
      return "string" == typeof a && -1 != a.indexOf(".") && 1 === parseFloat(a)
    }

    function C(a) {
      return "string" == typeof a && -1 != a.indexOf("%")
    }

    function D(a) {
      return 1 == a.length ? "0" + a : "" + a
    }

    function E(a) {
      return 1 >= a && (a = 100 * a + "%"), a
    }

    function F(a) {
      return Math.round(255 * parseFloat(a)).toString(16)
    }

    function G(a) {
      return A(a) / 255
    }

    function H(a) {
      a = a.replace(I, "").replace(J, "").toLowerCase();
      var b = !1;
      if (R[a])a = R[a], b = !0; else if ("transparent" == a)return {r: 0, g: 0, b: 0, a: 0, format: "name"};
      var c;
      return (c = T.rgb.exec(a)) ? {r: c[1], g: c[2], b: c[3]} : (c = T.rgba.exec(a)) ? {
        r: c[1],
        g: c[2],
        b: c[3],
        a: c[4]
      } : (c = T.hsl.exec(a)) ? {h: c[1], s: c[2], l: c[3]} : (c = T.hsla.exec(a)) ? {
        h: c[1],
        s: c[2],
        l: c[3],
        a: c[4]
      } : (c = T.hsv.exec(a)) ? {h: c[1], s: c[2], v: c[3]} : (c = T.hex8.exec(a)) ? {
        a: G(c[1]),
        r: A(c[2]),
        g: A(c[3]),
        b: A(c[4]),
        format: b ? "name" : "hex8"
      } : (c = T.hex6.exec(a)) ? {
        r: A(c[1]),
        g: A(c[2]),
        b: A(c[3]),
        format: b ? "name" : "hex"
      } : (c = T.hex3.exec(a)) ? {
        r: A(c[1] + "" + c[1]),
        g: A(c[2] + "" + c[2]),
        b: A(c[3] + "" + c[3]),
        format: b ? "name" : "hex"
      } : !1
    }

    var I = /^[\s,#]+/, J = /\s+$/, K = 0, L = Math, M = L.round, N = L.min, O = L.max, P = L.random, Q = function U(a, c) {
      if (a = a ? a : "", c = c || {}, a instanceof U)return a;
      if (!(this instanceof U))return new U(a, c);
      var d = b(a);
      this._r = d.r, this._g = d.g, this._b = d.b, this._a = d.a, this._roundA = M(100 * this._a) / 100, this._format = c.format || d.format, this._gradientType = c.gradientType, this._r < 1 && (this._r = M(this._r)), this._g < 1 && (this._g = M(this._g)), this._b < 1 && (this._b = M(this._b)), this._ok = d.ok, this._tc_id = K++
    };
    Q.prototype = {
      isDark: function () {
        return this.getBrightness() < 128
      }, isLight: function () {
        return !this.isDark()
      }, isValid: function () {
        return this._ok
      }, getFormat: function () {
        return this._format
      }, getAlpha: function () {
        return this._a
      }, getBrightness: function () {
        var a = this.toRgb();
        return (299 * a.r + 587 * a.g + 114 * a.b) / 1e3
      }, setAlpha: function (a) {
        return this._a = x(a), this._roundA = M(100 * this._a) / 100, this
      }, toHsv: function () {
        var a = f(this._r, this._g, this._b);
        return {h: 360 * a.h, s: a.s, v: a.v, a: this._a}
      }, toHsvString: function () {
        var a = f(this._r, this._g, this._b), b = M(360 * a.h), c = M(100 * a.s), d = M(100 * a.v);
        return 1 == this._a ? "hsv(" + b + ", " + c + "%, " + d + "%)" : "hsva(" + b + ", " + c + "%, " + d + "%, " + this._roundA + ")"
      }, toHsl: function () {
        var a = d(this._r, this._g, this._b);
        return {h: 360 * a.h, s: a.s, l: a.l, a: this._a}
      }, toHslString: function () {
        var a = d(this._r, this._g, this._b), b = M(360 * a.h), c = M(100 * a.s), e = M(100 * a.l);
        return 1 == this._a ? "hsl(" + b + ", " + c + "%, " + e + "%)" : "hsla(" + b + ", " + c + "%, " + e + "%, " + this._roundA + ")"
      }, toHex: function (a) {
        return h(this._r, this._g, this._b, a)
      }, toHexString: function (a) {
        return "#" + this.toHex(a)
      }, toHex8: function () {
        return i(this._r, this._g, this._b, this._a)
      }, toHex8String: function () {
        return "#" + this.toHex8()
      }, toRgb: function () {
        return {r: M(this._r), g: M(this._g), b: M(this._b), a: this._a}
      }, toRgbString: function () {
        return 1 == this._a ? "rgb(" + M(this._r) + ", " + M(this._g) + ", " + M(this._b) + ")" : "rgba(" + M(this._r) + ", " + M(this._g) + ", " + M(this._b) + ", " + this._roundA + ")"
      }, toPercentageRgb: function () {
        return {
          r: M(100 * y(this._r, 255)) + "%",
          g: M(100 * y(this._g, 255)) + "%",
          b: M(100 * y(this._b, 255)) + "%",
          a: this._a
        }
      }, toPercentageRgbString: function () {
        return 1 == this._a ? "rgb(" + M(100 * y(this._r, 255)) + "%, " + M(100 * y(this._g, 255)) + "%, " + M(100 * y(this._b, 255)) + "%)" : "rgba(" + M(100 * y(this._r, 255)) + "%, " + M(100 * y(this._g, 255)) + "%, " + M(100 * y(this._b, 255)) + "%, " + this._roundA + ")"
      }, toName: function () {
        return 0 === this._a ? "transparent" : this._a < 1 ? !1 : S[h(this._r, this._g, this._b, !0)] || !1
      }, toFilter: function (a) {
        var b = "#" + i(this._r, this._g, this._b, this._a), c = b, d = this._gradientType ? "GradientType = 1, " : "";
        if (a) {
          var e = Q(a);
          c = e.toHex8String()
        }
        return "progid:DXImageTransform.Microsoft.gradient(" + d + "startColorstr=" + b + ",endColorstr=" + c + ")"
      }, toString: function (a) {
        var b = !!a;
        a = a || this._format;
        var c = !1, d = this._a < 1 && this._a >= 0, e = !b && d && ("hex" === a || "hex6" === a || "hex3" === a || "name" === a);
        return e ? "name" === a && 0 === this._a ? this.toName() : this.toRgbString() : ("rgb" === a && (c = this.toRgbString()), "prgb" === a && (c = this.toPercentageRgbString()), ("hex" === a || "hex6" === a) && (c = this.toHexString()), "hex3" === a && (c = this.toHexString(!0)), "hex8" === a && (c = this.toHex8String()), "name" === a && (c = this.toName()), "hsl" === a && (c = this.toHslString()), "hsv" === a && (c = this.toHsvString()), c || this.toHexString())
      }, _applyModification: function (a, b) {
        var c = a.apply(null, [this].concat([].slice.call(b)));
        return this._r = c._r, this._g = c._g, this._b = c._b, this.setAlpha(c._a), this
      }, lighten: function () {
        return this._applyModification(m, arguments)
      }, brighten: function () {
        return this._applyModification(n, arguments)
      }, darken: function () {
        return this._applyModification(o, arguments)
      }, desaturate: function () {
        return this._applyModification(j, arguments)
      }, saturate: function () {
        return this._applyModification(k, arguments)
      }, greyscale: function () {
        return this._applyModification(l, arguments)
      }, spin: function () {
        return this._applyModification(p, arguments)
      }, _applyCombination: function (a, b) {
        return a.apply(null, [this].concat([].slice.call(b)))
      }, analogous: function () {
        return this._applyCombination(u, arguments)
      }, complement: function () {
        return this._applyCombination(q, arguments)
      }, monochromatic: function () {
        return this._applyCombination(v, arguments)
      }, splitcomplement: function () {
        return this._applyCombination(t, arguments)
      }, triad: function () {
        return this._applyCombination(r, arguments)
      }, tetrad: function () {
        return this._applyCombination(s, arguments)
      }
    }, Q.fromRatio = function (a, b) {
      if ("object" == typeof a) {
        var c = {};
        for (var d in a)a.hasOwnProperty(d) && (c[d] = "a" === d ? a[d] : E(a[d]));
        a = c
      }
      return Q(a, b)
    }, Q.equals = function (a, b) {
      return a && b ? Q(a).toRgbString() == Q(b).toRgbString() : !1
    }, Q.random = function () {
      return Q.fromRatio({r: P(), g: P(), b: P()})
    }, Q.mix = function (a, b, c) {
      c = 0 === c ? 0 : c || 50;
      var d, e = Q(a).toRgb(), f = Q(b).toRgb(), g = c / 100, h = 2 * g - 1, i = f.a - e.a;
      d = -1 == h * i ? h : (h + i) / (1 + h * i), d = (d + 1) / 2;
      var j = 1 - d, k = {r: f.r * d + e.r * j, g: f.g * d + e.g * j, b: f.b * d + e.b * j, a: f.a * g + e.a * (1 - g)};
      return Q(k)
    }, Q.readability = function (a, b) {
      var c = Q(a), d = Q(b), e = c.toRgb(), f = d.toRgb(), g = c.getBrightness(), h = d.getBrightness(), i = Math.max(e.r, f.r) - Math.min(e.r, f.r) + Math.max(e.g, f.g) - Math.min(e.g, f.g) + Math.max(e.b, f.b) - Math.min(e.b, f.b);
      return {brightness: Math.abs(g - h), color: i}
    }, Q.isReadable = function (a, b) {
      var c = Q.readability(a, b);
      return c.brightness > 125 && c.color > 500
    }, Q.mostReadable = function (a, b) {
      for (var c = null, d = 0, e = !1, f = 0; f < b.length; f++) {
        var g = Q.readability(a, b[f]), h = g.brightness > 125 && g.color > 500, i = 3 * (g.brightness / 125) + g.color / 500;
        (h && !e || h && e && i > d || !h && !e && i > d) && (e = h, d = i, c = Q(b[f]))
      }
      return c
    };
    var R = Q.names = {
      aliceblue: "f0f8ff",
      antiquewhite: "faebd7",
      aqua: "0ff",
      aquamarine: "7fffd4",
      azure: "f0ffff",
      beige: "f5f5dc",
      bisque: "ffe4c4",
      black: "000",
      blanchedalmond: "ffebcd",
      blue: "00f",
      blueviolet: "8a2be2",
      brown: "a52a2a",
      burlywood: "deb887",
      burntsienna: "ea7e5d",
      cadetblue: "5f9ea0",
      chartreuse: "7fff00",
      chocolate: "d2691e",
      coral: "ff7f50",
      cornflowerblue: "6495ed",
      cornsilk: "fff8dc",
      crimson: "dc143c",
      cyan: "0ff",
      darkblue: "00008b",
      darkcyan: "008b8b",
      darkgoldenrod: "b8860b",
      darkgray: "a9a9a9",
      darkgreen: "006400",
      darkgrey: "a9a9a9",
      darkkhaki: "bdb76b",
      darkmagenta: "8b008b",
      darkolivegreen: "556b2f",
      darkorange: "ff8c00",
      darkorchid: "9932cc",
      darkred: "8b0000",
      darksalmon: "e9967a",
      darkseagreen: "8fbc8f",
      darkslateblue: "483d8b",
      darkslategray: "2f4f4f",
      darkslategrey: "2f4f4f",
      darkturquoise: "00ced1",
      darkviolet: "9400d3",
      deeppink: "ff1493",
      deepskyblue: "00bfff",
      dimgray: "696969",
      dimgrey: "696969",
      dodgerblue: "1e90ff",
      firebrick: "b22222",
      floralwhite: "fffaf0",
      forestgreen: "228b22",
      fuchsia: "f0f",
      gainsboro: "dcdcdc",
      ghostwhite: "f8f8ff",
      gold: "ffd700",
      goldenrod: "daa520",
      gray: "808080",
      green: "008000",
      greenyellow: "adff2f",
      grey: "808080",
      honeydew: "f0fff0",
      hotpink: "ff69b4",
      indianred: "cd5c5c",
      indigo: "4b0082",
      ivory: "fffff0",
      khaki: "f0e68c",
      lavender: "e6e6fa",
      lavenderblush: "fff0f5",
      lawngreen: "7cfc00",
      lemonchiffon: "fffacd",
      lightblue: "add8e6",
      lightcoral: "f08080",
      lightcyan: "e0ffff",
      lightgoldenrodyellow: "fafad2",
      lightgray: "d3d3d3",
      lightgreen: "90ee90",
      lightgrey: "d3d3d3",
      lightpink: "ffb6c1",
      lightsalmon: "ffa07a",
      lightseagreen: "20b2aa",
      lightskyblue: "87cefa",
      lightslategray: "789",
      lightslategrey: "789",
      lightsteelblue: "b0c4de",
      lightyellow: "ffffe0",
      lime: "0f0",
      limegreen: "32cd32",
      linen: "faf0e6",
      magenta: "f0f",
      maroon: "800000",
      mediumaquamarine: "66cdaa",
      mediumblue: "0000cd",
      mediumorchid: "ba55d3",
      mediumpurple: "9370db",
      mediumseagreen: "3cb371",
      mediumslateblue: "7b68ee",
      mediumspringgreen: "00fa9a",
      mediumturquoise: "48d1cc",
      mediumvioletred: "c71585",
      midnightblue: "191970",
      mintcream: "f5fffa",
      mistyrose: "ffe4e1",
      moccasin: "ffe4b5",
      navajowhite: "ffdead",
      navy: "000080",
      oldlace: "fdf5e6",
      olive: "808000",
      olivedrab: "6b8e23",
      orange: "ffa500",
      orangered: "ff4500",
      orchid: "da70d6",
      palegoldenrod: "eee8aa",
      palegreen: "98fb98",
      paleturquoise: "afeeee",
      palevioletred: "db7093",
      papayawhip: "ffefd5",
      peachpuff: "ffdab9",
      peru: "cd853f",
      pink: "ffc0cb",
      plum: "dda0dd",
      powderblue: "b0e0e6",
      purple: "800080",
      red: "f00",
      rosybrown: "bc8f8f",
      royalblue: "4169e1",
      saddlebrown: "8b4513",
      salmon: "fa8072",
      sandybrown: "f4a460",
      seagreen: "2e8b57",
      seashell: "fff5ee",
      sienna: "a0522d",
      silver: "c0c0c0",
      skyblue: "87ceeb",
      slateblue: "6a5acd",
      slategray: "708090",
      slategrey: "708090",
      snow: "fffafa",
      springgreen: "00ff7f",
      steelblue: "4682b4",
      tan: "d2b48c",
      teal: "008080",
      thistle: "d8bfd8",
      tomato: "ff6347",
      turquoise: "40e0d0",
      violet: "ee82ee",
      wheat: "f5deb3",
      white: "fff",
      whitesmoke: "f5f5f5",
      yellow: "ff0",
      yellowgreen: "9acd32"
    }, S = Q.hexNames = w(R), T = function () {
      var a = "[-\\+]?\\d+%?", b = "[-\\+]?\\d*\\.\\d+%?", c = "(?:" + b + ")|(?:" + a + ")", d = "[\\s|\\(]+(" + c + ")[,|\\s]+(" + c + ")[,|\\s]+(" + c + ")\\s*\\)?", e = "[\\s|\\(]+(" + c + ")[,|\\s]+(" + c + ")[,|\\s]+(" + c + ")[,|\\s]+(" + c + ")\\s*\\)?";
      return {
        rgb: new RegExp("rgb" + d),
        rgba: new RegExp("rgba" + e),
        hsl: new RegExp("hsl" + d),
        hsla: new RegExp("hsla" + e),
        hsv: new RegExp("hsv" + d),
        hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
        hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
        hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
      }
    }();
    a.tinycolor = Q
  }(), b(function () {
    b.fn.spectrum.load && b.fn.spectrum.processNativeColorInputs()
  })
}(window, jQuery), function () {
  function a(a) {
    var c = !1;
    return function () {
      if (c)throw new Error("Callback was already called.");
      c = !0, a.apply(b, arguments)
    }
  }

  var b, c, d = {};
  b = this, null != b && (c = b.async), d.noConflict = function () {
    return b.async = c, d
  };
  var e = Object.prototype.toString, f = Array.isArray || function (a) {
      return "[object Array]" === e.call(a)
    }, g = function (a, b) {
    if (a.forEach)return a.forEach(b);
    for (var c = 0; c < a.length; c += 1)b(a[c], c, a)
  }, h = function (a, b) {
    if (a.map)return a.map(b);
    var c = [];
    return g(a, function (a, d, e) {
      c.push(b(a, d, e))
    }), c
  }, i = function (a, b, c) {
    return a.reduce ? a.reduce(b, c) : (g(a, function (a, d, e) {
      c = b(c, a, d, e)
    }), c)
  }, j = function (a) {
    if (Object.keys)return Object.keys(a);
    var b = [];
    for (var c in a)a.hasOwnProperty(c) && b.push(c);
    return b
  };
  "undefined" != typeof process && process.nextTick ? (d.nextTick = process.nextTick, d.setImmediate = "undefined" != typeof setImmediate ? function (a) {
    setImmediate(a)
  } : d.nextTick) : "function" == typeof setImmediate ? (d.nextTick = function (a) {
    setImmediate(a)
  }, d.setImmediate = d.nextTick) : (d.nextTick = function (a) {
    setTimeout(a, 0)
  }, d.setImmediate = d.nextTick), d.each = function (b, c, d) {
    function e(a) {
      a ? (d(a), d = function () {
      }) : (f += 1, f >= b.length && d())
    }

    if (d = d || function () {
        }, !b.length)return d();
    var f = 0;
    g(b, function (b) {
      c(b, a(e))
    })
  }, d.forEach = d.each, d.eachSeries = function (a, b, c) {
    if (c = c || function () {
        }, !a.length)return c();
    var d = 0, e = function () {
      b(a[d], function (b) {
        b ? (c(b), c = function () {
        }) : (d += 1, d >= a.length ? c() : e())
      })
    };
    e()
  }, d.forEachSeries = d.eachSeries, d.eachLimit = function (a, b, c, d) {
    var e = k(b);
    e.apply(null, [a, c, d])
  }, d.forEachLimit = d.eachLimit;
  var k = function (a) {
    return function (b, c, d) {
      if (d = d || function () {
          }, !b.length || 0 >= a)return d();
      var e = 0, f = 0, g = 0;
      !function h() {
        if (e >= b.length)return d();
        for (; a > g && f < b.length;)f += 1, g += 1, c(b[f - 1], function (a) {
          a ? (d(a), d = function () {
          }) : (e += 1, g -= 1, e >= b.length ? d() : h())
        })
      }()
    }
  }, l = function (a) {
    return function () {
      var b = Array.prototype.slice.call(arguments);
      return a.apply(null, [d.each].concat(b))
    }
  }, m = function (a, b) {
    return function () {
      var c = Array.prototype.slice.call(arguments);
      return b.apply(null, [k(a)].concat(c))
    }
  }, n = function (a) {
    return function () {
      var b = Array.prototype.slice.call(arguments);
      return a.apply(null, [d.eachSeries].concat(b))
    }
  }, o = function (a, b, c, d) {
    if (b = h(b, function (a, b) {
        return {index: b, value: a}
      }), d) {
      var e = [];
      a(b, function (a, b) {
        c(a.value, function (c, d) {
          e[a.index] = d, b(c)
        })
      }, function (a) {
        d(a, e)
      })
    } else a(b, function (a, b) {
      c(a.value, function (a) {
        b(a)
      })
    })
  };
  d.map = l(o), d.mapSeries = n(o), d.mapLimit = function (a, b, c, d) {
    return p(b)(a, c, d)
  };
  var p = function (a) {
    return m(a, o)
  };
  d.reduce = function (a, b, c, e) {
    d.eachSeries(a, function (a, d) {
      c(b, a, function (a, c) {
        b = c, d(a)
      })
    }, function (a) {
      e(a, b)
    })
  }, d.inject = d.reduce, d.foldl = d.reduce, d.reduceRight = function (a, b, c, e) {
    var f = h(a, function (a) {
      return a
    }).reverse();
    d.reduce(f, b, c, e)
  }, d.foldr = d.reduceRight;
  var q = function (a, b, c, d) {
    var e = [];
    b = h(b, function (a, b) {
      return {index: b, value: a}
    }), a(b, function (a, b) {
      c(a.value, function (c) {
        c && e.push(a), b()
      })
    }, function () {
      d(h(e.sort(function (a, b) {
        return a.index - b.index
      }), function (a) {
        return a.value
      }))
    })
  };
  d.filter = l(q), d.filterSeries = n(q), d.select = d.filter, d.selectSeries = d.filterSeries;
  var r = function (a, b, c, d) {
    var e = [];
    b = h(b, function (a, b) {
      return {index: b, value: a}
    }), a(b, function (a, b) {
      c(a.value, function (c) {
        c || e.push(a), b()
      })
    }, function () {
      d(h(e.sort(function (a, b) {
        return a.index - b.index
      }), function (a) {
        return a.value
      }))
    })
  };
  d.reject = l(r), d.rejectSeries = n(r);
  var s = function (a, b, c, d) {
    a(b, function (a, b) {
      c(a, function (c) {
        c ? (d(a), d = function () {
        }) : b()
      })
    }, function () {
      d()
    })
  };
  d.detect = l(s), d.detectSeries = n(s), d.some = function (a, b, c) {
    d.each(a, function (a, d) {
      b(a, function (a) {
        a && (c(!0), c = function () {
        }), d()
      })
    }, function () {
      c(!1)
    })
  }, d.any = d.some, d.every = function (a, b, c) {
    d.each(a, function (a, d) {
      b(a, function (a) {
        a || (c(!1), c = function () {
        }), d()
      })
    }, function () {
      c(!0)
    })
  }, d.all = d.every, d.sortBy = function (a, b, c) {
    d.map(a, function (a, c) {
      b(a, function (b, d) {
        b ? c(b) : c(null, {value: a, criteria: d})
      })
    }, function (a, b) {
      if (a)return c(a);
      var d = function (a, b) {
        var c = a.criteria, d = b.criteria;
        return d > c ? -1 : c > d ? 1 : 0
      };
      c(null, h(b.sort(d), function (a) {
        return a.value
      }))
    })
  }, d.auto = function (a, b) {
    b = b || function () {
      };
    var c = j(a), e = c.length;
    if (!e)return b();
    var h = {}, k = [], l = function (a) {
      k.unshift(a)
    }, m = function (a) {
      for (var b = 0; b < k.length; b += 1)if (k[b] === a)return k.splice(b, 1), void 0
    }, n = function () {
      e--, g(k.slice(0), function (a) {
        a()
      })
    };
    l(function () {
      if (!e) {
        var a = b;
        b = function () {
        }, a(null, h)
      }
    }), g(c, function (c) {
      var e = f(a[c]) ? a[c] : [a[c]], k = function (a) {
        var e = Array.prototype.slice.call(arguments, 1);
        if (e.length <= 1 && (e = e[0]), a) {
          var f = {};
          g(j(h), function (a) {
            f[a] = h[a]
          }), f[c] = e, b(a, f), b = function () {
          }
        } else h[c] = e, d.setImmediate(n)
      }, o = e.slice(0, Math.abs(e.length - 1)) || [], p = function () {
        return i(o, function (a, b) {
            return a && h.hasOwnProperty(b)
          }, !0) && !h.hasOwnProperty(c)
      };
      if (p())e[e.length - 1](k, h); else {
        var q = function () {
          p() && (m(q), e[e.length - 1](k, h))
        };
        l(q)
      }
    })
  }, d.retry = function (a, b, c) {
    var e = 5, f = [];
    "function" == typeof a && (c = b, b = a, a = e), a = parseInt(a, 10) || e;
    var g = function (e, g) {
      for (var h = function (a, b) {
        return function (c) {
          a(function (a, d) {
            c(!a || b, {err: a, result: d})
          }, g)
        }
      }; a;)f.push(h(b, !(a -= 1)));
      d.series(f, function (a, b) {
        b = b[b.length - 1], (e || c)(b.err, b.result)
      })
    };
    return c ? g() : g
  }, d.waterfall = function (a, b) {
    if (b = b || function () {
        }, !f(a)) {
      var c = new Error("First argument to waterfall must be an array of functions");
      return b(c)
    }
    if (!a.length)return b();
    var e = function (a) {
      return function (c) {
        if (c)b.apply(null, arguments), b = function () {
        }; else {
          var f = Array.prototype.slice.call(arguments, 1), g = a.next();
          g ? f.push(e(g)) : f.push(b), d.setImmediate(function () {
            a.apply(null, f)
          })
        }
      }
    };
    e(d.iterator(a))()
  };
  var t = function (a, b, c) {
    if (c = c || function () {
        }, f(b))a.map(b, function (a, b) {
      a && a(function (a) {
        var c = Array.prototype.slice.call(arguments, 1);
        c.length <= 1 && (c = c[0]), b.call(null, a, c)
      })
    }, c); else {
      var d = {};
      a.each(j(b), function (a, c) {
        b[a](function (b) {
          var e = Array.prototype.slice.call(arguments, 1);
          e.length <= 1 && (e = e[0]), d[a] = e, c(b)
        })
      }, function (a) {
        c(a, d)
      })
    }
  };
  d.parallel = function (a, b) {
    t({map: d.map, each: d.each}, a, b)
  }, d.parallelLimit = function (a, b, c) {
    t({map: p(b), each: k(b)}, a, c)
  }, d.series = function (a, b) {
    if (b = b || function () {
        }, f(a))d.mapSeries(a, function (a, b) {
      a && a(function (a) {
        var c = Array.prototype.slice.call(arguments, 1);
        c.length <= 1 && (c = c[0]), b.call(null, a, c)
      })
    }, b); else {
      var c = {};
      d.eachSeries(j(a), function (b, d) {
        a[b](function (a) {
          var e = Array.prototype.slice.call(arguments, 1);
          e.length <= 1 && (e = e[0]), c[b] = e, d(a)
        })
      }, function (a) {
        b(a, c)
      })
    }
  }, d.iterator = function (a) {
    var b = function (c) {
      var d = function () {
        return a.length && a[c].apply(null, arguments), d.next()
      };
      return d.next = function () {
        return c < a.length - 1 ? b(c + 1) : null
      }, d
    };
    return b(0)
  }, d.apply = function (a) {
    var b = Array.prototype.slice.call(arguments, 1);
    return function () {
      return a.apply(null, b.concat(Array.prototype.slice.call(arguments)))
    }
  };
  var u = function (a, b, c, d) {
    var e = [];
    a(b, function (a, b) {
      c(a, function (a, c) {
        e = e.concat(c || []), b(a)
      })
    }, function (a) {
      d(a, e)
    })
  };
  d.concat = l(u), d.concatSeries = n(u), d.whilst = function (a, b, c) {
    a() ? b(function (e) {
      return e ? c(e) : (d.whilst(a, b, c), void 0)
    }) : c()
  }, d.doWhilst = function (a, b, c) {
    a(function (e) {
      if (e)return c(e);
      var f = Array.prototype.slice.call(arguments, 1);
      b.apply(null, f) ? d.doWhilst(a, b, c) : c()
    })
  }, d.until = function (a, b, c) {
    a() ? c() : b(function (e) {
      return e ? c(e) : (d.until(a, b, c), void 0)
    })
  }, d.doUntil = function (a, b, c) {
    a(function (e) {
      if (e)return c(e);
      var f = Array.prototype.slice.call(arguments, 1);
      b.apply(null, f) ? c() : d.doUntil(a, b, c)
    })
  }, d.queue = function (b, c) {
    function e(a, b, c, e) {
      return a.started || (a.started = !0), f(b) || (b = [b]), 0 == b.length ? d.setImmediate(function () {
        a.drain && a.drain()
      }) : (g(b, function (b) {
        var f = {data: b, callback: "function" == typeof e ? e : null};
        c ? a.tasks.unshift(f) : a.tasks.push(f), a.saturated && a.tasks.length === a.concurrency && a.saturated(), d.setImmediate(a.process)
      }), void 0)
    }

    void 0 === c && (c = 1);
    var h = 0, i = {
      tasks: [],
      concurrency: c,
      saturated: null,
      empty: null,
      drain: null,
      started: !1,
      paused: !1,
      push: function (a, b) {
        e(i, a, !1, b)
      },
      kill: function () {
        i.drain = null, i.tasks = []
      },
      unshift: function (a, b) {
        e(i, a, !0, b)
      },
      process: function () {
        if (!i.paused && h < i.concurrency && i.tasks.length) {
          var c = i.tasks.shift();
          i.empty && 0 === i.tasks.length && i.empty(), h += 1;
          var d = function () {
            h -= 1, c.callback && c.callback.apply(c, arguments), i.drain && 0 === i.tasks.length + h && i.drain(), i.process()
          }, e = a(d);
          b(c.data, e)
        }
      },
      length: function () {
        return i.tasks.length
      },
      running: function () {
        return h
      },
      idle: function () {
        return 0 === i.tasks.length + h
      },
      pause: function () {
        i.paused !== !0 && (i.paused = !0)
      },
      resume: function () {
        if (i.paused !== !1) {
          i.paused = !1;
          for (var a = 1; a <= i.concurrency; a++)d.setImmediate(i.process)
        }
      }
    };
    return i
  }, d.priorityQueue = function (a, b) {
    function c(a, b) {
      return a.priority - b.priority
    }

    function e(a, b, c) {
      for (var d = -1, e = a.length - 1; e > d;) {
        var f = d + (e - d + 1 >>> 1);
        c(b, a[f]) >= 0 ? d = f : e = f - 1
      }
      return d
    }

    function h(a, b, h, i) {
      return a.started || (a.started = !0), f(b) || (b = [b]), 0 == b.length ? d.setImmediate(function () {
        a.drain && a.drain()
      }) : (g(b, function (b) {
        var f = {data: b, priority: h, callback: "function" == typeof i ? i : null};
        a.tasks.splice(e(a.tasks, f, c) + 1, 0, f), a.saturated && a.tasks.length === a.concurrency && a.saturated(), d.setImmediate(a.process)
      }), void 0)
    }

    var i = d.queue(a, b);
    return i.push = function (a, b, c) {
      h(i, a, b, c)
    }, delete i.unshift, i
  }, d.cargo = function (a, b) {
    var c = !1, e = [], i = {
      tasks: e,
      payload: b,
      saturated: null,
      empty: null,
      drain: null,
      drained: !0,
      push: function (a, c) {
        f(a) || (a = [a]), g(a, function (a) {
          e.push({
            data: a,
            callback: "function" == typeof c ? c : null
          }), i.drained = !1, i.saturated && e.length === b && i.saturated()
        }), d.setImmediate(i.process)
      },
      process: function j() {
        if (!c) {
          if (0 === e.length)return i.drain && !i.drained && i.drain(), i.drained = !0, void 0;
          var d = "number" == typeof b ? e.splice(0, b) : e.splice(0, e.length), f = h(d, function (a) {
            return a.data
          });
          i.empty && i.empty(), c = !0, a(f, function () {
            c = !1;
            var a = arguments;
            g(d, function (b) {
              b.callback && b.callback.apply(null, a)
            }), j()
          })
        }
      },
      length: function () {
        return e.length
      },
      running: function () {
        return c
      }
    };
    return i
  };
  var v = function (a) {
    return function (b) {
      var c = Array.prototype.slice.call(arguments, 1);
      b.apply(null, c.concat([function (b) {
        var c = Array.prototype.slice.call(arguments, 1);
        "undefined" != typeof console && (b ? console.error && console.error(b) : console[a] && g(c, function (b) {
          console[a](b)
        }))
      }]))
    }
  };
  d.log = v("log"), d.dir = v("dir"), d.memoize = function (a, b) {
    var c = {}, e = {};
    b = b || function (a) {
        return a
      };
    var f = function () {
      var f = Array.prototype.slice.call(arguments), g = f.pop(), h = b.apply(null, f);
      h in c ? d.nextTick(function () {
        g.apply(null, c[h])
      }) : h in e ? e[h].push(g) : (e[h] = [g], a.apply(null, f.concat([function () {
        c[h] = arguments;
        var a = e[h];
        delete e[h];
        for (var b = 0, d = a.length; d > b; b++)a[b].apply(null, arguments)
      }])))
    };
    return f.memo = c, f.unmemoized = a, f
  }, d.unmemoize = function (a) {
    return function () {
      return (a.unmemoized || a).apply(null, arguments)
    }
  }, d.times = function (a, b, c) {
    for (var e = [], f = 0; a > f; f++)e.push(f);
    return d.map(e, b, c)
  }, d.timesSeries = function (a, b, c) {
    for (var e = [], f = 0; a > f; f++)e.push(f);
    return d.mapSeries(e, b, c)
  }, d.seq = function () {
    var a = arguments;
    return function () {
      var b = this, c = Array.prototype.slice.call(arguments), e = c.pop();
      d.reduce(a, c, function (a, c, d) {
        c.apply(b, a.concat([function () {
          var a = arguments[0], b = Array.prototype.slice.call(arguments, 1);
          d(a, b)
        }]))
      }, function (a, c) {
        e.apply(b, [a].concat(c))
      })
    }
  }, d.compose = function () {
    return d.seq.apply(null, Array.prototype.reverse.call(arguments))
  };
  var w = function (a, b) {
    var c = function () {
      var c = this, d = Array.prototype.slice.call(arguments), e = d.pop();
      return a(b, function (a, b) {
        a.apply(c, d.concat([b]))
      }, e)
    };
    if (arguments.length > 2) {
      var d = Array.prototype.slice.call(arguments, 2);
      return c.apply(this, d)
    }
    return c
  };
  d.applyEach = l(w), d.applyEachSeries = n(w), d.forever = function (a, b) {
    function c(d) {
      if (d) {
        if (b)return b(d);
        throw d
      }
      a(c)
    }

    c()
  }, "undefined" != typeof module && module.exports ? module.exports = d : "undefined" != typeof define && define.amd ? define([], function () {
    return d
  }) : b.async = d
}();
